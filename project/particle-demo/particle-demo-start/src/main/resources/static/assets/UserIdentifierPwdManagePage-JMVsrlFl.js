import{p as B,r as h}from"./userIdentifierPwdAdminApi-BXp1IRGD.js";import{a as C,g as R}from"./userCompItem-BIkuEm_h.js";import{u as A}from"./userIdentifierPwdManage-CnCFnKuh.js";import{d as M,r as P,a as T,m as k,b as t,o as y,c as D,e as o,w as s,f as F,F as U}from"./index-BGwvwH0Y.js";import"./userAdminApi-mLq-OWKq.js";const E=M({__name:"UserIdentifierPwdManagePage",props:{...C,...R},setup(b){const l=P(null),r=T({form:{},formComps:A({props:b}),tableColumns:k}),a=P({buttonText:"查询",loading:!1,permission:"admin:web:userIdentifierPwd:pageQuery"}),p=()=>{l.value.refreshData()},_=({pageQuery:e})=>B({...r.form,...e}),I={permission:a.value.permission},g=({row:e,column:n,$index:i})=>{if(i<0)return[];let u={id:e.id};return[{txt:"编辑",text:!0,permission:"admin:web:userIdentifierPwd:update",route:{path:"/admin/userIdentifierPwdManageUpdate",query:{id:e.id,userId:e.userId,nickname:e.userNickname,identifierId:e.identifierId,identifier:e.userIdentifier}}},{txt:"删除",text:!0,permission:"admin:web:userIdentifierPwd:delete",methodConfirmText:`删除用户密码会造成用户当前账号无法登录，但不影响其它账号登录。确定要删除 ${e.userIdentifier} 的密码吗？`,method(){return h(u).then(m=>(p(),Promise.resolve(m)))}}]};return(e,n)=>{const i=t("PtButton"),u=t("PtForm"),f=t("PtButtonGroup"),c=t("el-table-column"),m=t("PtTable"),w=t("PtRouteViewPopover");return y(),D(U,null,[o(u,{form:r.form,method:p,defaultButtonsShow:"submit,reset",submitAttrs:a.value,inline:"",comps:r.formComps},{buttons:s(()=>[o(i,{permission:"admin:web:userIdentifierPwd:create",route:"/admin/userIdentifierPwdManageAdd"},{default:s(()=>n[1]||(n[1]=[F("添加")])),_:1})]),_:1},8,["form","submitAttrs","comps"]),o(m,{ref_key:"tableRef",ref:l,"default-expand-all":"",dataMethod:_,onDataMethodDataLoading:n[0]||(n[0]=d=>a.value.loading=d),paginationProps:I,columns:r.tableColumns},{defaultAppend:s(()=>[o(c,{label:"操作",width:"180"},{default:s(({row:d,column:v,$index:x})=>[o(f,{options:g({row:d,column:v,$index:x})},null,8,["options"])]),_:1})]),_:1},8,["columns"]),o(w,{level:3})],64)}}});export{E as default};
