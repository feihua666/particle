import{d as o}from"./dataQueryDatasourceManage.a9d04498.js";import{d as n,a as p,af as D,S as l,ar as d,r as y,b,o as _,h as g,u as h}from"./index.4084dc74.js";const F=n({name:"DataQueryDatasourceManageConfigJsonPage"}),A=n({...F,props:{typeDictValue:{type:String},initData:{type:[Object,String]},success:{type:Function,default:r=>{}}},setup(r){const t=r,a=p({form:{},formData:{}}),i=o[t.typeDictValue]||o.datasource_not_support;D(()=>{if(!t.initData)return;let e={};if(l(t.initData)&&(e=t.initData),d(t.initData))if(!o[t.typeDictValue])e.configJson=t.initData;else try{e=JSON.parse(t.initData)}catch{o[t.typeDictValue]||(e.configJson=t.initData)}for(let s in e)a.form[s]=e[s]});const u=y({buttonText:"\u786E\u8BA4"}),c=()=>()=>{},m=()=>{let e="";return o[t.typeDictValue]?e=JSON.stringify(a.form):e=a.form.configJson,t.success(e),"\u914D\u7F6E\u6210\u529F\uFF0C\u63D0\u4EA4\u6570\u636E\u540E\u751F\u6548"};return(e,s)=>{const f=b("PtForm");return _(),g(f,{form:a.form,formData:a.formData,labelWidth:"80",method:c(),methodSuccess:m,defaultButtonsShow:"submit,reset",submitAttrs:u.value,layout:1,comps:h(i)},null,8,["form","formData","method","submitAttrs","comps"])}}});export{A as _};
