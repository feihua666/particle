import{d as f,r as F,a as h,b as e,o as w,c as E,e as n,w as l,f as x,F as C,ap as v,aq as T}from"./index.661e0f85.js";import{p as R}from"./tenantManage.a5aee2df.js";const M=f({name:"TenantManagePage"}),y=f({...M,setup(U){const c=F(null),a=h({form:{},formComps:R,tableColumns:[{prop:"code",label:"\u79DF\u6237\u7F16\u7801"},{prop:"name",label:"\u79DF\u6237\u540D\u79F0"},{prop:"tenantLogoJson",label:"\u79DF\u6237logo",columnView:"image"},{prop:"isDisabled",label:"\u662F\u5426\u7981\u7528",formatter:(t,u,o,r)=>o?"\u7981\u7528":"\u542F\u7528"},{prop:"disabledReason",label:"\u7981\u7528\u539F\u56E0"},{prop:"userName",label:"\u8054\u7CFB\u4EBA\u59D3\u540D"},{prop:"email",label:"\u8054\u7CFB\u4EBA\u90AE\u7BB1"},{prop:"mobile",label:"\u8054\u7CFB\u4EBA\u7535\u8BDD"},{prop:"tenantDomain",label:"\u79DF\u6237\u57DF\u540D"},{prop:"tenantThemeJson",label:"\u79DF\u6237\u4E3B\u9898"},{prop:"tenantDefaultRouteJson",label:"\u9ED8\u8BA4\u8DEF\u7531"},{prop:"configJson",label:"\u989D\u5916\u914D\u7F6Ejson",showOverflowTooltip:!0},{prop:"remark",label:"\u63CF\u8FF0"}]}),s=F({buttonText:"\u67E5\u8BE2",loading:!1,permission:"admin:web:tenant:pageQuery"}),d=()=>{c.value.refreshData()},D=({pageQuery:t})=>v({...a.form,...t}),_={permission:s.value.permission},B=({row:t,column:u,$index:o})=>{if(o<0)return[];let r={id:t.id},p={tenantId:t.id};return[{txt:"\u7F16\u8F91",text:!0,permission:"admin:web:tenant:update",route:{path:"/admin/TenantManageUpdate",query:r}},{txt:"\u5220\u9664",text:!0,permission:"admin:web:tenant:delete",methodConfirmText:`\u786E\u5B9A\u8981\u5220\u9664 ${t.name} \u5417\uFF1F`,method(){return T({id:t.id}).then(i=>(d(),Promise.resolve(i)))}},{txt:"\u79DF\u6237\u5206\u914D\u5E94\u7528",text:!0,permission:"admin:web:tenantFuncApplication:tenantAssignFuncApplication",route:{path:"/admin/tenant/tenantAssignFuncApplication",query:p}}]};return(t,u)=>{const o=e("PtButton"),r=e("PtForm"),p=e("PtButtonGroup"),b=e("el-table-column"),i=e("PtTable"),g=e("PtRouteViewPopover");return w(),E(C,null,[n(r,{form:a.form,method:d,defaultButtonsShow:"submit,reset",submitAttrs:s.value,inline:"",comps:a.formComps},{buttons:l(()=>[n(o,{permission:"admin:web:tenant:create",route:"/admin/TenantManageAdd"},{default:l(()=>[x("\u6DFB\u52A0")]),_:1})]),_:1},8,["form","submitAttrs","comps"]),n(i,{ref_key:"tableRef",ref:c,"default-expand-all":"",dataMethod:D,onDataMethodDataLoading:u[0]||(u[0]=m=>s.value.loading=m),paginationProps:_,columns:a.tableColumns},{defaultAppend:l(()=>[n(b,{label:"\u64CD\u4F5C",width:"180"},{default:l(({row:m,column:P,$index:A})=>[n(p,{options:B({row:m,column:P,$index:A})},null,8,["options"])]),_:1})]),_:1},8,["columns"]),n(g,{level:3})],64)}}});export{y as default};
