import{p as C,s as P,r as x}from"./navigationSubmitAdminApi.d3e077c0.js";import{p as E}from"./navigationSubmitManage.168030b8.js";import{d as c,r as F,a as h,b as e,o as S,c as w,e as u,w as i,f as T,F as N}from"./index.bcd8c549.js";const M=c({name:"NavigationSubmitManagePage"}),q=c({...M,setup(R){const d=F(null),n=h({form:{},formComps:E,tableColumns:[{prop:"name",label:"\u7F51\u7AD9\u540D\u79F0"},{prop:"title",label:"\u7F51\u7AD9\u6807\u9898"},{prop:"url",label:"\u7F51\u7AD9\u5730\u5740"},{prop:"submitAt",label:"\u63D0\u4EA4\u65F6\u95F4"},{prop:"statusDictName",label:"\u72B6\u6001"},{prop:"remark",label:"\u63CF\u8FF0"}]}),r=F({buttonText:"\u67E5\u8BE2",loading:!1,permission:"admin:web:navigationSubmit:pageQuery"}),m=()=>{d.value.refreshData()},f=({pageQuery:t})=>C({...n.form,...t}),B={permission:r.value.permission},g=({row:t,column:s,$index:l})=>{if(l<0)return[];let a={id:t.id};return[{txt:"\u7F16\u8F91\u5185\u5BB9",text:!0,permission:"admin:web:navigationSubmit:update",route:{path:"/admin/NavigationSubmitManageUpdateContent",query:a}},{txt:"\u786E\u8BA4\u63D0\u4EA4",text:!0,position:"more",permission:"admin:web:navigationSubmit:sureSubmit",methodConfirmText:`\u786E\u5B9A\u8981\u63D0\u4EA4 ${t.name} \u5417\uFF1F\u786E\u4FDD\u5185\u5BB9\u5DF2\u7ECF\u7F16\u8F91\u5B8C\u6210\uFF0C\u63D0\u4EA4\u540E\u5C06\u4F1A\u5728\u7F51\u7AD9\u4E2D\u6DFB\u52A0\u8BE5\u5185\u5BB9\u8BB0\u5F55\uFF0C\u4F46\u4ECD\u9700\u8981\u624B\u52A8\u5173\u8054\u5230\u5206\u7C7B\u4E2D\u624D\u80FD\u4F7F\u7528`,method(){return P({id:t.id}).then(o=>(m(),Promise.resolve(o)))}},{txt:"\u7F16\u8F91",text:!0,position:"more",permission:"admin:web:navigationSubmit:update",route:{path:"/admin/NavigationSubmitManageUpdate",query:a}},{txt:"\u5220\u9664",text:!0,position:"more",permission:"admin:web:navigationSubmit:delete",methodConfirmText:`\u786E\u5B9A\u8981\u5220\u9664 ${t.name} \u5417\uFF1F`,method(){return x({id:t.id}).then(o=>(m(),Promise.resolve(o)))}}]};return(t,s)=>{const l=e("PtButton"),a=e("PtForm"),b=e("PtButtonGroup"),o=e("el-table-column"),_=e("PtTable"),D=e("PtRouteViewPopover");return S(),w(N,null,[u(a,{form:n.form,method:m,defaultButtonsShow:"submit,reset",submitAttrs:r.value,inline:"",comps:n.formComps},{buttons:i(()=>[u(l,{permission:"admin:web:navigationSubmit:create",route:"/admin/NavigationSubmitManageAdd"},{default:i(()=>[T("\u6DFB\u52A0")]),_:1})]),_:1},8,["form","submitAttrs","comps"]),u(_,{ref_key:"tableRef",ref:d,"default-expand-all":"",dataMethod:f,onDataMethodDataLoading:s[0]||(s[0]=p=>r.value.loading=p),paginationProps:B,columns:n.tableColumns},{defaultAppend:i(()=>[u(o,{label:"\u64CD\u4F5C",width:"200"},{default:i(({row:p,column:v,$index:A})=>[u(b,{options:g({row:p,column:v,$index:A}),dropdownTriggerButtonOptions:{text:!0,buttonText:"\u66F4\u591A"}},null,8,["options"])]),_:1})]),_:1},8,["columns"]),u(D,{level:3})],64)}}});export{q as default};
