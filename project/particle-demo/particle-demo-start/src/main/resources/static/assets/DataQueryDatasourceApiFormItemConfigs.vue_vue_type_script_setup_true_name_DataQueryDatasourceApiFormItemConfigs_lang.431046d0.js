import{d as I,r as b,a as x,ad as R,b as c,o as S,c as w,e as u,w as m,F as q,an as U,ao as $,U as Q,h as z,i as V,f as G,T as K}from"./index.661e0f85.js";import{b as M}from"./dataQueryDatasourceApiManage.59dfc43d.js";const H=I({name:"InParamExampleConfig"}),L=I({...H,props:{initJsonStr:{type:String}},setup(f,{expose:h}){const l=f,_=b(null),t=x({initJson:{inParamExamples:[]},form:{},formComps:[{field:{name:"name"},element:{comp:"el-input",formItemProps:{label:"\u793A\u4F8B\u540D\u79F0",required:!0,rules:[{validator:(d,C,s)=>{C?t.initJson.inParamExamples.some(n=>n.name==C)?s(new Error("\u793A\u4F8B\u540D\u79F0\u5DF2\u5B58\u5728")):s():s(new Error("\u793A\u4F8B\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A"))},trigger:"blur"}]},compProps:{clearable:!0}}},{field:{name:"content"},element:{comp:"el-input",formItemProps:{label:"\u793A\u4F8B\u5185\u5BB9",required:!0},compProps:{type:"textarea",rows:15,clearable:!0}}}],tableColumns:[{prop:"name",label:"\u793A\u4F8B\u540D\u79F0"},{prop:"content",label:"\u793A\u4F8B\u5185\u5BB9",showOverflowTooltip:!0}]});R(()=>{l.initJsonStr&&(t.initJson=JSON.parse(l.initJsonStr))});const r=b({buttonText:"\u6DFB\u52A0\u793A\u4F8B"}),o=()=>{t.initJson.inParamExamples.push({name:t.form.name,content:t.form.content})},D=({row:d,column:C,$index:s})=>s<0?[]:[{txt:"\u5220\u9664",text:!0,methodConfirmText:`\u786E\u5B9A\u8981\u5220\u9664 ${d.name} \u5417\uFF1F`,method(){t.initJson.inParamExamples.splice(s,1)}}];return h({getInitJson:()=>t.initJson}),(d,C)=>{const s=c("PtForm"),g=c("PtButtonGroup"),n=c("el-table-column"),F=c("PtTable");return S(),w(q,null,[u(s,{form:t.form,class:"pt-wdith-100-pc",method:o,defaultButtonsShow:"submit,reset",submitAttrs:r.value,layout:1,comps:t.formComps},null,8,["form","submitAttrs","comps"]),u(F,{ref_key:"tableRef",ref:_,options:t.initJson.inParamExamples,columns:t.tableColumns},{defaultAppend:m(()=>[u(n,{label:"\u64CD\u4F5C",width:"180"},{default:m(({row:E,column:i,$index:P})=>[u(g,{options:D({row:E,column:i,$index:P})},null,8,["options"])]),_:1})]),_:1},8,["options","columns"])],64)}}}),W=I({name:"InParamTestCaseDataConfig"}),X=I({...W,props:{initJsonStr:{type:String}},setup(f,{expose:h}){const l=f,_=b(null),t=x({initJson:{inParamTestCases:[]},form:{},formComps:[{field:{name:"name"},element:{comp:"el-input",formItemProps:{label:"\u7528\u4F8B\u540D\u79F0",required:!0,rules:[{validator:(d,C,s)=>{C?t.initJson.inParamTestCases.some(n=>n.name==C)?s(new Error("\u7528\u4F8B\u540D\u79F0\u5DF2\u5B58\u5728")):s():s(new Error("\u7528\u4F8B\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A"))},trigger:"blur"}]},compProps:{clearable:!0}}},{field:{name:"content"},element:{comp:"el-input",formItemProps:{label:"\u7528\u4F8B\u5185\u5BB9",required:!0},compProps:{type:"textarea",rows:15,clearable:!0}}}],tableColumns:[{prop:"name",label:"\u7528\u4F8B\u540D\u79F0"},{prop:"content",label:"\u7528\u4F8B\u5185\u5BB9"}]});R(()=>{l.initJsonStr&&(t.initJson=JSON.parse(l.initJsonStr))});const r=b({buttonText:"\u6DFB\u52A0\u7528\u4F8B"}),o=()=>{t.initJson.inParamTestCases.push({name:t.form.name,content:t.form.content})},D=({row:d,column:C,$index:s})=>s<0?[]:[{txt:"\u5220\u9664",text:!0,methodConfirmText:`\u786E\u5B9A\u8981\u5220\u9664 ${d.name} \u5417\uFF1F`,method(){t.initJson.inParamTestCases.splice(s,1)}}];return h({getInitJson:()=>t.initJson}),(d,C)=>{const s=c("PtForm"),g=c("PtButtonGroup"),n=c("el-table-column"),F=c("PtTable");return S(),w(q,null,[u(s,{form:t.form,class:"pt-wdith-100-pc",method:o,defaultButtonsShow:"submit,reset",submitAttrs:r.value,layout:1,comps:t.formComps},null,8,["form","submitAttrs","comps"]),u(F,{ref_key:"tableRef",ref:_,options:t.initJson.inParamTestCases,columns:t.tableColumns},{defaultAppend:m(()=>[u(n,{label:"\u64CD\u4F5C",width:"180"},{default:m(({row:E,column:i,$index:P})=>[u(g,{options:D({row:E,column:i,$index:P})},null,8,["options"])]),_:1})]),_:1},8,["options","columns"])],64)}}}),Y=I({name:"InParamDocConfig"}),Z=I({...Y,props:{initJsonStr:{type:String},rootInParamType:{type:String,default:M.object}},setup(f,{expose:h}){const l=f;let _=(e,a="success")=>{Q({showClose:!0,message:e,type:a,showIcon:!0,grouping:!0})};const t=b(null),r=b(null),o=x({initJson:{inParamDocs:[]},form:{id:""},tableColumns:[{prop:"name",label:"\u53C2\u6570\u540D\u79F0"},{prop:"description",label:"\u53C2\u6570\u8BF4\u660E"},{prop:"type",label:"\u7C7B\u578B"},{prop:"isRequired",label:"\u662F\u5426\u5FC5\u586B"},{prop:"dictFlag",label:"\u5B57\u5178\u6807\u8BC6"}]}),D=[{field:{name:"name"},element:{comp:"el-input",formItemProps:{label:"\u53C2\u6570\u540D",required:!0,tips:"\u8BF7\u586B\u5199\u5B57\u6BB5\u540D"},compProps:{clearable:!0}}},{field:{name:"description"},element:{comp:"el-input",formItemProps:{label:"\u53C2\u6570\u8BF4\u660E",required:!0},compProps:{clearable:!0}}},{field:{name:"isRequired",value:!1},element:{comp:"el-switch",formItemProps:{label:"\u662F\u5426\u5FC5\u586B",required:!0},compProps:{activeText:"\u5FC5\u586B",inactiveText:"\u9009\u586B"}}},{field:{name:"type"},element:{comp:"PtDictFrontSelect",formItemProps:{label:"\u7C7B\u578B",required:!0},compProps:{dictParam:{groupCode:"dataquery_datasource_api_param_type"},defaultValueItem:e=>e.value==l.rootInParamType,props:{value:"value"}}}},{field:{name:"dictFlag"},element:{comp:"el-input",formItemProps:{label:"\u5B57\u5178\u6807\u8BC6"},compProps:{clearable:!0}}},{field:{name:"parentId"},element:{comp:"PtCascader",formItemProps:{label:"\u7236\u7EA7"},compProps:{disabled:!0,clearable:!0,options:o.initJson.inParamDocs}}}];R(()=>{l.initJsonStr&&(o.initJson.inParamDocs=JSON.parse(l.initJsonStr).inParamDocs)});const d=b({buttonText:"\u4FDD\u5B58\u5165\u53C2\u6587\u6863"}),C=()=>{!o.form.id?s():g()},s=()=>{if(!o.form.parentId&&o.initJson.inParamDocs.length>0){_("\u53EA\u80FD\u6DFB\u52A0\u4E00\u4E2A\u6839\u53C2\u6570","error");return}let e={id:U(),parentId:o.form.parentId,children:[]};n(o.form,e);let a=o.initJson.inParamDocs;e.parentId&&(a=F(e.parentId,o.initJson.inParamDocs).children),a.push(e)},g=()=>{let e=F(o.form.id,o.initJson.inParamDocs);n(o.form,e)},n=(e,a)=>{a.name=e.name,a.description=e.description,a.type=e.type,a.dictFlag=e.dictFlag,a.isRequired=e.isRequired},F=(e,a=[])=>{for(let p=0;p<a.length;p++){let B=a[p];return B.id==e?B:F(e,B.children)}},E=(e,a=[])=>{for(let p=0;p<a.length;p++){let B=a[p];if(B.id==e){a.splice(p,1);return}E(e,B.children)}},i=({row:e,column:a,$index:p})=>{if(p<0)return[];let B=[{txt:"\u4FEE\u6539",text:!0,method(){let J=e;P(),$(()=>{o.form.id=J.id,o.form.name=J.name,o.form.description=J.description,o.form.type=J.type,o.form.dictFlag=J.dictFlag,o.form.parentId=J.parentId,o.form.isRequired=J.isRequired})}},{txt:"\u5220\u9664",text:!0,methodConfirmText:`\u786E\u5B9A\u8981\u5220\u9664 ${e.name} \u5417\uFF1F`,method(){E(e.id,o.initJson.inParamDocs)}}];return(e.type==M.object||e.type==M.array)&&B.push({txt:"\u6DFB\u52A0\u5B50\u7EA7",text:!0,method(){P(),$(()=>{o.form.parentId=e.id})}}),B},P=()=>{var e;(e=t.value)==null||e.resetForm()};return h({getInitJson:()=>o.initJson}),(e,a)=>{const p=c("PtForm"),B=c("PtButtonGroup"),J=c("el-table-column"),N=c("PtTable");return S(),w(q,null,[u(p,{ref_key:"selfFormRef",ref:t,form:o.form,class:"pt-wdith-100-pc",method:C,defaultButtonsShow:"submit,reset",submitAttrs:d.value,inline:"",comps:D},null,8,["form","submitAttrs"]),u(N,{ref_key:"tableRef",ref:r,options:o.initJson.inParamDocs,columns:o.tableColumns,"default-expand-all":""},{defaultAppend:m(()=>[u(J,{label:"\u64CD\u4F5C",width:"180"},{default:m(({row:T,column:j,$index:O})=>[u(B,{options:i({row:T,column:j,$index:O})},null,8,["options"])]),_:1})]),_:1},8,["options","columns"])],64)}}}),ee=I({name:"InParamValidateConfig"}),te=I({...ee,props:{initJsonStr:{type:String}},setup(f,{expose:h}){const l=f,_=b(null),t=x({initJson:{inParamValidateItems:[]},form:{},formComps:[{field:{name:"name"},element:{comp:"el-input",formItemProps:{label:"\u9A8C\u8BC1\u540D\u79F0",required:!0},compProps:{clearable:!0}}},{field:{name:"type"},element:{comp:"PtDictFrontSelect",formItemProps:{label:"\u7C7B\u578B",required:!0},compProps:{dictParam:{groupCode:"dataquery_datasource_api_param_validate_type"},props:{value:"value"}}}},{field:{name:"contentTemplate"},element:{comp:"el-input",formItemProps:{label:"\u9A8C\u8BC1\u5185\u5BB9",required:!0,displayBlock:!0,tips:"enjoy\u793A\u4F8B\uFF1A#(validateResult.setIsSuccess(data.name == 1)) validateResult\u53D8\u91CF\u4E3A\u56FA\u5B9A\u503C\uFF0C\u53EF\u8C03\u7528\u65B9\u6CD5\u8BBE\u7F6E\u6210\u529F\u4E0E\u5931\u8D25\uFF0Cdata\u53D8\u91CF\u4E3A\u53C2\u6570\u53E5\u67C4\u3002<br/>javascript\u793A\u4F8B\uFF1Adata.name == 1\uFF0Cdata\u53D8\u91CF\u4E3A\u53C2\u6570\u53E5\u67C4<br/>groovy\u793A\u4F8B\uFF1Adata.name == 1\uFF0Cdata\u53D8\u91CF\u4E3A\u53C2\u6570\u53E5\u67C4 "},compProps:{type:"textarea",rows:15,clearable:!0}}},{field:{name:"errorMessage"},element:{comp:"el-input",formItemProps:{label:"\u6821\u9A8C\u5931\u8D25\u65F6\u63D0\u793A\u4FE1\u606F",required:!0},compProps:{clearable:!0}}}],tableColumns:[{prop:"name",label:"\u9A8C\u8BC1\u540D\u79F0"},{prop:"type",label:"\u7C7B\u578B"},{prop:"contentTemplate",label:"\u9A8C\u8BC1\u5185\u5BB9",showOverflowTooltip:!0},{prop:"errorMessage",label:"\u6821\u9A8C\u5931\u8D25\u65F6\u63D0\u793A\u4FE1\u606F"}]});R(()=>{l.initJsonStr&&(t.initJson=JSON.parse(l.initJsonStr))});const r=b({buttonText:"\u6DFB\u52A0\u9A8C\u8BC1\u89C4\u5219"}),o=()=>{t.initJson.inParamValidateItems.push({name:t.form.name,type:t.form.type,contentTemplate:t.form.contentTemplate,errorMessage:t.form.errorMessage})},D=({row:d,column:C,$index:s})=>s<0?[]:[{txt:"\u5220\u9664",text:!0,methodConfirmText:`\u786E\u5B9A\u8981\u5220\u9664 ${d.name} \u5417\uFF1F`,method(){t.initJson.inParamValidateItems.splice(s,1)}}];return h({getInitJson:()=>t.initJson}),(d,C)=>{const s=c("PtForm"),g=c("PtButtonGroup"),n=c("el-table-column"),F=c("PtTable");return S(),w(q,null,[u(s,{form:t.form,class:"pt-wdith-100-pc",method:o,defaultButtonsShow:"submit,reset",submitAttrs:r.value,layout:[[8,8],1],inline:"",comps:t.formComps},null,8,["form","submitAttrs","comps"]),u(F,{ref_key:"tableRef",ref:_,options:t.initJson.inParamValidateItems,columns:t.tableColumns},{defaultAppend:m(()=>[u(n,{label:"\u64CD\u4F5C",width:"180"},{default:m(({row:E,column:i,$index:P})=>[u(g,{options:D({row:E,column:i,$index:P})},null,8,["options"])]),_:1})]),_:1},8,["options","columns"])],64)}}}),oe=I({name:"OutParamExampleConfig"}),ue=I({...oe,props:{initJsonStr:{type:String}},setup(f,{expose:h}){const l=f,_=b(null),t=x({initJson:{outParamExamples:[]},form:{},formComps:[{field:{name:"name"},element:{comp:"el-input",formItemProps:{label:"\u793A\u4F8B\u540D\u79F0",required:!0,rules:[{validator:(d,C,s)=>{C?t.initJson.outParamExamples.some(n=>n.name==C)?s(new Error("\u793A\u4F8B\u540D\u79F0\u5DF2\u5B58\u5728")):s():s(new Error("\u793A\u4F8B\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A"))},trigger:"blur"}]},compProps:{clearable:!0}}},{field:{name:"content"},element:{comp:"el-input",formItemProps:{label:"\u793A\u4F8B\u5185\u5BB9",required:!0},compProps:{type:"textarea",rows:15,clearable:!0}}}],tableColumns:[{prop:"name",label:"\u793A\u4F8B\u540D\u79F0"},{prop:"content",label:"\u793A\u4F8B\u5185\u5BB9",showOverflowTooltip:!0}]});R(()=>{l.initJsonStr&&(t.initJson=JSON.parse(l.initJsonStr))});const r=b({buttonText:"\u6DFB\u52A0\u793A\u4F8B"}),o=()=>{t.initJson.outParamExamples.push({name:t.form.name,content:t.form.content})},D=({row:d,column:C,$index:s})=>s<0?[]:[{txt:"\u5220\u9664",text:!0,methodConfirmText:`\u786E\u5B9A\u8981\u5220\u9664 ${d.name} \u5417\uFF1F`,method(){t.initJson.outParamExamples.splice(s,1)}}];return h({getInitJson:()=>t.initJson}),(d,C)=>{const s=c("PtForm"),g=c("PtButtonGroup"),n=c("el-table-column"),F=c("PtTable");return S(),w(q,null,[u(s,{form:t.form,class:"pt-wdith-100-pc",method:o,defaultButtonsShow:"submit,reset",submitAttrs:r.value,layout:1,comps:t.formComps},null,8,["form","submitAttrs","comps"]),u(F,{ref_key:"tableRef",ref:_,options:t.initJson.outParamExamples,columns:t.tableColumns},{defaultAppend:m(()=>[u(n,{label:"\u64CD\u4F5C",width:"180"},{default:m(({row:E,column:i,$index:P})=>[u(g,{options:D({row:E,column:i,$index:P})},null,8,["options"])]),_:1})]),_:1},8,["options","columns"])],64)}}}),ne=I({name:"OutParamSuccessConfig"}),ae=I({...ne,props:{initJsonStr:{type:String}},setup(f,{expose:h}){const l=f,_=b(null),t=x({initJson:{outParamValidateItems:[]},form:{},formComps:[{field:{name:"name"},element:{comp:"el-input",formItemProps:{label:"\u9A8C\u8BC1\u540D\u79F0",required:!0},compProps:{clearable:!0}}},{field:{name:"type"},element:{comp:"PtDictFrontSelect",formItemProps:{label:"\u7C7B\u578B",required:!0},compProps:{dictParam:{groupCode:"dataquery_datasource_api_param_validate_type"},props:{value:"value"}}}},{field:{name:"contentTemplate"},element:{comp:"el-input",formItemProps:{label:"\u9A8C\u8BC1\u5185\u5BB9",required:!0,displayBlock:!0,tips:"enjoy\u793A\u4F8B\uFF1A#(validateResult.setIsSuccess(data.name == 1)) validateResult\u53D8\u91CF\u4E3A\u56FA\u5B9A\u503C\uFF0C\u53EF\u8C03\u7528\u65B9\u6CD5\u8BBE\u7F6E\u6210\u529F\u4E0E\u5931\u8D25\uFF0Cdata\u53D8\u91CF\u4E3A\u53C2\u6570\u53E5\u67C4\u3002<br/>javascript\u793A\u4F8B\uFF1Adata.name == 1\uFF0Cdata\u53D8\u91CF\u4E3A\u53C2\u6570\u53E5\u67C4<br/>groovy\u793A\u4F8B\uFF1Adata.name == 1\uFF0Cdata\u53D8\u91CF\u4E3A\u53C2\u6570\u53E5\u67C4 "},compProps:{type:"textarea",rows:15,clearable:!0}}},{field:{name:"errorMessage"},element:{comp:"el-input",formItemProps:{label:"\u6821\u9A8C\u5931\u8D25\u65F6\u63D0\u793A\u4FE1\u606F",required:!0},compProps:{clearable:!0}}}],tableColumns:[{prop:"name",label:"\u9A8C\u8BC1\u540D\u79F0"},{prop:"type",label:"\u7C7B\u578B"},{prop:"contentTemplate",label:"\u9A8C\u8BC1\u5185\u5BB9",showOverflowTooltip:!0},{prop:"errorMessage",label:"\u6821\u9A8C\u5931\u8D25\u65F6\u63D0\u793A\u4FE1\u606F"}]});R(()=>{l.initJsonStr&&(t.initJson=JSON.parse(l.initJsonStr))});const r=b({buttonText:"\u6DFB\u52A0\u9A8C\u8BC1\u89C4\u5219"}),o=()=>{t.initJson.outParamValidateItems.push({name:t.form.name,type:t.form.type,contentTemplate:t.form.contentTemplate,errorMessage:t.form.errorMessage})},D=({row:d,column:C,$index:s})=>s<0?[]:[{txt:"\u5220\u9664",text:!0,methodConfirmText:`\u786E\u5B9A\u8981\u5220\u9664 ${d.name} \u5417\uFF1F`,method(){t.initJson.outParamValidateItems.splice(s,1)}}];return h({getInitJson:()=>t.initJson}),(d,C)=>{const s=c("PtForm"),g=c("PtButtonGroup"),n=c("el-table-column"),F=c("PtTable");return S(),w(q,null,[u(s,{form:t.form,class:"pt-wdith-100-pc",method:o,defaultButtonsShow:"submit,reset",submitAttrs:r.value,layout:[[8,8],1],inline:"",comps:t.formComps},null,8,["form","submitAttrs","comps"]),u(F,{ref_key:"tableRef",ref:_,options:t.initJson.outParamValidateItems,columns:t.tableColumns},{defaultAppend:m(()=>[u(n,{label:"\u64CD\u4F5C",width:"180"},{default:m(({row:E,column:i,$index:P})=>[u(g,{options:D({row:E,column:i,$index:P})},null,8,["options"])]),_:1})]),_:1},8,["options","columns"])],64)}}}),re=I({name:"OutParamDocConfig"}),le=I({...re,props:{initJsonStr:{type:String},rootInParamType:{type:String,default:M.object}},setup(f,{expose:h}){const l=f,_=b(null),t=b(null),r=x({initJson:{outParamDocs:[]},form:{id:""},tableColumns:[{prop:"name",label:"\u53C2\u6570\u540D\u79F0"},{prop:"description",label:"\u53C2\u6570\u8BF4\u660E"},{prop:"type",label:"\u7C7B\u578B"},{prop:"dictFlag",label:"\u5B57\u5178\u6807\u8BC6"}]}),o=[{field:{name:"name"},element:{comp:"el-input",formItemProps:{label:"\u53C2\u6570\u540D",required:!0,tips:"\u8BF7\u586B\u5199\u5B57\u6BB5\u540D"},compProps:{clearable:!0}}},{field:{name:"description"},element:{comp:"el-input",formItemProps:{label:"\u53C2\u6570\u8BF4\u660E",required:!0},compProps:{clearable:!0}}},{field:{name:"type"},element:{comp:"PtDictFrontSelect",formItemProps:{label:"\u7C7B\u578B",required:!0},compProps:{dictParam:{groupCode:"dataquery_datasource_api_param_type"},defaultValueItem:i=>i.value==l.rootInParamType,props:{value:"value"}}}},{field:{name:"dictFlag"},element:{comp:"el-input",formItemProps:{label:"\u5B57\u5178\u6807\u8BC6"},compProps:{clearable:!0}}},{field:{name:"parentId"},element:{comp:"PtCascader",formItemProps:{label:"\u7236\u7EA7"},compProps:{disabled:!0,clearable:!0,options:r.initJson.outParamDocs}}}];R(()=>{l.initJsonStr&&(r.initJson.outParamDocs=JSON.parse(l.initJsonStr).outParamDocs)});const D=b({buttonText:"\u4FDD\u5B58\u51FA\u53C2\u6587\u6863"}),d=()=>{!r.form.id?C():s()},C=()=>{let i={id:U(),name:r.form.name,description:r.form.description,type:r.form.type,dictFlag:r.form.dictFlag,parentId:r.form.parentId,children:[]},P=r.initJson.outParamDocs;i.parentId&&(P=g(i.parentId,r.initJson.outParamDocs).children),P.push(i)},s=()=>{let i=g(r.form.id,r.initJson.outParamDocs);i.name=r.form.name,i.description=r.form.description,i.type=r.form.type,i.dictFlag=r.form.dictFlag},g=(i,P=[])=>{for(let e=0;e<P.length;e++){let a=P[e];return a.id==i?a:g(i,a.children)}},n=(i,P=[])=>{for(let e=0;e<P.length;e++){let a=P[e];if(a.id==i){P.splice(e,1);return}n(i,a.children)}},F=({row:i,column:P,$index:e})=>{if(e<0)return[];let a=[{txt:"\u4FEE\u6539",text:!0,method(){let p=i;E(),$(()=>{r.form.id=p.id,r.form.name=p.name,r.form.description=p.description,r.form.type=p.type,r.form.dictFlag=p.dictFlag,r.form.parentId=p.parentId})}},{txt:"\u5220\u9664",text:!0,methodConfirmText:`\u786E\u5B9A\u8981\u5220\u9664 ${i.name} \u5417\uFF1F`,method(){n(i.id,r.initJson.outParamDocs)}}];return(i.type==M.object||i.type==M.array)&&a.push({txt:"\u6DFB\u52A0\u5B50\u7EA7",text:!0,method(){E(),$(()=>{r.form.parentId=i.id})}}),a},E=()=>{var i;(i=_.value)==null||i.resetForm()};return h({getInitJson:()=>r.initJson}),(i,P)=>{const e=c("PtForm"),a=c("PtButtonGroup"),p=c("el-table-column"),B=c("PtTable");return S(),w(q,null,[u(e,{ref_key:"selfFormRef",ref:_,form:r.form,class:"pt-wdith-100-pc",method:d,defaultButtonsShow:"submit,reset",submitAttrs:D.value,inline:"",comps:o},null,8,["form","submitAttrs"]),u(B,{ref_key:"tableRef",ref:t,options:r.initJson.outParamDocs,columns:r.tableColumns,"default-expand-all":""},{defaultAppend:m(()=>[u(p,{label:"\u64CD\u4F5C",width:"180"},{default:m(({row:J,column:N,$index:T})=>[u(a,{options:F({row:J,column:N,$index:T})},null,8,["options"])]),_:1})]),_:1},8,["options","columns"])],64)}}}),se=I({name:"DictConfig"}),ie=I({...se,props:{initJsonStr:{type:String}},setup(f,{expose:h}){const l=f;let _=(e,a="success")=>{Q({showClose:!0,message:e,type:a,showIcon:!0,grouping:!0})};const t=b(null),r=b(null),o=x({initJson:{dictItems:[]},form:{id:""},tableColumns:[{prop:"name",label:"\u5B57\u5178\u540D\u79F0"},{prop:"value",label:"\u5B57\u5178\u503C"},{prop:"isGroup",label:"\u662F\u5426\u5B57\u5178\u7EC4"}]}),D=[{field:{name:"isGroup",value:!1},element:{comp:"el-switch",formItemProps:{label:"\u662F\u5426\u5B57\u5178\u7EC4",required:!0},compProps:{activeText:"\u5B57\u5178\u7EC4",inactiveText:"\u5B57\u5178\u9879"}}},{field:{name:"name"},element:{comp:"el-input",formItemProps:{label:"\u5B57\u5178\u540D",required:!0},compProps:{clearable:!0}}},{field:{name:"value"},element:{comp:"el-input",formItemProps:{label:"\u5B57\u5178\u503C",required:!0},compProps:{clearable:!0}}},{field:{name:"parentId"},element:{comp:"PtCascader",formItemProps:{label:"\u7236\u7EA7"},compProps:{disabled:!0,clearable:!0,options:o.initJson.dictItems}}}];R(()=>{l.initJsonStr&&(o.initJson.dictItems=JSON.parse(l.initJsonStr).dictItems)});const d=b({buttonText:"\u4FDD\u5B58\u5B57\u5178\u914D\u7F6E"}),C=()=>{!o.form.id?s():g()},s=()=>{if(o.form.isGroup==!1&&!o.form.parentId){_("\u5B57\u5178\u9879\u80FD\u53EA\u6DFB\u52A0\u5230\u5B57\u5178\u7EC4\u4E0B\u9762,\u4F60\u53EF\u80FD\u9700\u8981\u5148\u6DFB\u52A0\u4E00\u4E2A\u5B57\u5178\u7EC4","error");return}if(o.form.isGroup==!0&&o.form.parentId){_("\u5B57\u5178\u7EC4\u4E0B\u53EA\u80FD\u6DFB\u52A0\u5B57\u5178\u9879","error");return}let e={id:U(),parentId:o.form.parentId,children:[]};n(o.form,e);let a=o.initJson.dictItems;e.parentId&&(a=F(e.parentId,o.initJson.dictItems).children),a.push(e)},g=()=>{let e=F(o.form.id,o.initJson.dictItems);n(o.form,e)},n=(e,a)=>{a.name=e.name,a.value=e.value,a.isGroup=e.isGroup,a.unit=e.unit},F=(e,a=[])=>{for(let p=0;p<a.length;p++){let B=a[p];return B.id==e?B:F(e,B.children)}},E=(e,a=[])=>{for(let p=0;p<a.length;p++){let B=a[p];if(B.id==e){a.splice(p,1);return}E(e,B.children)}},i=({row:e,column:a,$index:p})=>{if(p<0)return[];let B=[{txt:"\u4FEE\u6539",text:!0,method(){let J=e;P(),$(()=>{o.form.id=J.id,o.form.name=J.name,o.form.value=J.value,o.form.isGroup=J.isGroup,o.form.unit=J.unit,o.form.parentId=J.parentId})}},{txt:"\u5220\u9664",text:!0,methodConfirmText:`\u786E\u5B9A\u8981\u5220\u9664 ${e.name} \u5417\uFF1F`,method(){E(e.id,o.initJson.dictItems)}}];return e.isGroup==!0&&B.push({txt:"\u6DFB\u52A0\u5B50\u7EA7",text:!0,method(){P(),$(()=>{o.form.parentId=e.id})}}),B},P=()=>{var e;(e=t.value)==null||e.resetForm()};return h({getInitJson:()=>o.initJson}),(e,a)=>{const p=c("PtForm"),B=c("PtButtonGroup"),J=c("el-table-column"),N=c("PtTable");return S(),w(q,null,[u(p,{ref_key:"selfFormRef",ref:t,form:o.form,class:"pt-wdith-100-pc",method:C,defaultButtonsShow:"submit,reset",submitAttrs:d.value,inline:"",comps:D},null,8,["form","submitAttrs"]),u(N,{ref_key:"tableRef",ref:r,options:o.initJson.dictItems,columns:o.tableColumns,"default-expand-all":""},{defaultAppend:m(()=>[u(J,{label:"\u64CD\u4F5C",width:"180"},{default:m(({row:T,column:j,$index:O})=>[u(B,{options:i({row:T,column:j,$index:O})},null,8,["options"])]),_:1})]),_:1},8,["options","columns"])],64)}}}),me=I({name:"PageableAdapterConfig"}),pe=I({...me,props:{initJsonStr:{type:String},onSubmit:{type:Function,default:()=>({})}},setup(f,{expose:h}){const l=f,_=x({form:{}}),t=[{field:{name:"inParamTemplateType"},element:{comp:"PtDictFrontSelect",formItemProps:{label:"\u5165\u53C2\u8BF7\u6C42\u53C2\u6570\u89E3\u6790\u811A\u672C\u7C7B\u578B",required:!0},compProps:{dictParam:{groupCode:"dataquery_datasource_api_pageable_adapter_type"},props:{value:"value"}}}},{field:{name:"inParamTemplate"},element:{comp:"el-input",formItemProps:{label:"\u5165\u53C2\u8BF7\u6C42\u53C2\u6570\u89E3\u6790\u811A\u672C",required:!0,tips:"enjoy\u793A\u4F8B\uFF1A#(pageQueryCommand.setPageNo(data.pageNo)) #(pageQueryCommand.setPageSize(data.pageSize)) \u5176\u4E2D pageQueryCommand \u4E3A\u56FA\u5B9A\u53D8\u91CF\u53EF\u4EE5\u8BBE\u7F6E\u9875\u7801\u548C\u9875\u5927\u5C0F\uFF0Cdata\u53D8\u91CF\u4E3A\u8BF7\u6C42\u53C2\u6570\u53E5\u67C4<br/>groovy\u793A\u4F8B\uFF1ApageQueryCommand.setPageNo(data.pageNo); pageQueryCommand.setPageSize(data.pageSize);pageQueryCommand; \u5176\u4E2D pageQueryCommand \u4E3A\u56FA\u5B9A\u53D8\u91CF\u53EF\u4EE5\u8BBE\u7F6E\u9875\u7801\u548C\u9875\u5927\u5C0F\uFF0Cdata\u53D8\u91CF\u4E3A\u8BF7\u6C42\u53C2\u6570\u53E5\u67C4,\u6700\u540E\u9700\u8981\u8FD4\u56DE pageQueryCommand"},compProps:{type:"textarea",rows:15,clearable:!0}}},{field:{name:"outParamTemplateType"},element:{comp:"PtDictFrontSelect",formItemProps:{label:"\u51FA\u53C2\u54CD\u5E94\u53C2\u6570\u89E3\u6790\u811A\u672C\u7C7B\u578B",required:!0},compProps:{dictParam:{groupCode:"dataquery_datasource_api_pageable_adapter_type"},props:{value:"value"}}}},{field:{name:"outParamTemplate"},element:{comp:"el-input",formItemProps:{label:"\u51FA\u53C2\u54CD\u5E94\u53C2\u6570\u89E3\u6790\u811A\u672C",required:!0,tips:"enjoy\u793A\u4F8B\uFF1A#(pageResponse.setPageNo(data.pageNo)) #(pageResponse.setPageSize(data.pageSize)) #(pageResponse.setTotalCount(data.totalCount)) \u5176\u4E2D pageResponse \u4E3A\u56FA\u5B9A\u53D8\u91CF\u53EF\u4EE5\u8BBE\u7F6E\u9875\u7801\u548C\u9875\u5927\u5C0F\u548C\u603B\u6570\u91CF\uFF0Cdata\u53D8\u91CF\u4E3A\u54CD\u5E94\u6570\u636E\u53C2\u6570\u53E5\u67C4<br/>groovy\u793A\u4F8B\uFF1ApageResponse.setPageNo(data.pageNo); pageResponse.setPageSize(data.pageSize); pageResponse.setTotalCount(data.totalCount); \u5176\u4E2D pageResponse \u4E3A\u56FA\u5B9A\u53D8\u91CF\u53EF\u4EE5\u8BBE\u7F6E\u9875\u7801\u548C\u9875\u5927\u5C0F\u548C\u603B\u6570\u91CF\uFF0Cdata\u53D8\u91CF\u4E3A\u54CD\u5E94\u6570\u636E\u53C2\u6570\u53E5\u67C4,\u6700\u540E\u9700\u8981\u8FD4\u56DEpageResponse"},compProps:{type:"textarea",rows:15,clearable:!0}}}];R(()=>{if(l.initJsonStr){let D=JSON.parse(l.initJsonStr);for(let d in D)_.form[d]=D[d]}});const r=b({buttonText:"\u786E\u8BA4"}),o=()=>{l.onSubmit()};return h({form:_.form}),(D,d)=>{const C=c("PtForm");return S(),z(C,{ref:"selfFormRef",form:_.form,class:"pt-wdith-100-pc",method:o,defaultButtonsShow:"submit,reset",submitAttrs:r.value,layout:1,comps:t},null,8,["form","submitAttrs"])}}}),ce=V("div",{id:"dataqueryDatasourceApipageableAdapterConfigDialogFooter"},null,-1),de=I({name:"DataQueryDatasourceApiFormItemConfigs"}),be=I({...de,props:{form:{type:Object,required:!0},formData:{type:Object,required:!0}},setup(f,{expose:h}){const l=f,_=b(null),t=b(null),r=b(null),o=b(null),D=b(null),d=b(null),C=b(null),s=b(null),g=b(null),n=x({inParamExampleConfigJson:{dialogVisible:!1},inParamTestCaseDataConfigJson:{dialogVisible:!1},inParamDoc:{dialogVisible:!1},inParamValidate:{dialogVisible:!1},outParamExampleConfigJson:{dialogVisible:!1},outParamSuccess:{dialogVisible:!1},outParamDoc:{dialogVisible:!1},dictConfig:{dialogVisible:!1},pageableAdapterConfig:{dialogVisible:!1}}),F=O=>JSON.stringify(O),E=()=>{_.value.getInitJson().inParamExamples.length>0?l.form.inParamExampleConfigJson=F(_.value.getInitJson()):l.form.inParamExampleConfigJson="",n.inParamExampleConfigJson.dialogVisible=!1},i=()=>{t.value.getInitJson().inParamTestCases.length>0?l.form.inParamTestCaseDataConfigJson=F(t.value.getInitJson()):l.form.inParamTestCaseDataConfigJson="",n.inParamTestCaseDataConfigJson.dialogVisible=!1},P=()=>{r.value.getInitJson().inParamDocs.length>0?l.form.inParamDocConfigJson=F(r.value.getInitJson()):l.form.inParamDocConfigJson="",n.inParamDoc.dialogVisible=!1},e=()=>{o.value.getInitJson().inParamValidateItems.length>0?l.form.inParamValidateConfigJson=F(o.value.getInitJson()):l.form.inParamValidateConfigJson="",n.inParamValidate.dialogVisible=!1},a=()=>{D.value.getInitJson().outParamExamples.length>0?l.form.outParamExampleConfigJson=F(D.value.getInitJson()):l.form.outParamExampleConfigJson="",n.outParamExampleConfigJson.dialogVisible=!1},p=()=>{d.value.getInitJson().outParamValidateItems.length>0?l.form.outParamSuccessConfigJson=F(d.value.getInitJson()):l.form.outParamSuccessConfigJson="",n.outParamSuccess.dialogVisible=!1},B=()=>{C.value.getInitJson().outParamDocs.length>0?l.form.outParamDocConfigJson=F(C.value.getInitJson()):l.form.outParamDocConfigJson="",n.outParamDoc.dialogVisible=!1},J=()=>{s.value.getInitJson().dictItems.length>0?l.form.dictConfigJson=F(s.value.getInitJson()):l.form.dictConfigJson="",n.dictConfig.dialogVisible=!1},N=()=>{l.form.pageableAdapterConfigJson=F(g.value.form),n.pageableAdapterConfig.dialogVisible=!1},T=b(!1),j=()=>{$(()=>{T.value=!0})};return h({reactiveData:n}),(O,y)=>{const k=c("PtButton"),v=c("el-dialog");return S(),w(q,null,[u(v,{modelValue:n.inParamExampleConfigJson.dialogVisible,"onUpdate:modelValue":y[0]||(y[0]=A=>n.inParamExampleConfigJson.dialogVisible=A),width:"70%",title:"\u5165\u53C2\u793A\u4F8B\u914D\u7F6EJson","append-to-body":"","destroy-on-close":""},{footer:m(()=>[V("span",null,[u(k,{type:"primary",onClick:E},{default:m(()=>[G("\u786E\u8BA4")]),_:1})])]),default:m(()=>[u(L,{ref_key:"inParamExampleConfigRef",ref:_,initJsonStr:f.form.inParamExampleConfigJson},null,8,["initJsonStr"])]),_:1},8,["modelValue"]),u(v,{modelValue:n.inParamTestCaseDataConfigJson.dialogVisible,"onUpdate:modelValue":y[1]||(y[1]=A=>n.inParamTestCaseDataConfigJson.dialogVisible=A),width:"70%",title:"\u6D4B\u8BD5\u7528\u4F8B\u914D\u7F6EJson","append-to-body":"","destroy-on-close":""},{footer:m(()=>[V("span",null,[u(k,{type:"primary",onClick:i},{default:m(()=>[G("\u786E\u8BA4")]),_:1})])]),default:m(()=>[u(X,{ref_key:"inParamTestCaseDataConfigRef",ref:t,initJsonStr:f.form.inParamTestCaseDataConfigJson},null,8,["initJsonStr"])]),_:1},8,["modelValue"]),u(v,{modelValue:n.inParamDoc.dialogVisible,"onUpdate:modelValue":y[2]||(y[2]=A=>n.inParamDoc.dialogVisible=A),width:"70%",title:"\u5165\u53C2\u6587\u6863\u914D\u7F6EJson","append-to-body":"","destroy-on-close":""},{footer:m(()=>[V("span",null,[u(k,{type:"primary",onClick:P},{default:m(()=>[G("\u786E\u8BA4")]),_:1})])]),default:m(()=>{var A;return[u(Z,{ref_key:"inParamDocConfigRef",ref:r,rootInParamType:(A=f.formData.inParamTypeDictId)==null?void 0:A.value,initJsonStr:f.form.inParamDocConfigJson},null,8,["rootInParamType","initJsonStr"])]}),_:1},8,["modelValue"]),u(v,{modelValue:n.inParamValidate.dialogVisible,"onUpdate:modelValue":y[3]||(y[3]=A=>n.inParamValidate.dialogVisible=A),width:"70%",title:"\u5165\u53C2\u6821\u9A8C\u914D\u7F6EJson","append-to-body":"","destroy-on-close":""},{footer:m(()=>[V("span",null,[u(k,{type:"primary",onClick:e},{default:m(()=>[G("\u786E\u8BA4")]),_:1})])]),default:m(()=>[u(te,{ref_key:"inParamValidateConfigRef",ref:o,initJsonStr:f.form.inParamValidateConfigJson},null,8,["initJsonStr"])]),_:1},8,["modelValue"]),u(v,{modelValue:n.outParamExampleConfigJson.dialogVisible,"onUpdate:modelValue":y[4]||(y[4]=A=>n.outParamExampleConfigJson.dialogVisible=A),width:"70%",title:"\u51FA\u53C2\u793A\u4F8B\u914D\u7F6EJson","append-to-body":"","destroy-on-close":""},{footer:m(()=>[V("span",null,[u(k,{type:"primary",onClick:a},{default:m(()=>[G("\u786E\u8BA4")]),_:1})])]),default:m(()=>[u(ue,{ref_key:"outParamExampleConfigRef",ref:D,initJsonStr:f.form.outParamExampleConfigJson},null,8,["initJsonStr"])]),_:1},8,["modelValue"]),u(v,{modelValue:n.outParamSuccess.dialogVisible,"onUpdate:modelValue":y[5]||(y[5]=A=>n.outParamSuccess.dialogVisible=A),width:"70%",title:"\u51FA\u53C2\u6210\u529F\u5224\u65AD\u914D\u7F6EJson","append-to-body":"","destroy-on-close":""},{footer:m(()=>[V("span",null,[u(k,{type:"primary",onClick:p},{default:m(()=>[G("\u786E\u8BA4")]),_:1})])]),default:m(()=>[u(ae,{ref_key:"outParamSuccessConfigRef",ref:d,initJsonStr:f.form.outParamSuccessConfigJson},null,8,["initJsonStr"])]),_:1},8,["modelValue"]),u(v,{modelValue:n.outParamDoc.dialogVisible,"onUpdate:modelValue":y[6]||(y[6]=A=>n.outParamDoc.dialogVisible=A),width:"70%",title:"\u51FA\u53C2\u6587\u6863\u914D\u7F6EJson","append-to-body":"","destroy-on-close":""},{footer:m(()=>[V("span",null,[u(k,{type:"primary",onClick:B},{default:m(()=>[G("\u786E\u8BA4")]),_:1})])]),default:m(()=>{var A;return[u(le,{ref_key:"outParamDocConfigRef",ref:C,rootInParamType:(A=f.formData.outParamTypeDictId)==null?void 0:A.value,initJsonStr:f.form.outParamDocConfigJson},null,8,["rootInParamType","initJsonStr"])]}),_:1},8,["modelValue"]),u(v,{modelValue:n.dictConfig.dialogVisible,"onUpdate:modelValue":y[7]||(y[7]=A=>n.dictConfig.dialogVisible=A),width:"70%",title:"\u5B57\u5178\u914D\u7F6EJson","append-to-body":"","destroy-on-close":""},{footer:m(()=>[V("span",null,[u(k,{type:"primary",onClick:J},{default:m(()=>[G("\u786E\u8BA4")]),_:1})])]),default:m(()=>[u(ie,{ref_key:"dictConfigRef",ref:s,initJsonStr:f.form.dictConfigJson},null,8,["initJsonStr"])]),_:1},8,["modelValue"]),u(v,{modelValue:n.pageableAdapterConfig.dialogVisible,"onUpdate:modelValue":y[8]||(y[8]=A=>n.pageableAdapterConfig.dialogVisible=A),width:"70%",title:"\u5206\u9875\u4FE1\u606F\u89E3\u6790\u914D\u7F6EJson",onOpen:j,onClosed:y[9]||(y[9]=A=>T.value=!1),"append-to-body":"","destroy-on-close":""},{footer:m(()=>[ce]),default:m(()=>[T.value?(S(),z(pe,{key:0,ref_key:"pageableAdapterConfigConfigRef",ref:g,initJsonStr:f.form.pageableAdapterConfigJson,onSubmit:N,buttonsTeleportProps:{disabled:!1,to:"#dataqueryDatasourceApipageableAdapterConfigDialogFooter"}},null,8,["initJsonStr"])):K("",!0)]),_:1},8,["modelValue"])],64)}}});export{be as _};
