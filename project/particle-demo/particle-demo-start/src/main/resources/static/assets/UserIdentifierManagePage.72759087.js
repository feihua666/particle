import{d as C,q as I,r as c,a as A,y as v,b as t,o as E,c as y,e as u,w as r,f as T,F as M,z as R,A as V}from"./index.6cdd7c8b.js";import{b as q}from"./userIdentifierManage.4cf28ca3.js";const U=C({name:"UserIdentifierManagePage"}),G=C({...U,props:{...I},setup(b){const B=b,p=c(null),n=A({form:{},formComps:q({props:B}),tableColumns:v}),i=c({buttonText:"\u67E5\u8BE2",loading:!1,permission:"admin:web:userIdentifier:pageQuery"}),f=()=>{p.value.refreshData()},P=({pageQuery:e})=>R({...n.form,...e}),_={permission:i.value.permission},D=({row:e,column:s,$index:a})=>{if(a<0)return[];let m={id:e.id},o={identifierId:e.id,identifier:e.identifier};return[{txt:"\u7F16\u8F91",text:!0,permission:"admin:web:userIdentifier:update",route:{path:"/admin/userIdentifierManageUpdate",query:o}},{txt:"\u5220\u9664",text:!0,permission:"admin:web:userIdentifier:delete",methodConfirmText:`\u5220\u9664\u7528\u6237\u8D26\u53F7\u4F1A\u9020\u6210\u7528\u6237\u5F53\u524D\u8D26\u53F7\u4E0D\u80FD\u767B\u5F55\uFF0C\u540C\u65F6\u4F1A\u5220\u9664\u5F53\u524D\u8D26\u53F7\u7684\u5BC6\u7801\u6570\u636E\u3002\u786E\u5B9A\u8981\u5220\u9664 ${e.identifier} \u5417\uFF1F`,method(){return V(m).then(d=>(f(),Promise.resolve(d)))}},{txt:"\u91CD\u7F6E\u5BC6\u7801",text:!0,permission:"admin:web:userIdentifierPwd:identifier:resetPassword",position:"more",methodConfirmText:"\u6B64\u64CD\u4F5C\u53EA\u5F71\u54CD\u5F53\u524D\u767B\u5F55\u6807\u8BC6\u5BC6\u7801\uFF0C\u5982\u679C\u7528\u6237\u8FD8\u6709\u5176\u5B83\u767B\u5F55\u6807\u8BC6\uFF08\u5176\u5BC6\u7801\u4E0D\u53D7\u54CD\u5E94\uFF09\uFF0C\u786E\u5B9A\u8981\u91CD\u7F6E\u5BC6\u7801\u5417\uFF1F",route:{path:"/admin/userIdentifierPwdManageResetPassword",query:o}},{txt:"\u7528\u6237\u5BC6\u7801",text:!0,permission:"admin:web:userIdentifierPwd:pageQuery",position:"more",icon:"View",type:"primary",route:{path:"/admin/userIdentifierPwdManagePage",query:o}}]},g={text:!0,buttonText:"\u66F4\u591A"};return(e,s)=>{const a=t("PtButton"),m=t("PtForm"),o=t("PtButtonGroup"),F=t("el-table-column"),d=t("PtTable"),w=t("PtRouteViewPopover");return E(),y(M,null,[u(m,{form:n.form,method:f,defaultButtonsShow:"submit,reset",submitAttrs:i.value,inline:"",labelWidth:"80",comps:n.formComps},{buttons:r(()=>[u(a,{permission:"admin:web:userIdentifier:create",route:"/admin/userIdentifierManageAdd"},{default:r(()=>[T("\u6DFB\u52A0")]),_:1})]),_:1},8,["form","submitAttrs","comps"]),u(d,{ref_key:"tableRef",ref:p,"default-expand-all":"",dataMethod:P,onDataMethodDataLoading:s[0]||(s[0]=l=>i.value.loading=l),paginationProps:_,columns:n.tableColumns},{defaultAppend:r(()=>[u(F,{label:"\u64CD\u4F5C",width:"220"},{default:r(({row:l,column:x,$index:h})=>[u(o,{options:D({row:l,column:x,$index:h}),dropdownTriggerButtonOptions:g},null,8,["options"])]),_:1})]),_:1},8,["columns"]),u(w,{level:3})],64)}}});export{G as default};
