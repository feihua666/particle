import{u as f,h as b,i as g}from"./scheduleJobAdminApi.0dc9d222.js";import{d as m,a as P,r as n,b as F,o as S,h as _}from"./index.8f1940e7.js";const y=m({name:"ScheduleJobManageUpdatePage"}),M=m({...y,props:{schedulerName:{type:String},schedulerInstanceId:{type:String},name:{type:String},group:{type:String}},setup(l){const s=l,u=P({form:{oldName:s.name,oldGroup:s.group},formData:{}}),p=n(f),d=n({buttonText:"\u786E\u8BA4\u4FEE\u6539",permission:"schedule:job:update"}),c=o=>{let e={};for(let t in o)e[t]=o[t];let r=["httpHeaders","httpParams","dataMap","beanMethodParams"];for(let t=0;t<r.length;t++){let a=r[t];e[a]?e[a]=JSON.parse(e[a]):e[a]=null}return b(e)},i=()=>g({schedulerName:s.schedulerName,schedulerInstanceId:s.schedulerInstanceId,name:s.name,group:s.group}).then(o=>{let e=o.data.data,r=["httpHeaders","httpParams","dataMap","beanMethodParams"];for(let t=0;t<r.length;t++){let a=r[t];e[a]?e[a]=JSON.stringify(e[a]):e[a]=null}return Promise.resolve(o)}),h=()=>"\u4FEE\u6539\u6210\u529F\uFF0C\u8BF7\u5237\u65B0\u6570\u636E\u67E5\u770B";return(o,e)=>{const r=F("PtForm");return S(),_(r,{form:u.form,formData:u.formData,labelWidth:"80",dataMethod:i,method:c,methodSuccess:h,defaultButtonsShow:"submit,reset",submitAttrs:d.value,buttonsTeleportProps:o.$route.meta.formButtonsTeleportProps,inline:"",comps:p.value},null,8,["form","formData","submitAttrs","buttonsTeleportProps","comps"])}}});export{M as default};
