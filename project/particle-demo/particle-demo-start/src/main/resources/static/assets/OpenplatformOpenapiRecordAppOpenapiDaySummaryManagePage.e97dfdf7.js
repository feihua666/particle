import{g as n,d as E,r as b,a as g,b as t,o as v,c as R,e,w as o,f as A,F as x}from"./index.9f9cf4f4.js";import{u as I}from"./openplatformAppCompItem.33581e25.js";import{u as T}from"./oauth2authorizationRegisteredClientCompItem.2944d2ca.js";import{u as N}from"./openplatformOpenapiCompItem.7124ce20.js";import{u as M}from"./crmCompItem.8c112ac9.js";import"./openplatformAppAdminApi.31243561.js";import"./oauth2RegisteredClientAdminApi.8ea7f804.js";import"./crmCustomerTagAdminApi.3c275123.js";let m="/admin/web/openplatform_openapi_record_app_openapi_day_summary";const k=a=>n.delete(m+"/delete",{data:a}),V=a=>n.get(m+"/page",{params:a}),G=()=>n.post(m+"/yesterdayStatistic"),L=()=>n.post(m+"/todayStatistic"),Q=[I({}),T({fieldName:"appId",label:"appId"}),N({fieldName:"openplatformOpenapiId",label:"\u5F00\u653E\u63A5\u53E3",disableGroup:!0}),{field:{name:"dayAt"},element:{comp:"PtDatePicker",formItemProps:{label:"\u65E5\u671F"},compProps:{clearable:!0,type:"date"}}},M({fieldName:"customerId",label:"\u5BA2\u6237"})],U=E({name:"OpenplatformOpenapiRecordAppOpenapiDaySummaryManagePage"}),Y=E({...U,setup(a){const c=b(null),p=g({form:{},formComps:Q,tableColumns:[{prop:"openplatformAppName",label:"\u5E94\u7528\u540D\u79F0",showOverflowTooltip:!0},{prop:"appId",label:"appId",showOverflowTooltip:!0},{prop:"openplatformOpenapiName",label:"\u5F00\u653E\u5E73\u53F0\u63A5\u53E3\u540D\u79F0",showOverflowTooltip:!0},{prop:"dayAt",label:"\u65E5\u671F"},{prop:"customerName",label:"\u5BA2\u6237\u540D\u79F0",showOverflowTooltip:!0},{prop:"totalCall",label:"\u8C03\u7528\u603B\u91CF"},{prop:"totalFeeCall",label:"\u8C03\u7528\u8BA1\u8D39\u603B\u91CF"},{prop:"averageUnitPriceAmount",label:"\u5E73\u5747\u5355\u4EF7\u91D1\u989D\uFF08\u5206\uFF09"},{prop:"totalFeeAmount",label:"\u603B\u6D88\u8D39\u91D1\u989D\uFF08\u5206\uFF09"},{prop:"remark",label:"\u63CF\u8FF0"}]}),C=()=>G(),_=()=>L(),l=b({buttonText:"\u67E5\u8BE2",loading:!1,permission:"admin:web:openplatformOpenapiRecordAppOpenapiDaySummary:pageQuery"}),f=()=>{c.value.refreshData()},y=({pageQuery:u})=>V({...p.form,...u}),D={permission:l.value.permission},B=({row:u,column:s,$index:r})=>r<0?[]:(u.id,[{txt:"\u5220\u9664",text:!0,permission:"admin:web:openplatformOpenapiRecordAppOpenapiDaySummary:delete",methodConfirmText:"\u786E\u5B9A\u8981\u5220\u9664\u5417\uFF1F",method(){return k({id:u.id}).then(i=>(f(),Promise.resolve(i)))}}]);return(u,s)=>{const r=t("PtButton"),F=t("PtForm"),i=t("PtButtonGroup"),O=t("el-table-column"),P=t("PtTable"),h=t("PtRouteViewPopover");return v(),R(x,null,[e(F,{form:p.form,method:f,defaultButtonsShow:"submit,reset",submitAttrs:l.value,inline:"",comps:p.formComps},{buttons:o(()=>[e(r,{permission:"admin:web:openplatformOpenapiRecordAppOpenapiDaySummary:yesterdayStatistic",methodConfirmText:"\u786E\u5B9A\u8981\u7EDF\u8BA1\u6628\u65E5\u7684\u6570\u636E\u5417\uFF1F\u5982\u679C\u5DF2\u7ECF\u5B58\u5728\u6628\u65E5\u7684\u6570\u636E\u5C06\u4F1A\u88AB\u8986\u76D6\u6216\u5220\u9664",method:C},{default:o(()=>[A("\u7EDF\u8BA1\u6628\u65E5\u6570\u636E")]),_:1}),e(r,{permission:"admin:web:openplatformOpenapiRecordAppOpenapiDaySummary:todayStatistic",methodConfirmText:"\u786E\u5B9A\u8981\u7EDF\u8BA1\u4ECA\u65E5\u7684\u6570\u636E\u5417\uFF1F\u5982\u679C\u5DF2\u7ECF\u5B58\u5728\u4ECA\u65E5\u7684\u6570\u636E\u5C06\u4F1A\u88AB\u8986\u76D6\u6216\u5220\u9664",method:_},{default:o(()=>[A("\u7EDF\u8BA1\u4ECA\u65E5\u6570\u636E")]),_:1})]),_:1},8,["form","submitAttrs","comps"]),e(P,{ref_key:"tableRef",ref:c,"default-expand-all":"",dataMethod:y,onDataMethodDataLoading:s[0]||(s[0]=d=>l.value.loading=d),paginationProps:D,columns:p.tableColumns},{defaultAppend:o(()=>[e(O,{label:"\u64CD\u4F5C",width:"180"},{default:o(({row:d,column:w,$index:S})=>[e(i,{options:B({row:d,column:w,$index:S})},null,8,["options"])]),_:1})]),_:1},8,["columns"]),e(h,{level:3})],64)}}});export{Y as default};
