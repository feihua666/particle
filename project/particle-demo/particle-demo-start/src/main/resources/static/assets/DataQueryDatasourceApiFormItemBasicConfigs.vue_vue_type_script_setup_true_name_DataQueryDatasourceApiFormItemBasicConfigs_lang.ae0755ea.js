import{d as n,a as b,i as _,r as m,b as E,o as p,h as f,w as C,P as D,k as g,a4 as B}from"./index.39bfef88.js";const y=n({name:"JdbcApiBasicConfig"}),S=n({...y,props:{initJsonStr:{type:String},onSubmit:{type:Function,default:()=>({})}},setup(r,{expose:l}){const o=r,e=b({form:{}}),t=[{field:{name:"dataType"},element:{comp:"PtDictFrontSelect",formItemProps:{label:"\u6570\u636E\u7C7B\u578B",required:!0},compProps:{dictParam:{groupCode:"dataquery_datasource_api_jdbc_basic_config_data_type"},props:{value:"value"}}}},{field:{name:"sqlTemplateType"},element:{comp:"PtDictFrontSelect",formItemProps:{label:"sql\u6A21\u677F\u7C7B\u578B",required:!0},compProps:{dictParam:{groupCode:"dataquery_datasource_api_jdbc_basic_config_sql_template_type"},props:{value:"value"}}}},{field:{name:"sqlTemplate"},element:{comp:"el-input",formItemProps:{label:"sql\u6A21\u677F\u5185\u5BB9",required:!0,tips:`1. enjoy\u6A21\u677F \u6700\u7EC8\u4F1A\u6E32\u67D3\u4E3Asql\u8BED\u53E5\uFF0C \u53D6\u503C\u793A\u4F8B where name = '#(data.name)' data\u4E3A\u8BF7\u6C42\u53C2\u6570\u53E5\u67C4\uFF0C<br/>2. mybatisScript\u6A21\u677F \u6700\u7EC8\u4F1A\u6E32\u67D3\u4E3Asql\u8BED\u53E5\uFF0C \u9700\u8981\u4EE5&lt;script&gt;\u5F00\u5934\uFF0C\u6CE8\u610F\u524D\u9762\u4E0D\u80FD\u6709\u7A7A\u683C \u53D6\u503C\u793A\u4F8B&lt;script&gt;&lt;if test="data.data.name != null"&gt;where name = #{data.data.name}&lt;/if&gt;&lt;/script&gt; \u6CE8\u610F\uFF1Adata.data(\u4E24\u4E2Adata)\u4E3A\u8BF7\u6C42\u53C2\u6570\u53E5\u67C4<br/>3. raw\u6A21\u5F0F \u8BF7\u76F4\u63A5\u5199sql\uFF0C\u4E0D\u5177\u5907\u53D8\u91CF\u6E32\u67D3\u80FD\u529B<br/>4. groovy\u811A\u672C\u652F\u6301\uFF0C\u5177\u6709\u7F16\u7A0B\u7684\u80FD\u529B\u6700\u7EC8\u7ED3\u679C\u5C06\u4F7F\u7528\u8BE5\u811A\u672C\u7684\u8FD4\u56DE\u503C\u76F4\u63A5\u8FD4\u56DE\u6570\u636E\uFF0C\u5185\u7F6E\u53E5\u67C4\u4E3A jdbcService \u548C data\uFF0CjdbcService\u4E3A\u67E5\u8BE2\u6570\u636E\u670D\u52A1\uFF0Cdata\u4E3A\u6301\u6709\u8BF7\u6C42\u53C2\u6570\u53E5\u67C4`},compProps:{type:"textarea",rows:15,clearable:!0}}}];_(()=>{if(o.initJsonStr){let u=JSON.parse(o.initJsonStr);for(let a in u)e.form[a]=u[a]}});const c=m({buttonText:"\u786E\u8BA4"}),d=()=>{o.onSubmit()};return l({form:e.form}),(u,a)=>{const s=E("PtForm");return p(),f(s,{ref:"selfFormRef",form:e.form,class:"pt-wdith-100-pc",method:d,defaultButtonsShow:"submit,reset",submitAttrs:c.value,layout:1,comps:t},null,8,["form","submitAttrs"])}}}),v=g("div",{id:"dataqueryDatasourceApiJdbcBasicConfigDialogFooter"},null,-1),j=n({name:"DataQueryDatasourceApiFormItemBasicConfigs"}),J=n({...j,props:{form:{type:Object,required:!0},formData:{type:Object,required:!0}},setup(r,{expose:l}){const o=r,e=m(null),t=b({jdbc:{dialogVisible:!1}}),c=s=>JSON.stringify(s),d=()=>{o.form.configJson=c(e.value.form),t.jdbc.dialogVisible=!1},u=m(!1),a=()=>{B(()=>{u.value=!0})};return l({reactiveData:t}),(s,i)=>{const A=E("el-dialog");return p(),f(A,{modelValue:t.jdbc.dialogVisible,"onUpdate:modelValue":i[0]||(i[0]=F=>t.jdbc.dialogVisible=F),width:"70%",title:"jdbc\u914D\u7F6EJson",onOpen:a,onClosed:i[1]||(i[1]=F=>u.value=!1),"append-to-body":"","destroy-on-close":""},{footer:C(()=>[v]),default:C(()=>[u.value?(p(),f(S,{key:0,ref_key:"jdbcConfigRef",ref:e,initJsonStr:r.form.configJson,onSubmit:d,buttonsTeleportProps:{disabled:!1,to:"#dataqueryDatasourceApiJdbcBasicConfigDialogFooter"}},null,8,["initJsonStr"])):D("",!0)]),_:1},8,["modelValue"])}}});export{J as _};
