import{p as v,r as y}from"./lowcodeModelItemAdminApi.4c45a059.js";import{p as A}from"./lowcodeModelItemManage.9e9872d2.js";import{d as F,r as B,a as I,b as o,o as T,c as D,e,w as u,f as w,F as x}from"./index.39bfef88.js";import"./lowcodeModelAdminApi.c9cedee5.js";const R=F({name:"LowcodeModelItemManagePage"}),q=F({...R,props:{lowcodeModelId:{type:String}},setup(d){const f=d,i=B(null),l=I({form:{lowcodeModelId:f.lowcodeModelId},formComps:A,tableColumns:[{label:"\u5B57\u6BB5\u540D\u79F0",prop:"columnName"},{label:"\u5B9E\u4F53\u5C5E\u6027\u540D\u79F0",prop:"propertyName"},{label:"\u5B57\u6BB5\u7C7B\u578B",prop:"jdbcType"},{label:"\u5B9E\u4F53\u5C5E\u6027\u7C7B\u578B",prop:"propertyType"},{label:"\u5B9E\u4F53\u5C5E\u6027\u7C7B\u578B\u5168\u8DEF\u5F84",prop:"propertyFullType",showOverflowTooltip:!0},{label:"\u5168\u6CE8\u91CA",prop:"commentFull",showOverflowTooltip:!0},{label:"\u7B80\u6D01\u6CE8\u91CA",prop:"commentSimple",showOverflowTooltip:!0},{label:"\u9ED8\u8BA4\u503C",prop:"defaultValue"},{label:"\u662F\u5426\u552F\u4E00",prop:"isUnique"},{label:"\u662F\u5426\u5FC5\u586B",prop:"isRequired"},{label:"\u662F\u5426\u4E3B\u952E",prop:"isKey"},{label:"\u662F\u5426\u4E3B\u952E\u81EA\u589E",prop:"isKeyIdentity"},{label:"\u662F\u5426\u5173\u952E\u5B57",prop:"isKeyWord"},{label:"\u957F\u5EA6",prop:"columnLength"},{label:"\u5C0F\u6570\u4F4D\u957F\u5EA6",prop:"fractionLength"},{label:"\u662F\u5426\u5916\u952E",prop:"isForeignKey"},{label:"\u6A21\u578B",prop:"lowcodeModelName"},{label:"\u8BBE\u8BA1\u6570\u636E",prop:"designJson",showOverflowTooltip:!0},{label:"\u63CF\u8FF0",prop:"remark"}]}),n=B({buttonText:"\u67E5\u8BE2",loading:!1,permission:"admin:web:lowcodeModelItem:pageQuery"}),c=()=>{i.value.refreshData()},E=({pageQuery:t})=>v({...l.form,...t}),C={permission:n.value.permission},g=({row:t,column:p,$index:a})=>{if(a<0)return[];let r={id:t.id};return[{txt:"\u7F16\u8F91",text:!0,permission:"admin:web:lowcodeModelItem:update",route:{path:"/admin/lowcodeModelItemManageUpdate",query:r}},{txt:"\u5220\u9664",text:!0,permission:"admin:web:lowcodeModelItem:delete",methodConfirmText:`\u786E\u5B9A\u8981\u5220\u9664 ${t.name} \u5417\uFF1F`,method(){return y(r).then(s=>(c(),Promise.resolve(s)))}}]};return(t,p)=>{const a=o("PtButton"),r=o("PtForm"),b=o("PtButtonGroup"),s=o("el-table-column"),M=o("PtTable"),_=o("PtRouteViewPopover");return T(),D(x,null,[e(r,{form:l.form,method:c,defaultButtonsShow:"submit,reset",submitAttrs:n.value,inline:"",comps:l.formComps},{buttons:u(()=>[e(a,{permission:"admin:web:lowcodeModelItem:create",route:"/admin/lowcodeModelItemManageAdd"},{default:u(()=>[w("\u6DFB\u52A0")]),_:1}),e(a,{permission:"admin:web:lowcodeModelItem:pageQuery",route:{path:"/admin/lowcodeModelItemDesignManagePage",query:{lowcodeModelId:d.lowcodeModelId}}},{default:u(()=>[w("\u53BB\u8BBE\u8BA1")]),_:1},8,["route"])]),_:1},8,["form","submitAttrs","comps"]),e(M,{ref_key:"tableRef",ref:i,"default-expand-all":"",dataMethod:E,onDataMethodDataLoading:p[0]||(p[0]=m=>n.value.loading=m),dataMethodResultHandleConvertToTree:!0,paginationProps:C,columns:l.tableColumns},{defaultAppend:u(()=>[e(s,{label:"\u64CD\u4F5C",width:"180"},{default:u(({row:m,column:h,$index:P})=>[e(b,{options:g({row:m,column:h,$index:P})},null,8,["options"])]),_:1})]),_:1},8,["columns"]),e(_,{level:3})],64)}}});export{q as default};
