import{d as c,a as g,r as m,b as p,o as i,h as F,a3 as B,w as r,c as T,F as h,T as I,aC as x,e as v,f as A,U as P}from"./index.8f1940e7.js";const k=c({name:"MessageTemplateContentDetailItem"}),J=c({...k,props:{initForm:{type:Object,default:()=>({})},type:{type:String}},setup(f,{expose:d}){const a=f,n=g({form:{},formData:{}}),l=m([{field:{name:"contentTpl",value:a.initForm.contentTpl},element:{comp:"el-input",formItemProps:{label:"\u6D88\u606F\u5185\u5BB9\u6A21\u677F",displayBlock:!0,tips:"\u4EC5\u652F\u6301enjoy\u6A21\u677F\uFF0C\u8986\u76D6\u901A\u7528\u7684\u6A21\u677F"},compProps:{clearable:!0,type:"textarea",rows:15}}},{field:{name:"isContentHtml",value:a.initForm.isContentHtml||!1},element:{comp:"el-switch",formItemProps:{label:"\u5185\u5BB9\u7C7B\u578B",tips:"\u5F53\u6A21\u677F\u6709\u503C\u65F6\uFF0C\u8986\u76D6\u901A\u7528\u7684\u76F8\u540C\u5B57\u6BB5"},compProps:{activeText:"html\u6587\u672C",inactiveText:"\u7EAF\u6587\u672C"}}},{field:{name:"thirdTemplateCode",value:a.initForm.thirdTemplateCode},element:{comp:"el-input",formItemProps:{label:"\u4E09\u65B9\u6A21\u677F\u7F16\u7801"},compProps:{clearable:!0}}}]);return d({form:n.form,type:a.type}),(s,_)=>{const C=p("PtForm");return i(),F(C,{form:n.form,formData:n.formData,labelWidth:"80",defaultButtonsShow:"",inline:"",layout:[1,2],comps:l.value},null,8,["form","formData","comps"])}}}),w=c({name:"MessageTemplateContentDetailJson"}),V=c({...w,props:{initContentDetailJsonData:{type:Object,default:()=>({contentDetails:{}})}},setup(f,{expose:d}){const a=f,n=m([]),l=m(""),s=m(null),_=e=>a.initContentDetailJsonData.contentDetails?a.initContentDetailJsonData.contentDetails[e]:{};B({groupCode:"message_notify_type"}).then(e=>{n.value=e.data.data,l.value=e.data.data[0].value});const C=()=>{let e={contentDetails:{}};for(let o=0;o<s.value.length;o++){let u=s.value[o];D(u.form)||(e.contentDetails[u.type]=u.form)}return e},D=e=>e?!e.thirdTemplateCode&&!e.contentTpl:!0;return d({getContentDetailJsonData:C}),(e,o)=>{const u=p("el-badge"),y=p("el-tab-pane"),b=p("el-tabs");return i(),F(b,{modelValue:l.value,"onUpdate:modelValue":o[0]||(o[0]=t=>l.value=t)},{default:r(()=>[(i(!0),T(h,null,I(n.value,t=>(i(),F(y,{key:t.id,label:t.name,name:t.value},x({default:r(()=>[v(J,{ref_for:!0,ref_key:"messageTemplateContentDetailItemRef",ref:s,type:t.value,initForm:_(t.value)},null,8,["type","initForm"])]),_:2},[D(_(t.value))?void 0:{name:"label",fn:r(()=>[v(u,{type:"success","is-dot":"",class:"pt-message-template-content-detail-json-badge"},{default:r(()=>[A(P(t.name),1)]),_:2},1024)]),key:"0"}]),1032,["label","name"]))),128))]),_:1},8,["modelValue"])}}});export{V as _};
