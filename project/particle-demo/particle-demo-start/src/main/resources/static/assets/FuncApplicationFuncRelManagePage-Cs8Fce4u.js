import{p as I,r as _}from"./funcApplicationFuncRelAdminApi-1odi0gqI.js";import{p as P}from"./funcApplicationFuncRelManage-CFjQWcLr.js";import{d as N,r as R,a as v,b as u,o as w,c as M,e as t,w as i,f as a,F as C}from"./index-D8BtRcSm.js";import"./funcApplicationAdminApi-BqjalQ2D.js";const V=N({__name:"FuncApplicationFuncRelManagePage",setup(T){const F=R(null),c=v({form:{},formComps:P,tableColumns:[{prop:"funcApplicationName",label:"功能应用名称",showOverflowTooltip:!0,width:120},{prop:"funcName",label:"功能名称",showOverflowTooltip:!0,width:120}]}),l=R({buttonText:"查询",loading:!1,permission:"admin:web:funcApplicationFuncRel:pageQuery"}),b=()=>{F.value.refreshData()},g=({pageQuery:n})=>I({...c.form,...n}),y={permission:l.value.permission},B=({row:n,column:e,$index:o})=>{if(o<0)return[];let s={id:n.id},m={funcId:n.funcId,funcName:n.funcName},r={funcId:n.funcId,funcName:n.funcName},f={funcApplicationId:n.funcApplicationId,funcApplicationName:n.funcApplicationName},d={funcApplicationId:n.funcApplicationId,funcApplicationName:n.funcApplicationName};return[{txt:"为该功能分配功能应用",text:!0,permission:"admin:web:funcApplicationFuncRel:funcAssignFuncApplication",route:{path:"/admin/funcApplicationFuncRelManageFuncAssignFuncApplication",query:m}},{txt:"为该功能应用分配功能",text:!0,permission:"admin:web:funcApplicationFuncRel:funcApplicationAssignFunc",route:{path:"/admin/funcApplicationFuncRelManageFuncApplicationAssignFunc",query:f}},{txt:"为该功能清空功能应用",text:!0,methodConfirmText:`您将清空功能 ${n.funcName} 所有功能应用,该功能将不再拥有任何功能应用，请谨慎操作！！！，确定要清空吗？`,permission:"admin:web:funcApplicationFuncRel:deleteByFuncId",route:{path:"/admin/funcApplicationFuncRelManageDeleteByFuncId",query:r}},{txt:"为该功能应用清空功能",text:!0,methodConfirmText:`您将清空功能应用 ${n.funcApplicationName} 所有功能应用,该功能应用将不再分配给任何功能，请谨慎操作！！！，确定要清空吗？`,permission:"admin:web:funcApplicationFuncRel:deleteByFuncApplicationId",route:{path:"/admin/funcApplicationFuncRelManageDeleteByFuncApplicationId",query:d}},{txt:"删除",text:!0,permission:"admin:web:funcApplicationFuncRel:delete",methodConfirmText:`删除后功能应用 ${n.funcApplicationName} 将不再拥有功能 ${n.funcName}，确定要删除吗？`,method(){return _(s).then(A=>(b(),Promise.resolve(A)))}}]};return(n,e)=>{const o=u("PtButton"),s=u("PtForm"),m=u("PtButtonGroup"),r=u("el-table-column"),f=u("PtTable"),d=u("PtRouteViewPopover");return w(),M(C,null,[t(s,{form:c.form,method:b,defaultButtonsShow:"submit,reset",submitAttrs:l.value,inline:"",comps:c.formComps},{buttons:i(()=>[t(o,{permission:"admin:web:funcApplicationFuncRel:create",route:"/admin/FuncApplicationFuncRelManageAdd"},{default:i(()=>e[1]||(e[1]=[a("添加")])),_:1}),t(o,{permission:"admin:web:funcApplicationFuncRel:funcAssignFuncApplication",route:"/admin/funcApplicationFuncRelManageFuncAssignFuncApplication"},{default:i(()=>e[2]||(e[2]=[a("功能分配功能应用")])),_:1}),t(o,{permission:"admin:web:funcApplicationFuncRel:funcApplicationAssignFunc",route:"/admin/funcApplicationFuncRelManageFuncApplicationAssignFunc"},{default:i(()=>e[3]||(e[3]=[a("功能应用分配功能")])),_:1}),t(o,{permission:"admin:web:funcApplicationFuncRel:deleteByFuncId",route:"/admin/funcApplicationFuncRelManageDeleteByFuncId"},{default:i(()=>e[4]||(e[4]=[a("清空功能功能应用")])),_:1}),t(o,{permission:"admin:web:funcApplicationFuncRel:deleteByFuncApplicationId",route:"/admin/funcApplicationFuncRelManageDeleteByFuncApplicationId"},{default:i(()=>e[5]||(e[5]=[a("清空功能应用功能")])),_:1})]),_:1},8,["form","submitAttrs","comps"]),t(f,{ref_key:"tableRef",ref:F,"default-expand-all":"",dataMethod:g,onDataMethodDataLoading:e[0]||(e[0]=p=>l.value.loading=p),paginationProps:y,columns:c.tableColumns},{defaultAppend:i(()=>[t(r,{label:"操作"},{default:i(({row:p,column:A,$index:x})=>[t(m,{options:B({row:p,column:A,$index:x})},null,8,["options"])]),_:1})]),_:1},8,["columns"]),t(d,{level:3})],64)}}});export{V as default};
