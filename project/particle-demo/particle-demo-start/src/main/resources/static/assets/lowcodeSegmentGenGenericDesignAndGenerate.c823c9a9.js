import{d,a as P,r as n,b as F,o as A,c as y,e as c,w as h,F as v,W as B,O as N,U as k,C as w,Z as S}from"./index.147a787d.js";import{b as I,e as R}from"./lowcodeSegmentGenAdminApi.2cc29f44.js";const j=d({name:"LowcodeSegmentGenGenericDesignAndGeneratePage"}),x=d({...j,props:{lowcodeSegmentGenId:{type:String},formComps:Array,formLayout:{type:[Number,Array]}},setup(a){const e=a,t=(r,l="success")=>{N({showClose:!0,message:r,type:l,showIcon:!0,grouping:!0})},u=P({form:{lowcodeSegmentGenId:e.lowcodeSegmentGenId,javaPackageKeys:["moduleNamePackage","parentPackage"]},renderResultForm:{templateContentResult:"",templateNameContentResult:"",templateNameContentResultFile:""},formData:{}}),o=n(e.formComps),s=n([{field:{name:"templateNameContentResult"},element:{comp:"PtAceEditor",formItemProps:{label:"\u540D\u79F0\u6E32\u67D3\u7ED3\u679C\u6587\u672C"},compProps:{clearable:!0,mode:"ace/mode/json",class:"pt-width-100-pc"}}},{field:{name:"templateContentResult"},element:{comp:"PtAceEditor",formItemProps:{label:"\u6E32\u67D3\u7ED3\u679C\u6587\u672C"},compProps:{clearable:!0,mode:"ace/mode/json",class:"pt-width-100-pc"}}},{field:{name:"templateNameContentResultFile"},element:{comp:"el-input",formItemProps:{label:"\u540D\u79F0\u6E32\u67D3\u7ED3\u679C\u6587\u4EF6\u53E5\u67C4"},compProps:{clearable:!0}}}]),C=n({buttonText:"\u5F00\u59CB\u6E32\u67D3",permission:"admin:web:lowcodeSegmentGen:renderGen"}),b=r=>{let l=B(r);return l.global&&(l.global=JSON.parse(l.global)),l.ext&&(l.ext=JSON.parse(l.ext)),I(l)},p=n(!1),D=r=>{p.value=!0,u.renderResultForm.templateContentResult=r.data.data.templateContentResult,u.renderResultForm.templateNameContentResult=r.data.data.templateNameContentResult,u.renderResultForm.templateNameContentResultFile=r.data.data.templateNameContentResultFile,setTimeout(()=>{t("\u6E32\u67D3\u6210\u529F")},300)};return(r,l)=>{const i=F("PtForm"),f=F("el-dialog");return A(),y(v,null,[c(i,{form:u.form,formData:u.formData,labelWidth:"100",method:b,methodSuccess:D,defaultButtonsShow:"submit,reset",submitAttrs:C.value,buttonsTeleportProps:r.$route.meta.formButtonsTeleportProps,inline:"","label-position":"top",layout:a.formLayout,comps:o.value},null,8,["form","formData","submitAttrs","buttonsTeleportProps","layout","comps"]),c(f,{modelValue:p.value,"onUpdate:modelValue":l[0]||(l[0]=g=>p.value=g),width:"70%",title:"\u67E5\u770B\u6E32\u67D3\u7ED3\u679C\u6570\u636E","append-to-body":"","destroy-on-close":""},{default:h(()=>[c(i,{form:u.renderResultForm,labelWidth:"100",defaultButtonsShow:"","label-position":"top",layout:[2,1],comps:s.value},null,8,["form","comps"])]),_:1},8,["modelValue"])],64)}}}),E="com.particle",m=(a,e,t)=>{let u={};try{u=JSON.parse(a.global)}catch{}u[e]=t,a.global=JSON.stringify(u,(o,s)=>s,"  ")},G=(a,e)=>{e.outputFileParentAbsoluteDir=a.outputFileParentAbsoluteDir,e.ext=a.extJson;let t=JSON.parse(a.globalJson);e.packageModule&&(t.packageModule=e.packageModule),e.global=JSON.stringify(t,null,"  "),t=JSON.parse(a.globalJson);for(let o in t)S(e,o)&&(e[o]=t[o]);let u=e.javaPackageKeys||[];a.javaPackageKeys&&a.javaPackageKeys.split(",").forEach(o=>{u.some(s=>s==o)||u.push(o)}),e.javaPackageKeys=u},J=[{field:{name:"javaPackageKeys"},element:{comp:"el-input",formItemProps:{label:"java\u5305\u952E\u540D",tips:"\u4EC5\u652F\u6301 global\u548Cext\u952E\u8868\u8F6C\u6362\uFF0C\u7528\u4E8E\u5C06\u5F62\u5982\uFF1Acom.particle\u7684\u5305\u540D\u8F6C\u6362\u4E3A\u8DEF\u5F84 com/particle,\u591A\u4E2A\u4EE5\u9017\u53F7\u5206\u9694"},compProps:{clearable:!0}}},{field:{name:"outputFileParentAbsoluteDir"},element:{comp:"el-input",formItemProps:{label:"\u8F93\u51FA\u6587\u4EF6\u7684\u7236\u76EE\u5F55\u7EDD\u5BF9\u8DEF\u5F84",tips:"\u5982\uFF1A/user/yw/test \u6216 C:\\yw\\test\u3002\u5F15\u7528\u7684\u6A21\u677F\u6709\u8F93\u51FA\u6587\u4EF6\u6216\u76EE\u5F55\u65F6\u9700\u8981\u586B\u5199"},compProps:{clearable:!0}}},{field:{name:"global",value:JSON.stringify({parentPackage:E})},element:{comp:"PtAceEditor",formItemProps:{label:"\u5168\u5C40\u6E32\u67D3\u6570\u636E"},compProps:{clearable:!0,mode:"ace/mode/json",class:"pt-width-100-pc"}}},{field:{name:"ext",value:"{}"},element:{comp:"PtAceEditor",formItemProps:{label:"\u6269\u5C55\u6E32\u67D3\u6570\u636E"},compProps:{clearable:!0,mode:"ace/mode/json",class:"pt-width-100-pc"}}}],T=({props:a})=>[{field:{name:"moduleName",valueChange:({form:e,formData:t,newValue:u})=>{if(m(e,"moduleName",u),u){let o=k(u.toLowerCase(),["-"]);e.moduleNamePackage=o.toLowerCase(),e.moduleNameEntity=w(o)}else e.moduleNamePackage="",e.moduleNameEntity=""}},element:{comp:"el-input",formItemProps:{label:"\u6A21\u5757\u540D\u79F0",tips:"\u5982\uFF1Auser \u6216 particle-demo\uFF0C\u8BF7\u4E0D\u8981\u4F7F\u7528\u5927\u5199",labelTips:"\u8BE5\u503C\u4F1A\u81EA\u52A8\u653E\u5230\u5168\u5C40\u53D8\u91CF\u4E2D",required:!0},compProps:({form:e})=>({clearable:!0,slots:{append:{is:"PtButton",attrs:{icon:"Search",beforeMethod:()=>a.refrenceSegmentGenId>0?!0:"\u672A\u5F15\u7528\u751F\u6210\u6570\u636E",method:()=>R({id:a.refrenceSegmentGenId}).then(t=>{let u=t.data.data;return G(u,e),Promise.resolve(t)}),title:"\u52A0\u8F7D\u5F15\u7528\u751F\u6210\u6570\u636E"}}}})}},{field:{name:"author",valueChange:({form:e,formData:t,newValue:u})=>{m(e,"author",u)}},element:{comp:"el-input",formItemProps:{label:"\u4F5C\u8005",tips:"\u5982\uFF1Ayw",labelTips:"\u8BE5\u503C\u4F1A\u81EA\u52A8\u653E\u5230\u5168\u5C40\u53D8\u91CF\u4E2D",required:!0},compProps:{clearable:!0}}},{field:{name:"moduleNamePackage",valueChange:({form:e,formData:t,newValue:u})=>{m(e,"moduleNamePackage",u)}},element:{comp:"el-input",formItemProps:{label:"\u6A21\u5757\u540D\u79F0\u5BF9\u5E94\u7684\u5305\u540D",tips:"\u5982\uFF1Auser \u6216 particledemo\uFF0C\u8BF7\u4E0D\u8981\u4F7F\u7528\u5927\u5199",labelTips:"\u8BE5\u503C\u4F1A\u81EA\u52A8\u653E\u5230\u5168\u5C40\u53D8\u91CF\u4E2D",required:!0},compProps:{clearable:!0}}},{field:{name:"parentPackage",value:E,valueChange:({form:e,formData:t,newValue:u})=>{m(e,"parentPackage",u)}},element:{comp:"el-input",formItemProps:{label:"\u7236\u5305",tips:"\u5982\uFF1Acom.particle\uFF0C\u8BF7\u4E0D\u8981\u4F7F\u7528\u5927\u5199",labelTips:"\u8BE5\u503C\u4F1A\u81EA\u52A8\u653E\u5230\u5168\u5C40\u53D8\u91CF\u4E2D",required:!0},compProps:{clearable:!0}}},{field:{name:"moduleNameEntity",valueChange:({form:e,formData:t,newValue:u})=>{m(e,"moduleNameEntity",u)}},element:{comp:"el-input",formItemProps:{label:"\u6A21\u5757\u540D\u79F0\u5B9E\u4F53\u5316",tips:"\u4FDD\u8BC1\u9996\u5B57\u6BCD\u5927\u5199\u4E14\u7B26\u5408java\u6587\u4EF6\u547D\u540D",labelTips:"\u8BE5\u503C\u4F1A\u81EA\u52A8\u653E\u5230\u5168\u5C40\u53D8\u91CF\u4E2D",required:!0},compProps:{clearable:!0}}},{field:{name:"emptyPtDivider"},element:{comp:"PtDivider",formItemProps:{label:""},compProps:{content:"\u4EE5\u4E0A\u4E3A\u8F85\u52A9\u8F93\u5165\uFF0C\u6700\u7EC8\u4EE5\u4E0B\u9762json\u4E3A\u63D0\u4EA4\u6570\u636E",class:"pt-width-100-pc"}}},...J],_=({props:a})=>[{field:{name:"packageModule",valueChange:({form:e,formData:t,newValue:u})=>{m(e,"packageModule",u)}},element:{comp:"el-input",formItemProps:{label:"\u5B50\u5305\u540D\u79F0",tips:"\u5982\uFF1Auser \uFF0C\u8BF7\u5168\u90E8\u4F7F\u7528\u5C0F\u5199\u4E0D\u8981\u4F7F\u7528\u5206\u9694\u7B26\uFF0C\u7B26\u5408java \u5305\u547D\u4EE4\u89C4\u5219",labelTips:"\u8BE5\u503C\u4F1A\u81EA\u52A8\u653E\u5230\u5168\u5C40\u53D8\u91CF\u4E2D"},compProps:{clearable:!0}}},...T({props:a})];export{x as _,_ as a,J as g,T as u};
