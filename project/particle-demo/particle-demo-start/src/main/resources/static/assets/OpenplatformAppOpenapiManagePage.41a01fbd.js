import{p as O,a as C,r as x,b as v}from"./openplatformAppOpenapiManage.155ca082.js";import{d as b,r as c,a as D,b as o,o as w,c as E,e as p,w as n,f as T,F as N}from"./index.9463e69a.js";import"./openplatformAppCompItem.382424b2.js";import"./openplatformAppAdminApi.ec488afb.js";import"./openplatformOpenapiCompItem.f2de3b6c.js";import"./openplatformOpenapiFeeCompItem.7de3e71b.js";import"./openplatformOpenapiFeeAdminApi.a2d8a7e8.js";import"./openplatformProviderCompItem.e43820b3.js";import"./openplatformProviderAdminApi.50d9d8d2.js";const R=b({name:"OpenplatformAppOpenapiManagePage"}),Q=b({...R,setup(M){const i=c(null),a=D({form:{},formComps:O,tableColumns:[{prop:"openplatformAppName",label:"app\u540D\u79F0"},{prop:"openplatformOpenapiName",label:"\u5F00\u653E\u63A5\u53E3\u540D\u79F0"},{prop:"openplatformOpenapiFeeName",label:"\u8BA1\u8D39\u89C4\u5219\u540D\u79F0"}]}),u=c({buttonText:"\u67E5\u8BE2",loading:!1,permission:"admin:web:openplatformAppOpenapi:pageQuery"}),l=()=>{i.value.refreshData()},_=({pageQuery:e})=>C({...a.form,...e}),A={permission:u.value.permission},F=({row:e,column:r,$index:m})=>m<0?[]:[{txt:"\u7F16\u8F91",text:!0,permission:"admin:web:openplatformAppOpenapi:update",route:{path:"/admin/OpenplatformAppOpenapiManageUpdate",query:{id:e.id}}},{txt:"\u5220\u9664",text:!0,position:"more",permission:"admin:web:openplatformAppOpenapi:delete",methodConfirmText:`\u786E\u5B9A\u8981\u5220\u9664 ${e.openplatformAppName} \u548C ${e.openplatformOpenapiName} \u5417\uFF1F`,method(){return x({id:e.id}).then(t=>(l(),Promise.resolve(t)))}},{txt:"\u5237\u65B0\u7F13\u5B58",text:!0,position:"more",permission:"admin:web:openplatformAppOpenapi:refreshCache",methodSuccess:t=>"\u5237\u65B0\u7F13\u5B58\u6210\u529F,\u5982\u679C\u90E8\u7F72\u591A\u4E2A\u5B9E\u4F8B\u53EF\u80FD\u8981\u591A\u6B21\u6267\u884C\u3002 "+t.data.data,method(){return v({id:e.id}).then(t=>Promise.resolve(t))}}];return(e,r)=>{const m=o("PtButton"),d=o("PtForm"),f=o("PtButtonGroup"),t=o("el-table-column"),B=o("PtTable"),P=o("PtRouteViewPopover");return w(),E(N,null,[p(d,{form:a.form,method:l,defaultButtonsShow:"submit,reset",submitAttrs:u.value,inline:"",comps:a.formComps},{buttons:n(()=>[p(m,{permission:"admin:web:openplatformAppOpenapi:create",route:"/admin/OpenplatformAppOpenapiManageAdd"},{default:n(()=>[T("\u6DFB\u52A0")]),_:1})]),_:1},8,["form","submitAttrs","comps"]),p(B,{ref_key:"tableRef",ref:i,"default-expand-all":"",dataMethod:_,onDataMethodDataLoading:r[0]||(r[0]=s=>u.value.loading=s),paginationProps:A,columns:a.tableColumns},{defaultAppend:n(()=>[p(t,{label:"\u64CD\u4F5C",width:"180"},{default:n(({row:s,column:h,$index:g})=>[p(f,{options:F({row:s,column:h,$index:g}),dropdownTriggerButtonOptions:{text:!0,buttonText:"\u66F4\u591A"}},null,8,["options"])]),_:1})]),_:1},8,["columns"]),p(P,{level:3})],64)}}});export{Q as default};
