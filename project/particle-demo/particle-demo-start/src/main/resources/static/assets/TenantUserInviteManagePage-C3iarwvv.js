import{p as C,a as I,r as B}from"./tenantUserInviteManage-BxH3L7MC.js";import{d as T,r as c,a as U,b as t,o as h,c as R,e as n,w as r,f as A,F as D}from"./index-BGwvwH0Y.js";const k=T({__name:"TenantUserInviteManagePage",setup(M){const p=c(null),a=U({form:{},formComps:C,tableColumns:[{prop:"inviteCode",label:"邀请码"},{prop:"maxInviteCount",label:"最大邀请人数"},{prop:"invitedCount",label:"已邀请人数"},{prop:"isExpired",label:"是否过期"},{prop:"expiredReason",label:"过期原因"},{prop:"expireAt",label:"到期时间"},{prop:"inviterUserId",label:"邀请人用户id"}]}),s=c({buttonText:"查询",loading:!1,permission:"admin:web:tenantUserInvite:pageQuery"}),u=()=>{p.value.refreshData()},f=({pageQuery:e})=>I({...a.form,...e}),v={permission:s.value.permission},_=({row:e,column:o,$index:i})=>i<0?[]:[{txt:"编辑",text:!0,permission:"admin:web:tenantUserInvite:update",route:{path:"/admin/TenantUserInviteManageUpdate",query:{id:e.id}}},{txt:"删除",text:!0,permission:"admin:web:tenantUserInvite:delete",methodConfirmText:`确定要删除 ${e.name} 吗？`,method(){return B({id:e.id}).then(l=>(u(),Promise.resolve(l)))}}];return(e,o)=>{const i=t("PtButton"),d=t("PtForm"),b=t("PtButtonGroup"),l=t("el-table-column"),P=t("PtTable"),g=t("PtRouteViewPopover");return h(),R(D,null,[n(d,{form:a.form,method:u,defaultButtonsShow:"submit,reset",submitAttrs:s.value,inline:"",comps:a.formComps},{buttons:r(()=>[n(i,{permission:"admin:web:tenantUserInvite:create",route:"/admin/TenantUserInviteManageAdd"},{default:r(()=>o[1]||(o[1]=[A("添加")])),_:1})]),_:1},8,["form","submitAttrs","comps"]),n(P,{ref_key:"tableRef",ref:p,"default-expand-all":"",dataMethod:f,onDataMethodDataLoading:o[0]||(o[0]=m=>s.value.loading=m),paginationProps:v,columns:a.tableColumns},{defaultAppend:r(()=>[n(l,{label:"操作",width:"180"},{default:r(({row:m,column:x,$index:w})=>[n(b,{options:_({row:m,column:x,$index:w})},null,8,["options"])]),_:1})]),_:1},8,["columns"]),n(g,{level:3})],64)}}});export{k as default};
