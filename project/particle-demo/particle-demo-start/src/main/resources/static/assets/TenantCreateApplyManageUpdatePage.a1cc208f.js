import{u as C,d as v}from"./tenantCreateApplyAdminApi.12749ae5.js";import{b as B}from"./tenantCreateApplyManage.d98e35e1.js";import{d as m,r as e,a as J,b as l,o as x,c as O,e as u,w as p,i as P,f as N,F as M,X as V}from"./index.8f1940e7.js";import{_ as w}from"./TenantCreateApplyFuncApplication.vue_vue_type_style_index_0_lang.9c15eec2.js";import"./funcApplicationAdminApi.98ae05b5.js";import"./funcApplicationCompItem.507cb65c.js";const j=m({name:"AreaManageUpdatePage"}),X=m({...j,props:{applyUserId:{type:String},applyUserNickname:String,tenantCreateApplyId:{type:String}},setup(c){const n=c,o=e(!1),i=e(null),r=e({}),d=e(!1),s=J({form:{id:n.tenantCreateApplyId,version:1,extJsonObj:null},formData:{}}),f=e(B({props:n,funcApplicationDialogVisible:o})),b=e({buttonText:"\u786E\u8BA4\u4FEE\u6539",permission:"admin:web:tenantCreateApply:update",beforeMethod:()=>d.value==!0?"\u5F53\u524D\u6570\u636E\u5DF2\u5BA1\u6838\u901A\u8FC7\u4E0D\u80FD\u4FEE\u6539":!0}),F=()=>C,A=()=>v({id:n.tenantCreateApplyId}).then(t=>(t.data.data.extJson&&(t.data.data.extJsonObj=JSON.parse(t.data.data.extJson),r.value=JSON.parse(JSON.stringify(t.data.data.extJsonObj)),d.value=t.data.data.auditStatusDictValue=="audit_pass"),Promise.resolve(t))),E=()=>"\u4FEE\u6539\u6210\u529F\uFF0C\u8BF7\u5237\u65B0\u6570\u636E\u67E5\u770B";let y=t=>{V({showClose:!0,message:t,type:"error",showIcon:!0,grouping:!0})};const _=()=>{let t=i.value.getSelectedData();if(t.length==0){y("\u8BF7\u81F3\u5C11\u9009\u62E9\u4E00\u4E2A\u5E94\u7528\u53CA\u5BF9\u5E94\u7684\u529F\u80FD");return}let a={funcApplications:t};s.form.extJsonObj=a,r.value=JSON.parse(JSON.stringify(a)),o.value=!1};return(t,a)=>{const D=l("PtForm"),S=l("PtButton"),g=l("el-dialog");return x(),O(M,null,[u(D,{form:s.form,formData:s.formData,labelWidth:"80",dataMethod:A,method:F(),methodSuccess:E,defaultButtonsShow:"submit,reset",submitAttrs:b.value,buttonsTeleportProps:t.$route.meta.formButtonsTeleportProps,inline:"",layout:[3,3,2,1],comps:f.value},null,8,["form","formData","method","submitAttrs","buttonsTeleportProps","comps"]),u(g,{modelValue:o.value,"onUpdate:modelValue":a[0]||(a[0]=h=>o.value=h),width:"70%",title:"\u8981\u5206\u914D\u7684\u5E94\u7528\u53CA\u529F\u80FD","append-to-body":"","destroy-on-close":""},{footer:p(()=>[P("span",null,[u(S,{type:"primary",onClick:_},{default:p(()=>[N("\u786E\u8BA4")]),_:1})])]),default:p(()=>[u(w,{ref_key:"tenantCreateApplyFuncApplicationRef",ref:i,initSelectedData:r.value.funcApplications},null,8,["initSelectedData"])]),_:1},8,["modelValue"])],64)}}});export{X as default};
