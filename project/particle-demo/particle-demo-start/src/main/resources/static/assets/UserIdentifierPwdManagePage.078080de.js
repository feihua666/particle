import{p as I,r as h}from"./userIdentifierPwdAdminApi.74731831.js";import{d as b,q as A,B as E,r as F,a as v,b as o,o as M,c as R,e as r,w as i,f as T,F as U}from"./index.39bfef88.js";import{u as y}from"./userIdentifierPwdManage.da9384c6.js";const k=b({name:"UserIdentifierPwdManagePage"}),$=b({...k,props:{...A,...E},setup(P){const B=P,m=F(null),s=v({form:{},formComps:y({props:B}),tableColumns:[{prop:"userNickname",label:"\u7528\u6237\u6635\u79F0"},{prop:"userIdentifier",label:"\u767B\u5F55\u6807\u8BC6"},{prop:"pwdEncryptFlag",label:"\u52A0\u5BC6\u65B9\u5F0F"},{prop:"isExpired",label:"\u662F\u5426\u8FC7\u671F",width:70,formatter:(e,n,u,a)=>{let t=u?"\u5DF2\u8FC7\u671F":"\u6B63\u5E38";return u&&e.expiredReason&&(t=t+`(${e.expiredReason})`),t}},{prop:"expireAt",label:"\u8FC7\u671F\u65F6\u95F4",width:80},{prop:"isNeedUpdate",label:"\u662F\u5426\u9700\u8981\u63D0\u793A\u4FEE\u6539\u5BC6\u7801",width:70,formatter:(e,n,u,a)=>{let t=u?"\u63D0\u793A":"\u4E0D\u63D0\u793A";return u&&e.needUpdateMessage&&(t=t+`(${e.needUpdateMessage})`),t},showOverflowTooltip:!0},{prop:"groupFlag",label:"\u5206\u7EC4\u6807\u8BC6"},{prop:"pwdModifiedAt",label:"\u5BC6\u7801\u4FEE\u6539\u65F6\u95F4"},{prop:"complexity",label:"\u5BC6\u7801\u590D\u6742\u5EA6"}]}),d=F({buttonText:"\u67E5\u8BE2",loading:!1,permission:"admin:web:userIdentifierPwd:pageQuery"}),f=()=>{m.value.refreshData()},C=({pageQuery:e})=>I({...s.form,...e}),_={permission:d.value.permission},g=({row:e,column:n,$index:u})=>{if(u<0)return[];let a={id:e.id};return[{txt:"\u7F16\u8F91",text:!0,permission:"admin:web:userIdentifierPwd:update",route:{path:"/admin/userIdentifierPwdManageUpdate",query:{id:e.id,userId:e.userId,nickname:e.userNickname,identifierId:e.identifierId,identifier:e.userIdentifier}}},{txt:"\u5220\u9664",text:!0,permission:"admin:web:userIdentifierPwd:delete",methodConfirmText:`\u5220\u9664\u7528\u6237\u5BC6\u7801\u4F1A\u9020\u6210\u7528\u6237\u5F53\u524D\u8D26\u53F7\u65E0\u6CD5\u767B\u5F55\uFF0C\u4F46\u4E0D\u5F71\u54CD\u5176\u5B83\u8D26\u53F7\u767B\u5F55\u3002\u786E\u5B9A\u8981\u5220\u9664 ${e.userIdentifier} \u7684\u5BC6\u7801\u5417\uFF1F`,method(){return h(a).then(l=>(f(),Promise.resolve(l)))}}]};return(e,n)=>{const u=o("PtButton"),a=o("PtForm"),t=o("PtButtonGroup"),c=o("el-table-column"),l=o("PtTable"),w=o("PtRouteViewPopover");return M(),R(U,null,[r(a,{form:s.form,method:f,defaultButtonsShow:"submit,reset",submitAttrs:d.value,inline:"",comps:s.formComps},{buttons:i(()=>[r(u,{permission:"admin:web:userIdentifierPwd:create",route:"/admin/userIdentifierPwdManageAdd"},{default:i(()=>[T("\u6DFB\u52A0")]),_:1})]),_:1},8,["form","submitAttrs","comps"]),r(l,{ref_key:"tableRef",ref:m,"default-expand-all":"",dataMethod:C,onDataMethodDataLoading:n[0]||(n[0]=p=>d.value.loading=p),dataMethodResultHandleConvertToTree:!0,paginationProps:_,columns:s.tableColumns},{defaultAppend:i(()=>[r(c,{label:"\u64CD\u4F5C",width:"180"},{default:i(({row:p,column:D,$index:x})=>[r(t,{options:g({row:p,column:D,$index:x})},null,8,["options"])]),_:1})]),_:1},8,["columns"]),r(w,{level:3})],64)}}});export{$ as default};
