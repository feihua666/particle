import{d as h,r as o,a as D,b as r,o as P,c as S,e as n,w as l,h as x,f as O,F as k,ai as w,G as B}from"./index-BGwvwH0Y.js";import{_ as F}from"./TenantCreateApplyFuncApplication.vue_vue_type_style_index_0_lang-DEYJxkMM.js";import{u as T}from"./tenantCreateApplyManage-TghlLURD.js";import"./funcApplicationAdminApi-ASy2cTde.js";import"./funcApplicationCompItem-Do_PCQ94.js";import"./userCompItem-BIkuEm_h.js";import"./userAdminApi-mLq-OWKq.js";const R=h({__name:"TenantManageOneClickAddPage",props:{},setup(u){const a=o(!1),i=o(null),m=u,s=D({form:{extJsonObj:null},formData:{}}),c=o(T({props:m,funcApplicationDialogVisible:a})),f=o({buttonText:"确认添加",permission:"admin:web:tenantCreateApply:create"}),d=()=>w,b=()=>"添加成功，请刷新数据查看";let A=e=>{B({showClose:!0,message:e,type:"error",showIcon:!0,grouping:!0})};const p=o({}),_=()=>{let e=i.value.getSelectedData();if(e.length==0){A("请至少选择一个应用及对应的功能");return}let t={funcApplications:e};s.form.extJsonObj=t,p.value=JSON.parse(JSON.stringify(t)),a.value=!1};return(e,t)=>{const g=r("PtForm"),C=r("PtButton"),v=r("el-dialog");return P(),S(k,null,[n(g,{form:s.form,formData:s.formData,labelWidth:"80",method:d(),methodSuccess:b,defaultButtonsShow:"submit,reset",submitAttrs:f.value,buttonsTeleportProps:e.$route.meta.formButtonsTeleportProps,inline:"",layout:[3,3,2,1],comps:c.value},null,8,["form","formData","method","submitAttrs","buttonsTeleportProps","comps"]),n(v,{modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=y=>a.value=y),width:"70%",title:"要分配的应用及功能","append-to-body":"","destroy-on-close":""},{footer:l(()=>[x("span",null,[n(C,{type:"primary",onClick:_},{default:l(()=>t[1]||(t[1]=[O("确认")])),_:1})])]),default:l(()=>[n(F,{ref_key:"tenantCreateApplyFuncApplicationRef",ref:i,initSelectedData:p.value.funcApplications},null,8,["initSelectedData"])]),_:1},8,["modelValue"])],64)}}});export{R as default};
