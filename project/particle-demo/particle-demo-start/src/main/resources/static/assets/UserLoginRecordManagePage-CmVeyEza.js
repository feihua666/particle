import{i as P,d as I,r as g,a as T,n as L,b as n,o as U,c as A,e as r,w as d,F as D}from"./index-D8BtRcSm.js";import{a as S,g as F,u as M,h as k}from"./userCompItem-BbD-YbDP.js";import"./userAdminApi-frgTu-Du.js";let _="/admin/web/user-login-record";const V=t=>P.delete(_+"/delete",{data:t}),q=t=>P.get(_+"/page",{params:t}),E=I({__name:"UserLoginRecordManagePage",props:{...S,...F},setup(t){const p=g(null),c=t,s=T({form:{},formComps:[M({props:c,required:!1}),k({props:c,required:!1,fieldName:"userIdentifierId"}),{field:{name:"deviceId"},element:{comp:"el-input",formItemProps:{label:"设备id"},compProps:{}}}],tableColumns:L}),a=g({buttonText:"查询",loading:!1,permission:"admin:web:userLoginRecord:pageQuery"}),f=()=>{p.value.refreshData()},R=({pageQuery:e})=>q({...s.form,...e}),v={permission:a.value.permission},x=({row:e,column:o,$index:i})=>{if(i<0)return[];let l={id:e.id};return e.id,e.identifier,[{txt:"删除",text:!0,permission:"admin:web:userLoginRecord:delete",methodConfirmText:"确定要删除 登录记录 吗？",method(){return V(l).then(m=>(f(),Promise.resolve(m)))}}]},C={text:!0,buttonText:"更多"};return(e,o)=>{const i=n("PtForm"),l=n("PtButtonGroup"),b=n("el-table-column"),m=n("PtTable"),w=n("PtRouteViewPopover");return U(),A(D,null,[r(i,{form:s.form,method:f,defaultButtonsShow:"submit,reset",submitAttrs:a.value,inline:"",labelWidth:"80",comps:s.formComps},{buttons:d(()=>o[1]||(o[1]=[])),_:1},8,["form","submitAttrs","comps"]),r(m,{ref_key:"tableRef",ref:p,"default-expand-all":"",dataMethod:R,onDataMethodDataLoading:o[0]||(o[0]=u=>a.value.loading=u),paginationProps:v,columns:s.tableColumns},{defaultAppend:d(()=>[r(b,{label:"操作"},{default:d(({row:u,column:h,$index:B})=>[r(l,{options:x({row:u,column:h,$index:B}),dropdownTriggerButtonOptions:C},null,8,["options"])]),_:1})]),_:1},8,["columns"]),r(w,{level:3})],64)}}});export{E as default};
