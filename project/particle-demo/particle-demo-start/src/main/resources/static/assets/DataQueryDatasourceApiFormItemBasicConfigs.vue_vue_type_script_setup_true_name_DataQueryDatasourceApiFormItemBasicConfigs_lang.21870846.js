import{d as c,a as _,a0 as S,r as p,b as g,o as f,h as C,c as h,e as D,w as F,N as A,F as J,i as q,a4 as y}from"./index.147a787d.js";const j=c({name:"JdbcApiBasicConfig"}),V=c({...j,props:{initJsonStr:{type:String},onSubmit:{type:Function,default:()=>({})}},setup(s,{expose:m}){const t=s,u=_({form:{}}),n=[{field:{name:"dataType"},element:{comp:"PtDictFrontSelect",formItemProps:{label:"\u6570\u636E\u7C7B\u578B",required:!0},compProps:{dictParam:{groupCode:"dataquery_datasource_api_jdbc_basic_config_data_type"},props:{value:"value"}}}},{field:{name:"sqlTemplateType"},element:{comp:"PtDictFrontSelect",formItemProps:{label:"sql\u6A21\u677F\u7C7B\u578B",required:!0},compProps:{dictParam:{groupCode:"dataquery_datasource_api_jdbc_basic_config_sql_template_type"},props:{value:"value"}}}},{field:{name:"sqlTemplate"},element:{comp:"el-input",formItemProps:{label:"sql\u6A21\u677F\u5185\u5BB9",required:!0,tips:`1. enjoy\u6A21\u677F \u6700\u7EC8\u4F1A\u6E32\u67D3\u4E3Asql\u8BED\u53E5\uFF0C \u53D6\u503C\u793A\u4F8B where name = '#(data.name)' data\u4E3A\u8BF7\u6C42\u53C2\u6570\u53E5\u67C4\uFF0C<br/>2. mybatisScript\u6A21\u677F \u6700\u7EC8\u4F1A\u6E32\u67D3\u4E3Asql\u8BED\u53E5\uFF0C \u9700\u8981\u4EE5&lt;script&gt;\u5F00\u5934\uFF0C\u6CE8\u610F\u524D\u9762\u4E0D\u80FD\u6709\u7A7A\u683C \u53D6\u503C\u793A\u4F8B&lt;script&gt;&lt;if test="data.data.name != null"&gt;where name = #{data.data.name}&lt;/if&gt;&lt;/script&gt; \u6CE8\u610F\uFF1Adata.data(\u4E24\u4E2Adata)\u4E3A\u8BF7\u6C42\u53C2\u6570\u53E5\u67C4<br/>3. raw\u6A21\u5F0F \u8BF7\u76F4\u63A5\u5199sql\uFF0C\u4E0D\u5177\u5907\u53D8\u91CF\u6E32\u67D3\u80FD\u529B<br/>4. groovy\u811A\u672C\u652F\u6301\uFF0C\u5177\u6709\u7F16\u7A0B\u7684\u80FD\u529B\u6700\u7EC8\u7ED3\u679C\u5C06\u4F7F\u7528\u8BE5\u811A\u672C\u7684\u8FD4\u56DE\u503C\u76F4\u63A5\u8FD4\u56DE\u6570\u636E\uFF0C\u5185\u7F6E\u53E5\u67C4\u4E3A jdbcService \u548C data\uFF0CjdbcService\u4E3A\u67E5\u8BE2\u6570\u636E\u670D\u52A1\uFF0Cdata\u4E3A\u6301\u6709\u8BF7\u6C42\u53C2\u6570\u53E5\u67C4`},compProps:{type:"textarea",rows:15,clearable:!0}}}];S(()=>{if(t.initJsonStr){let o=JSON.parse(t.initJsonStr);for(let r in o)u.form[r]=o[r]}});const e=p({buttonText:"\u786E\u8BA4"}),l=()=>{t.onSubmit()};return m({form:u.form}),(o,r)=>{const i=g("PtForm");return f(),C(i,{ref:"selfFormRef",form:u.form,class:"pt-wdith-100-pc",method:l,defaultButtonsShow:"submit,reset",submitAttrs:e.value,layout:1,comps:n},null,8,["form","submitAttrs"])}}}),T=c({name:"HttpApiBasicConfig"}),w=c({...T,props:{initJsonStr:{type:String},onSubmit:{type:Function,default:()=>({})}},setup(s,{expose:m}){const t=s,u=_({form:{}}),n=[{field:{name:"requestMethod"},element:{comp:"PtDictFrontSelect",formItemProps:{label:"\u8BF7\u6C42\u65B9\u6CD5",required:!0},compProps:{dictParam:{groupCode:"dataquery_datasource_api_http_basic_config_request_method"},props:{value:"value"}}}},{field:{name:"requestContentType"},element:{comp:"PtDictFrontSelect",formItemProps:{label:"\u8BF7\u6C42\u5185\u5BB9\u7C7B\u578B",required:!0,tips:"get\u8BF7\u6C42\u53EF\u4EE5\u8BF7\u6C42\u6CA1\u6709\u4F7F\u7528\u4E00\uFF0C\u968F\u4FBF\u9009\u4E00\u4E2A"},compProps:{dictParam:{groupCode:"dataquery_datasource_api_http_basic_config_content_type"},props:{value:"value"}}}},{field:{name:"responseContentType"},element:{comp:"PtDictFrontSelect",formItemProps:{label:"\u54CD\u5E94\u5185\u5BB9\u7C7B\u578B",required:!0},compProps:{dictParam:{groupCode:"dataquery_datasource_api_http_basic_config_content_type"},props:{value:"value"}}}},{field:{name:"requestUrlRenderType"},element:{comp:"PtDictFrontSelect",formItemProps:{label:"\u8BF7\u6C42\u5730\u5740\u6E32\u67D3\u7C7B\u578B",required:!0},compProps:{dictParam:{groupCode:"dataquery_datasource_api_http_basic_config_request_url_render_type"},props:{value:"value"}}}},{field:{name:"requestUrlTemplate"},element:{comp:"el-input",formItemProps:{label:"\u8BF7\u6C42\u5730\u5740",required:!0},compProps:{clearable:!0,placeholder:"\u5982\uFF1A/getUserList"}}}];S(()=>{if(t.initJsonStr){let o=JSON.parse(t.initJsonStr);for(let r in o)u.form[r]=o[r]}});const e=p({buttonText:"\u786E\u8BA4"}),l=()=>{t.onSubmit()};return m({form:u.form}),(o,r)=>{const i=g("PtForm");return f(),C(i,{ref:"selfFormRef",form:u.form,class:"pt-wdith-100-pc",method:l,defaultButtonsShow:"submit,reset",submitAttrs:e.value,layout:[3,1],comps:n},null,8,["form","submitAttrs"])}}}),x=q("div",{id:"dataqueryDatasourceApiJdbcBasicConfigDialogFooter"},null,-1),I=q("div",{id:"dataqueryDatasourceApiHttpBasicConfigDialogFooter"},null,-1),O=c({name:"DataQueryDatasourceApiFormItemBasicConfigs"}),k=c({...O,props:{form:{type:Object,required:!0},formData:{type:Object,required:!0}},setup(s,{expose:m}){const t=s,u=p(null),n=p(null),e=_({jdbc:{dialogVisible:!1},http:{dialogVisible:!1}}),l=B=>JSON.stringify(B),o=()=>{t.form.configJson=l(u.value.form),e.jdbc.dialogVisible=!1},r=()=>{t.form.configJson=l(n.value.form),e.http.dialogVisible=!1},i=p(!1),v=()=>{y(()=>{i.value=!0})},b=p(!1),P=()=>{y(()=>{b.value=!0})};return m({reactiveData:e}),(B,a)=>{const E=g("el-dialog");return f(),h(J,null,[D(E,{modelValue:e.jdbc.dialogVisible,"onUpdate:modelValue":a[0]||(a[0]=d=>e.jdbc.dialogVisible=d),width:"70%",title:"jdbc\u914D\u7F6EJson",onOpen:v,onClosed:a[1]||(a[1]=d=>i.value=!1),"append-to-body":"","destroy-on-close":""},{footer:F(()=>[x]),default:F(()=>[i.value?(f(),C(V,{key:0,ref_key:"jdbcConfigRef",ref:u,initJsonStr:s.form.configJson,onSubmit:o,buttonsTeleportProps:{disabled:!1,to:"#dataqueryDatasourceApiJdbcBasicConfigDialogFooter"}},null,8,["initJsonStr"])):A("",!0)]),_:1},8,["modelValue"]),D(E,{modelValue:e.http.dialogVisible,"onUpdate:modelValue":a[2]||(a[2]=d=>e.http.dialogVisible=d),width:"70%",title:"http\u914D\u7F6EJson",onOpen:P,onClosed:a[3]||(a[3]=d=>b.value=!1),"append-to-body":"","destroy-on-close":""},{footer:F(()=>[I]),default:F(()=>[b.value?(f(),C(w,{key:0,ref_key:"httpConfigRef",ref:n,initJsonStr:s.form.configJson,onSubmit:r,buttonsTeleportProps:{disabled:!1,to:"#dataqueryDatasourceApiHttpBasicConfigDialogFooter"}},null,8,["initJsonStr"])):A("",!0)]),_:1},8,["modelValue"])],64)}}});export{k as _};
