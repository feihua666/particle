import{p as T,a as h,r as w}from"./tenantManage.f95c946c.js";import{d as f,r as F,a as E,b as t,o as x,c as C,e as n,w as l,f as v,F as R}from"./index.147a787d.js";const M=f({name:"TenantManagePage"}),y=f({...M,setup(U){const c=F(null),u=E({form:{},formComps:T,tableColumns:[{prop:"code",label:"\u79DF\u6237\u7F16\u7801"},{prop:"name",label:"\u79DF\u6237\u540D\u79F0"},{prop:"tenantLogoUrl",label:"\u79DF\u6237logo",columnView:"image"},{prop:"isDisabled",label:"\u662F\u5426\u7981\u7528",formatter:(e,a,o,r)=>o?"\u7981\u7528":"\u542F\u7528"},{prop:"disabledReason",label:"\u7981\u7528\u539F\u56E0"},{prop:"contactUserName",label:"\u8054\u7CFB\u4EBA\u59D3\u540D"},{prop:"contactUserEmail",label:"\u8054\u7CFB\u4EBA\u90AE\u7BB1"},{prop:"contactUserPhone",label:"\u8054\u7CFB\u4EBA\u7535\u8BDD"},{prop:"tenantDomain",label:"\u79DF\u6237\u57DF\u540D"},{prop:"tenantTheme",label:"\u79DF\u6237\u4E3B\u9898"},{prop:"tenantDefaultRoute",label:"\u9ED8\u8BA4\u8DEF\u7531"},{prop:"configJson",label:"\u989D\u5916\u914D\u7F6Ejson",showOverflowTooltip:!0},{prop:"remark",label:"\u63CF\u8FF0"}]}),s=F({buttonText:"\u67E5\u8BE2",loading:!1,permission:"admin:web:tenant:pageQuery"}),d=()=>{c.value.refreshData()},D=({pageQuery:e})=>h({...u.form,...e}),_={permission:s.value.permission},B=({row:e,column:a,$index:o})=>{if(o<0)return[];let r={id:e.id},p={tenantId:e.id};return[{txt:"\u7F16\u8F91",text:!0,permission:"admin:web:tenant:update",route:{path:"/admin/TenantManageUpdate",query:r}},{txt:"\u5220\u9664",text:!0,permission:"admin:web:tenant:delete",methodConfirmText:`\u786E\u5B9A\u8981\u5220\u9664 ${e.name} \u5417\uFF1F`,method(){return w({id:e.id}).then(i=>(d(),Promise.resolve(i)))}},{txt:"\u79DF\u6237\u5206\u914D\u5E94\u7528",text:!0,permission:"admin:web:tenantFuncApplication:tenantAssignFuncApplication",route:{path:"/admin/tenant/tenantAssignFuncApplication",query:p}}]};return(e,a)=>{const o=t("PtButton"),r=t("PtForm"),p=t("PtButtonGroup"),b=t("el-table-column"),i=t("PtTable"),g=t("PtRouteViewPopover");return x(),C(R,null,[n(r,{form:u.form,method:d,defaultButtonsShow:"submit,reset",submitAttrs:s.value,inline:"",comps:u.formComps},{buttons:l(()=>[n(o,{permission:"admin:web:tenant:create",route:"/admin/TenantManageAdd"},{default:l(()=>[v("\u6DFB\u52A0")]),_:1})]),_:1},8,["form","submitAttrs","comps"]),n(i,{ref_key:"tableRef",ref:c,"default-expand-all":"",dataMethod:D,onDataMethodDataLoading:a[0]||(a[0]=m=>s.value.loading=m),paginationProps:_,columns:u.tableColumns},{defaultAppend:l(()=>[n(b,{label:"\u64CD\u4F5C",width:"180"},{default:l(({row:m,column:P,$index:A})=>[n(p,{options:B({row:m,column:P,$index:A})},null,8,["options"])]),_:1})]),_:1},8,["columns"]),n(g,{level:3})],64)}}});export{y as default};
