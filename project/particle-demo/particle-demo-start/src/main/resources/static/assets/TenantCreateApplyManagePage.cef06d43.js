import{p as P,a as g,r as h}from"./tenantCreateApplyManage.91304e9e.js";import{d as f,r as b,a as D,b as t,o as v,c as x,e as a,w as r,f as w,F as U}from"./index.147a787d.js";const E=f({name:"TenantCreateApplyManagePage"}),R=f({...E,setup(N){const d=b(null),o=D({form:{},formComps:P,tableColumns:[{prop:"name",label:"\u79DF\u6237\u540D\u79F0"},{prop:"tenantTypeDictName",label:"\u79DF\u6237\u7C7B\u578B"},{prop:"applyUserNickname",label:"\u7533\u8BF7\u7528\u6237"},{prop:"applyUserAvatar",label:"\u7533\u8BF7\u7528\u6237\u5934\u50CF",columnView:"image"},{prop:"contactUserName",label:"\u8054\u7CFB\u4EBA\u59D3\u540D"},{prop:"contactUserEmail",label:"\u8054\u7CFB\u4EBA\u90AE\u7BB1",showOverflowTooltip:!0},{prop:"contactUserPhone",label:"\u8054\u7CFB\u4EBA\u7535\u8BDD"},{prop:"auditStatusDictName",label:"\u5BA1\u6838\u72B6\u6001"},{prop:"auditStatusComment",label:"\u5BA1\u6838\u610F\u89C1",showOverflowTooltip:!0},{prop:"auditUserNickname",label:"\u5BA1\u6838\u4EBA"},{prop:"remark",label:"\u63CF\u8FF0"}]}),p=b({buttonText:"\u67E5\u8BE2",loading:!1,permission:"admin:web:TenantCreateApply:pageQuery"}),c=()=>{d.value.refreshData()},B=({pageQuery:e})=>g({...o.form,...e}),A={permission:p.value.permission},C=({row:e,column:l,$index:s})=>{if(s<0)return[];e.id;let u={id:e.id,applyUserId:e.applyUserId,applyUserNickname:e.applyUserNickname},n=[{txt:"\u7F16\u8F91",text:!0,permission:"admin:web:TenantCreateApply:update",route:{path:"/admin/TenantCreateApplyManageUpdate",query:u}},{txt:"\u5220\u9664",text:!0,permission:"admin:web:TenantCreateApply:delete",methodConfirmText:`\u786E\u5B9A\u8981\u5220\u9664 ${e.name} \u5417\uFF1F`,method(){return h({id:e.id}).then(i=>(c(),Promise.resolve(i)))}}];return e.auditStatusDictValue=="un_audit"&&n.push({txt:"\u5BA1\u6838",text:!0,permission:"admin:web:TenantCreateApply:audit",route:{path:"/admin/TenantCreateApplyManageAudit",query:u}}),n};return(e,l)=>{const s=t("PtButton"),u=t("PtForm"),n=t("PtButtonGroup"),i=t("el-table-column"),_=t("PtTable"),F=t("PtRouteViewPopover");return v(),x(U,null,[a(u,{form:o.form,method:c,defaultButtonsShow:"submit,reset",submitAttrs:p.value,inline:"",comps:o.formComps},{buttons:r(()=>[a(s,{permission:"admin:web:TenantCreateApply:create",route:"/admin/TenantCreateApplyManageAdd"},{default:r(()=>[w("\u6DFB\u52A0")]),_:1})]),_:1},8,["form","submitAttrs","comps"]),a(_,{ref_key:"tableRef",ref:d,"default-expand-all":"",dataMethod:B,onDataMethodDataLoading:l[0]||(l[0]=m=>p.value.loading=m),dataMethodResultHandleConvertToTree:!0,paginationProps:A,columns:o.tableColumns},{defaultAppend:r(()=>[a(i,{label:"\u64CD\u4F5C",width:"180"},{default:r(({row:m,column:y,$index:T})=>[a(n,{options:C({row:m,column:y,$index:T})},null,8,["options"])]),_:1})]),_:1},8,["columns"]),a(F,{level:3})],64)}}});export{R as default};
