import{i as f,d as k,r as i,a as x,b as t,o as B,c as C,e as o,w as b,F as A}from"./index-D8BtRcSm.js";let _="/admin/web/scheduler_temp_task_run_record_log";const L=n=>f.delete(_+"/delete",{data:n}),F=n=>f.get(_+"/page",{params:n}),I=[{field:{name:"schedulerTempTaskRunRecordId"},element:{comp:"el-input",formItemProps:{label:"临时任务运行记录id"},compProps:{}}},{field:{name:"level"},element:{comp:"el-input",formItemProps:{label:"日志级别"},compProps:{clearable:!0}}}],M=k({__name:"SchedulerTempTaskRunRecordLogManagePage",setup(n){const p=i(null),r=x({form:{},formComps:I,tableColumns:[{prop:"schedulerTempTaskRunRecordId",label:"临时任务运行记录id"},{prop:"level",label:"日志级别"},{prop:"content",label:"日志内容",showOverflowTooltip:!0},{prop:"createAt",label:"创建时间"}]}),a=i({buttonText:"查询",loading:!1,permission:"admin:web:schedulerTempTaskRunRecordLog:pageQuery"}),c=()=>{p.value.refreshData()},g=({pageQuery:e})=>F({...r.form,...e}),P={permission:a.value.permission},R=({row:e,column:l,$index:s})=>s<0?[]:(e.id,[{txt:"删除",text:!0,permission:"admin:web:schedulerTempTaskRunRecordLog:delete",methodConfirmText:`确定要删除 ${e.name} 吗？`,method(){return L({id:e.id}).then(m=>(c(),Promise.resolve(m)))}}]);return(e,l)=>{const s=t("PtForm"),d=t("PtButtonGroup"),m=t("el-table-column"),T=t("PtTable"),h=t("PtRouteViewPopover");return B(),C(A,null,[o(s,{form:r.form,method:c,defaultButtonsShow:"submit,reset",submitAttrs:a.value,inline:"",comps:r.formComps},null,8,["form","submitAttrs","comps"]),o(T,{ref_key:"tableRef",ref:p,"default-expand-all":"",dataMethod:g,onDataMethodDataLoading:l[0]||(l[0]=u=>a.value.loading=u),paginationProps:P,columns:r.tableColumns},{defaultAppend:b(()=>[o(m,{label:"操作",width:"180"},{default:b(({row:u,column:v,$index:w})=>[o(d,{options:R({row:u,column:v,$index:w})},null,8,["options"])]),_:1})]),_:1},8,["columns"]),o(h,{level:3})],64)}}});export{M as default};
