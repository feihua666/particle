import{p as C,a as D,r as E}from"./schedulerTempTaskRunRecordManage.850cb50d.js";import{d as b,r as T,a as P,b as a,o as x,c as A,e as r,w as F,F as w}from"./index.9f9cf4f4.js";import"./schedulerTempTaskAdminApi.27f79355.js";const v=b({name:"SchedulerTempTaskRunRecordManagePage"}),N=b({...v,props:{schedulerTempTaskId:{type:String}},setup(h){const R=h,m=T(null),s=P({form:{schedulerTempTaskId:R.schedulerTempTaskId},formComps:C,tableColumns:[{prop:"schedulerTempTaskCode",label:"\u4E34\u65F6\u4EFB\u52A1\u7F16\u7801"},{prop:"schedulerTempTaskName",label:"\u4E34\u65F6\u4EFB\u52A1\u540D\u79F0"},{prop:"statusDictName",label:"\u4E34\u65F6\u4EFB\u52A1\u72B6\u6001"},{prop:"isHasError",label:"\u662F\u5426\u6709\u5F02\u5E38",formatter:(e,u,t,o)=>t?"\u662F":"\u5426"},{prop:"isAllowRunSwitch",label:"\u662F\u5426\u5141\u8BB8\u8FD0\u884C",formatter:(e,u,t,o)=>t?"\u662F":"\u5426"},{prop:"startAt",label:"\u8FD0\u884C\u5F00\u59CB\u65F6\u95F4"},{prop:"finishAt",label:"\u8FD0\u884C\u7ED3\u675F\u65F6\u95F4"},{prop:"localHostIp",label:"\u672C\u5730\u4E3B\u673Aip"},{prop:"localHostName",label:"\u672C\u5730\u4E3B\u673A\u540D\u79F0"},{prop:"traceId",label:"traceId"}]}),n=T({buttonText:"\u67E5\u8BE2",loading:!1,permission:"admin:web:schedulerTempTaskRunRecord:pageQuery"}),d=()=>{m.value.refreshData()},f=({pageQuery:e})=>D({...s.form,...e}),B={permission:n.value.permission},g=({row:e,column:u,$index:t})=>{if(t<0)return[];let o={id:e.id};return[{txt:"\u67E5\u770B\u8FD0\u884C\u8BB0\u5F55\u65E5\u5FD7",text:!0,permission:"admin:web:schedulerTempTaskRunRecordLog:pageQuery",route:{path:"/admin/schedulerTempTaskRunRecordLogManagePage",query:{schedulerTempTaskRunRecordId:e.id,schedulerTempTaskName:e.schedulerTempTaskName}}},{txt:"\u7F16\u8F91",text:!0,position:"more",permission:"admin:web:schedulerTempTaskRunRecord:update",route:{path:"/admin/SchedulerTempTaskRunRecordManageUpdate",query:o}},{txt:"\u5220\u9664",text:!0,position:"more",permission:"admin:web:schedulerTempTaskRunRecord:delete",methodConfirmText:`\u786E\u5B9A\u8981\u5220\u9664 ${e.name} \u5417\uFF1F`,method(){return E({id:e.id}).then(l=>(d(),Promise.resolve(l)))}}]};return(e,u)=>{const t=a("PtForm"),o=a("PtButtonGroup"),c=a("el-table-column"),i=a("PtTable"),l=a("PtRouteViewPopover");return x(),A(w,null,[r(t,{form:s.form,method:d,defaultButtonsShow:"submit,reset",submitAttrs:n.value,inline:"",comps:s.formComps},null,8,["form","submitAttrs","comps"]),r(i,{ref_key:"tableRef",ref:m,"default-expand-all":"",dataMethod:f,onDataMethodDataLoading:u[0]||(u[0]=p=>n.value.loading=p),paginationProps:B,columns:s.tableColumns},{defaultAppend:F(()=>[r(c,{label:"\u64CD\u4F5C",width:"220"},{default:F(({row:p,column:k,$index:_})=>[r(o,{options:g({row:p,column:k,$index:_}),dropdownTriggerButtonOptions:{text:!0,buttonText:"\u66F4\u591A"}},null,8,["options"])]),_:1})]),_:1},8,["columns"]),r(l,{level:3})],64)}}});export{N as default};
