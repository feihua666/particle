import{p as v,r as h}from"./crmCustomerTagAdminApi.d5337ba7.js";import{p as w}from"./crmCustomerTagManage.c4c9b00c.js";import{d as b,r as f,a as x,b as e,o as D,c as A,e as o,w as n,f as E,F as R}from"./index.d93ffe12.js";const M=b({name:"CrmCustomerTagManagePage"}),N=b({...M,setup(k){const i=f(null),a=x({form:{},formComps:w,tableColumns:[{prop:"name",label:"\u6807\u7B7E\u540D\u79F0"},{prop:"code",label:"\u6807\u7B7E\u7F16\u7801"},{prop:"remark",label:"\u5907\u6CE8"}]}),r=f({buttonText:"\u67E5\u8BE2",loading:!1,permission:"admin:web:crmCustomerTag:pageQuery"}),p=()=>{i.value.refreshData()},_=({pageQuery:t})=>v({...a.form,...t}),g={permission:r.value.permission},C=({row:t,column:u,$index:s})=>s<0?[]:[{txt:"\u7F16\u8F91",text:!0,permission:"admin:web:crmCustomerTag:update",route:{path:"/admin/CrmCustomerTagManageUpdate",query:{id:t.id}}},{txt:"\u5220\u9664",text:!0,permission:"admin:web:crmCustomerTag:delete",methodConfirmText:`\u786E\u5B9A\u8981\u5220\u9664 ${t.name} \u5417\uFF1F`,method(){return h({id:t.id}).then(m=>(p(),Promise.resolve(m)))}}];return(t,u)=>{const s=e("PtButton"),d=e("PtForm"),c=e("PtButtonGroup"),m=e("el-table-column"),P=e("PtTable"),B=e("PtRouteViewPopover");return D(),A(R,null,[o(d,{form:a.form,method:p,defaultButtonsShow:"submit,reset",submitAttrs:r.value,inline:"",comps:a.formComps},{buttons:n(()=>[o(s,{permission:"admin:web:crmCustomerTag:create",route:"/admin/CrmCustomerTagManageAdd"},{default:n(()=>[E("\u6DFB\u52A0")]),_:1})]),_:1},8,["form","submitAttrs","comps"]),o(P,{ref_key:"tableRef",ref:i,"default-expand-all":"",dataMethod:_,onDataMethodDataLoading:u[0]||(u[0]=l=>r.value.loading=l),paginationProps:g,columns:a.tableColumns},{defaultAppend:n(()=>[o(m,{label:"\u64CD\u4F5C",width:"180"},{default:n(({row:l,column:F,$index:T})=>[o(c,{options:C({row:l,column:F,$index:T})},null,8,["options"])]),_:1})]),_:1},8,["columns"]),o(B,{level:3})],64)}}});export{N as default};
