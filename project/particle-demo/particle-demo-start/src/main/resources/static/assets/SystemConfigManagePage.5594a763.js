import{p as B,a as h,r as x}from"./systemConfigManage.aab1a376.js";import{d as b,r as c,a as D,b as n,o as y,c as E,e as a,w as l,f as R,F as T}from"./index.853052ed.js";const A=b({name:"SystemConfigManagePage"}),O=b({...A,setup(k){const d=c(null),s=D({form:{},formComps:B,tableColumns:[{prop:"code",label:"\u914D\u7F6E\u7F16\u7801"},{prop:"name",label:"\u914D\u7F6E\u540D\u79F0"},{prop:"value",label:"\u914D\u7F6E\u503C",showOverflowTooltip:!0},{prop:"isBuiltIn",label:"\u662F\u5426\u5185\u7F6E",formatter:(e,u,t,r)=>t?"\u662F":"\u5426"},{prop:"isDisabled",label:"\u662F\u5426\u7981\u7528",formatter:(e,u,t,r)=>{let o=t?"\u662F":"\u5426";return!t&&e.blackReason&&(o=o+`(${e.blackReason})`),o}},{prop:"tag",label:"\u6807\u7B7E",showOverflowTooltip:!0},{prop:"remark",label:"\u63CF\u8FF0",showOverflowTooltip:!0}]}),m=c({buttonText:"\u67E5\u8BE2",loading:!1,permission:"admin:web:systemConfig:pageQuery"}),f=()=>{d.value.refreshData()},_=({pageQuery:e})=>h({...s.form,...e}),F={permission:m.value.permission},g=({row:e,column:u,$index:t})=>t<0?[]:[{txt:"\u7F16\u8F91",text:!0,permission:"admin:web:systemConfig:update",route:{path:"/admin/SystemConfigManageUpdate",query:{id:e.id}}},{txt:"\u5220\u9664",text:!0,permission:"admin:web:systemConfig:delete",methodConfirmText:`\u786E\u5B9A\u8981\u5220\u9664 ${e.name} \u5417\uFF1F`,method(){return x({id:e.id}).then(i=>(f(),Promise.resolve(i)))}}];return(e,u)=>{const t=n("PtButton"),r=n("PtForm"),o=n("PtButtonGroup"),i=n("el-table-column"),C=n("PtTable"),P=n("PtRouteViewPopover");return y(),E(T,null,[a(r,{form:s.form,method:f,defaultButtonsShow:"submit,reset",submitAttrs:m.value,inline:"",comps:s.formComps},{buttons:l(()=>[a(t,{permission:"admin:web:systemConfig:create",route:"/admin/SystemConfigManageAdd"},{default:l(()=>[R("\u6DFB\u52A0")]),_:1})]),_:1},8,["form","submitAttrs","comps"]),a(C,{ref_key:"tableRef",ref:d,"default-expand-all":"",dataMethod:_,onDataMethodDataLoading:u[0]||(u[0]=p=>m.value.loading=p),paginationProps:F,columns:s.tableColumns},{defaultAppend:l(()=>[a(i,{label:"\u64CD\u4F5C",width:"180"},{default:l(({row:p,column:w,$index:v})=>[a(o,{options:g({row:p,column:w,$index:v})},null,8,["options"])]),_:1})]),_:1},8,["columns"]),a(P,{level:3})],64)}}});export{O as default};
