import{g as a,O as C,U as D}from"./index.661e0f85.js";import{l as d}from"./dataQueryDatasourceAdminApi.a787b165.js";import{l as B}from"./dataQueryProviderAdminApi.4ee853c1.js";const r="/admin/web/data_query_datasource_api",S=u=>a.post(r+"/create",u),q=u=>a.delete(r+"/delete",{data:u}),j=u=>a.put(r+"/update",u),M=u=>a.get(r+"/detail-for-update",{params:u}),N=u=>a.get(r+"/list",{params:u}),$=u=>a.get(r+"/page",{params:u}),P=r+"/test",w=u=>a.post(P+"/api_test",u),O=u=>a.get(r+"/detail",{params:u}),f=(u,e="success")=>{D({showClose:!0,message:u,type:e,showIcon:!0,grouping:!0})},s={object:"object",array:"array",string:"string",number:"number",float:"float",boolean:"boolean"},U={[s.object]:u=>JSON.parse(u),[s.array]:u=>JSON.parse(u),[s.number]:u=>parseInt(u),[s.float]:u=>parseFloat(u),[s.boolean]:u=>JSON.parse(u)},b=u=>({field:{name:"inParamExampleConfigJson"},element:{comp:"PtButton",formItemProps:{label:"\u5165\u53C2\u793A\u4F8B",tips:"\u5BF9\u63A5\u53E3\u7684\u8BF7\u6C42\u793A\u4F8B\uFF0C\u4EC5\u505A\u53C2\u8003\uFF0C\u4E0D\u505A\u4E3A\u903B\u8F91\u5904\u7406\u4F9D\u636E"},compProps:({form:e})=>({text:!0,type:e.inParamExampleConfigJson?"primary":"default",buttonText:"\u70B9\u51FB\u914D\u7F6E",method:()=>{u.value&&(u.value.reactiveData.inParamExampleConfigJson.dialogVisible=!0)}})}}),k=u=>({field:{name:"inParamTestCaseDataConfigJson"},element:{comp:"PtButton",formItemProps:{label:"\u5165\u53C2\u6D4B\u8BD5\u7528\u4F8B\u6570\u636E",tips:"\u5BF9\u63A5\u53E3\u7684\u8BF7\u6C42\u6807\u8BC6\u6570\u636E\uFF0C\u4E3A\u505A\u63A5\u53E3\u6D4B\u8BD5\u65F6\uFF0C\u63D0\u4F9B\u51C6\u786E\u7684\u4F9D\u636E"},compProps:({form:e,formData:t})=>({text:!0,type:e.inParamTestCaseDataConfigJson?"primary":"default",buttonText:"\u70B9\u51FB\u914D\u7F6E",method:()=>{u.value&&(u.value.reactiveData.inParamTestCaseDataConfigJson.dialogVisible=!0)}})}}),A=u=>({field:{name:"inParamDocConfigJson"},element:{comp:"PtButton",formItemProps:{label:"\u5165\u53C2\u6587\u6863\u914D\u7F6E",tips:"\u5BF9\u63A5\u53E3\u7684\u53C2\u6570\u5B57\u6BB5\u8BF4\u660E"},compProps:({form:e,formData:t})=>({text:!0,type:e.inParamDocConfigJson?"primary":"default",buttonText:"\u70B9\u51FB\u914D\u7F6E",beforeMethod:()=>e.inParamTypeDictId?!0:"\u8BF7\u5148\u9009\u62E9\u5165\u53C2\u7C7B\u578B",method:()=>{u.value&&(u.value.reactiveData.inParamDoc.dialogVisible=!0)}})}}),g=u=>({field:{name:"outParamExampleConfigJson"},element:{comp:"PtButton",formItemProps:{label:"\u51FA\u53C2\u793A\u4F8B",tips:"\u5BF9\u63A5\u53E3\u7684\u54CD\u5E94\u793A\u4F8B\uFF0C\u4EC5\u505A\u53C2\u8003\uFF0C\u4E0D\u505A\u4E3A\u903B\u8F91\u5904\u7406\u4F9D\u636E"},compProps:({form:e})=>({text:!0,type:e.outParamExampleConfigJson?"primary":"default",buttonText:"\u70B9\u51FB\u914D\u7F6E",method:()=>{u.value&&(u.value.reactiveData.outParamExampleConfigJson.dialogVisible=!0)}})}}),y=u=>({field:{name:"outParamDocConfigJson"},element:{comp:"PtButton",formItemProps:{label:"\u51FA\u53C2\u6587\u6863\u914D\u7F6E",tips:"\u5BF9\u63A5\u53E3\u7684\u53C2\u6570\u5B57\u6BB5\u8BF4\u660E"},compProps:({form:e,formData:t})=>({text:!0,type:e.outParamDocConfigJson?"primary":"default",buttonText:"\u70B9\u51FB\u914D\u7F6E",beforeMethod:()=>e.outParamTypeDictId?!0:"\u8BF7\u5148\u9009\u62E9\u51FA\u53C2\u7C7B\u578B",method:()=>{u.value&&(u.value.reactiveData.outParamDoc.dialogVisible=!0)}})}}),v=u=>({field:{name:"inParamValidateConfigJson"},element:{comp:"PtButton",formItemProps:{label:"\u5165\u53C2\u6821\u9A8C\u914D\u7F6E",tips:"\u5165\u53C2\u7684\u6821\u9A8C\u89C4\u5219\uFF0C\u903B\u8F91\u5904\u7406,\u652F\u6301\u591A\u4E2A\u914D\u7F6E\uFF0C\u6709\u4E00\u4E2A\u6821\u9A8C\u5931\u8D25\u8868\u793A\u5931\u8D25\uFF0C\u4E0D\u914D\u7F6E\u4EE3\u8868\u4E0D\u6821\u9A8C"},compProps:({form:e,formData:t})=>({text:!0,type:e.inParamValidateConfigJson?"primary":"default",buttonText:"\u70B9\u51FB\u914D\u7F6E",method:()=>{u.value&&(u.value.reactiveData.inParamValidate.dialogVisible=!0)}})}}),J=u=>({field:{name:"outParamSuccessConfigJson"},element:{comp:"PtButton",formItemProps:{label:"\u51FA\u53C2\u7ED3\u679C\u914D\u7F6E",tips:"\u53EF\u4EE5\u7528\u6765\u6807\u8BC6\u51FA\u53C2\u6210\u529F\u6216\u5931\u8D25\uFF0C\u4EE5\u5904\u7406\u544A\u8B66\u7B49\u903B\u8F91\uFF0C\u4E0D\u914D\u7F6E\u4EE3\u8868\u90FD\u6210\u529F"},compProps:({form:e})=>({text:!0,type:e.outParamSuccessConfigJson?"primary":"default",buttonText:"\u70B9\u51FB\u914D\u7F6E",method:()=>{u.value&&(u.value.reactiveData.outParamSuccess.dialogVisible=!0)}})}}),I=u=>({field:{name:"dictConfigJson"},element:{comp:"PtButton",formItemProps:{label:"\u5B57\u5178\u914D\u7F6E",tips:"\u63A5\u53E3\u7528\u5230\u7684\u5B57\u5178\u6570\u636E\u914D\u7F6E"},compProps:({form:e})=>({text:!0,type:e.dictConfigJson?"primary":"default",buttonText:"\u70B9\u51FB\u914D\u7F6E",method:()=>{u.value&&(u.value.reactiveData.dictConfig.dialogVisible=!0)}})}}),x=u=>({field:{name:"pageableAdapterConfigJson"},element:{comp:"PtButton",formItemProps:{label:"\u5206\u9875\u4FE1\u606F\u914D\u7F6E",tips:"\u7528\u6765\u89E3\u6790\u5206\u9875\u8BF7\u6C42\u548C\u54CD\u5E94\u6570\u636E\u8F6C\u6362"},compProps:({form:e})=>({text:!0,type:e.pageableAdapterConfigJson?"primary":"default",buttonText:"\u70B9\u51FB\u914D\u7F6E",method:()=>{u.value&&(u.value.reactiveData.pageableAdapterConfig.dialogVisible=!0)}})}}),H=[{field:{name:"code"},element:{comp:"el-input",formItemProps:{label:"\u7F16\u7801"},compProps:{clearable:!0,placeholder:"\u5DE6\u524D\u7F00\u5339\u914D"}}},{field:{name:"name"},element:{comp:"el-input",formItemProps:{label:"\u540D\u79F0"},compProps:{clearable:!0,placeholder:"\u5DE6\u524D\u7F00\u5339\u914D"}}},{field:{name:"categoryDictId"},element:{comp:"PtDictFrontSelect",formItemProps:{label:"\u5206\u7C7B"},compProps:{dictParam:{groupCode:"dataquery_datasource_api_category"}}}},{field:{name:"dataQueryProviderId"},element:{comp:"PtSelect",formItemProps:{label:"\u6570\u636E\u67E5\u8BE2\u4F9B\u5E94\u5546"},compProps:{dataMethod:B}}},{field:{name:"dataQueryDatasourceId"},element:{comp:"PtSelect",formItemProps:{label:"\u6570\u636E\u67E5\u8BE2\u6570\u636E\u6E90"},compProps:{dataMethod:d}}},{field:{name:"responseTypeDictId"},element:{comp:"PtDictFrontSelect",formItemProps:{label:"\u8F93\u51FA\u5305\u88C5\u7C7B\u578B"},compProps:{dictParam:{groupCode:"dataquery_datasource_api_type"}}}},{field:{name:"sameTag"},element:{comp:"el-input",formItemProps:{label:"\u7B49\u540C\u6807\u7B7E"},compProps:{clearable:!0}}}],T=({form:u,formData:e,dataQueryDatasourceApiFormItemConfigsRef:t,dataQueryDatasourceApiFormItemBasicConfigsRef:i})=>[{field:{name:"code"},element:{comp:"el-input",formItemProps:{label:"\u7F16\u7801"},compProps:{clearable:!0}}},{field:{name:"name"},element:{comp:"el-input",formItemProps:{label:"\u540D\u79F0",required:!0,tips:"\u63A5\u53E3\u540D\u79F0\uFF0C\u4EFB\u610F\u8F93\u5165"},compProps:{clearable:!0}}},{field:{name:"categoryDictId"},element:{comp:"PtDictFrontSelect",formItemProps:{label:"\u5206\u7C7B",required:!0,tips:"\u4EC5\u505A\u5206\u7C7B\u4F7F\u7528\uFF0C\u65B9\u4FBF\u5F52\u7C7B\u67E5\u8BE2"},compProps:{dictParam:{groupCode:"dataquery_datasource_api_category"}}}},{field:{name:"dataQueryProviderId"},element:{comp:"PtSelect",formItemProps:{label:"\u6570\u636E\u67E5\u8BE2\u4F9B\u5E94\u5546",required:!0},compProps:{dataMethod:B}}},{field:{name:"dataQueryDatasourceId"},element:{comp:"PtSelect",formItemProps:{label:"\u6570\u636E\u67E5\u8BE2\u6570\u636E\u6E90",required:!0},compProps:{dataMethod:d}}},{field:{name:"responseTypeDictId"},element:{comp:"PtDictFrontSelect",formItemProps:{label:"\u8F93\u51FA\u5305\u88C5\u7C7B\u578B",tips:"\u91CD\u8981\uFF0C\u6807\u8BC6\u63A5\u53E3\u6570\u636E\u7684\u8F93\u51FA\u7C7B\u578B\u548C\u5904\u7406\u903B\u8F91",required:!0,rules:[{validator:(o,l,m)=>{var n;l?e.dataQueryDatasourceId.typeDictValue=="datasource_jdbc"&&((n=e.typeDictId)==null?void 0:n.value)=="proxy"?m(new Error(`${e.dataQueryDatasourceId.name}\u4E3Ajdbc\u7C7B\u578B\u6570\u636E\u6E90\u4E0D\u652F\u6301\u4EE3\u7406`)):m():m(new Error("\u7C7B\u578B\u4E0D\u80FD\u4E3A\u7A7A"))},trigger:"blur"}]},compProps:({form:o,formData:l})=>({disabled:!o.dataQueryDatasourceId,disabledReason:"\u8BF7\u5148\u9009\u62E9\u6570\u636E\u6E90",title:"\u8BF7\u5148\u9009\u62E9\u6570\u636E\u6E90",dictParam:{groupCode:"dataquery_datasource_api_type"},sceneDataHander(n){var F;if(((F=l.dataQueryDatasourceId)==null?void 0:F.typeDictValue)=="datasource_jdbc"&&n){let p=[];return n.forEach(E=>{let c=C(E);E.value=="proxy"&&(c.isDisabled=!0,c.disabledReason=`${l.dataQueryDatasourceId.name}\u4E3Ajdbc\u7C7B\u578B\u6570\u636E\u6E90\u4E0D\u652F\u6301\u4EE3\u7406`),p.push(c)}),p}return n}})}},{field:{name:"dataQueryProviderDocLinkUrl"},element:{comp:"el-input",formItemProps:{label:"\u6587\u6863\u94FE\u63A5",displayBlock:!0,tips:"\u5982\u679C\u5BF9\u63A5\u662F\u7B2C\u4E09\u65B9\uFF0C\u53EF\u80FD\u4F1A\u63D0\u4F9B\u53C2\u8003\u5730\u5740\uFF0C\u987B\u4EE5http\u5F00\u5934\u7684\u7EDD\u5BF9\u8DEF\u5F84"},compProps:{clearable:!0}}},{field:{name:"inParamTypeDictId"},element:{comp:"PtDictFrontSelect",formItemProps:{label:"\u5165\u53C2\u7C7B\u578B",tips:"\u4E0D\u9009\u62E9\u5219\u8868\u793A\u65E0\u5165\u53C2"},compProps:{dictParam:{groupCode:"dataquery_datasource_api_param_type"}}}},b(t),{field:{name:"inParamTestCaseDataConfigJson"},element:{comp:"PtButton",formItemProps:{label:"\u5165\u53C2\u6D4B\u8BD5\u7528\u4F8B\u6570\u636E",tips:"\u5BF9\u63A5\u53E3\u7684\u8BF7\u6C42\u6807\u8BC6\u6570\u636E\uFF0C\u4E3A\u505A\u63A5\u53E3\u6D4B\u8BD5\u65F6\uFF0C\u63D0\u4F9B\u51C6\u786E\u7684\u4F9D\u636E"},compProps:({form:o,formData:l})=>({text:!0,type:o.inParamTestCaseDataConfigJson?"primary":"default",buttonText:"\u70B9\u51FB\u914D\u7F6E",method:()=>{t.value&&(t.value.reactiveData.inParamTestCaseDataConfigJson.dialogVisible=!0)}})}},A(t),v(t),{field:{name:"inParamExtConfigJson"},element:{comp:"el-input",formItemProps:{label:"\u5165\u53C2\u6269\u5C55\u914D\u7F6E",tips:"\u6269\u5C55\u914D\u7F6E\u652F\u6301\uFF0C\u9488\u5BF9\u4E0D\u540C\u7684\u6570\u636E\u6E90\u53EF\u80FD\u6709\u66F4\u4E2A\u6027\u7684\u914D\u7F6E"},compProps:{clearable:!0}}},{field:{name:"outParamTypeDictId"},element:{comp:"PtDictFrontSelect",formItemProps:{label:"\u51FA\u53C2\u7C7B\u578B",required:!0,tips:"\u8868\u793A\u6700\u539F\u59CB\u7684\u8FD4\u56DE\u6570\u636E\u7C7B\u578B"},compProps:{dictParam:{groupCode:"dataquery_datasource_api_param_type"}}}},g(t),y(t),J(t),{field:{name:"outParamTransConfigJson"},element:{comp:"el-input",formItemProps:{label:"\u51FA\u53C2\u7FFB\u8BD1\u914D\u7F6E",tips:"\u9488\u5BF9\u54CD\u5E94\u6570\u6570\u636E\u7FFB\u8BD1\u6570\u636E\u5B57\u5178\u652F\u6301"},compProps:{clearable:!0}}},{field:{name:"outParamExtConfigJson"},element:{comp:"el-input",formItemProps:{label:"\u51FA\u53C2\u6269\u5C55\u914D\u7F6E",tips:"\u6269\u5C55\u914D\u7F6E\u652F\u6301\uFF0C\u9488\u5BF9\u4E0D\u540C\u7684\u6570\u636E\u6E90\u53EF\u80FD\u6709\u66F4\u4E2A\u6027\u7684\u914D\u7F6E"},compProps:{clearable:!0}}},{field:{name:"configJson"},element:{comp:"PtButton",formItemProps:{label:"\u57FA\u7840\u914D\u7F6E",tips:"\u5177\u4F53\u7684\u6267\u884C\u5185\u5BB9\u914D\u7F6E",required:!0},compProps:({form:o})=>({text:!0,type:o.configJson?"primary":"default",buttonText:"\u70B9\u51FB\u914D\u7F6E",beforeMethod:()=>o.dataQueryDatasourceId?!0:"\u8BF7\u5148\u9009\u62E9\u6570\u636E\u6E90",method:()=>{let l={datasource_jdbc(){i.value&&(i.value.reactiveData.jdbc.dialogVisible=!0)},datasource_http(){i.value&&(i.value.reactiveData.http.dialogVisible=!0)}},m=e.dataQueryDatasourceId.typeDictValue;(l[m]||(()=>{let F=e.dataQueryDatasourceId.name,p=e.dataQueryDatasourceId.typeDictName;f(`\u9009\u62E9\u7684\u6570\u636E\u6E90 ${F} \u7C7B\u578B\u4E3A ${p} \u6682\u4E0D\u652F\u6301\u914D\u7F6E`,"error")}))()}})}},I(t),x(t),{field:{name:"rateLimitControlConfigJson"},element:{comp:"el-input",formItemProps:{label:"\u6D41\u91CF\u63A7\u5236\u914D\u7F6E",tips:"\u5BF9\u4E09\u65B9\u63A5\u53E3\u53EF\u80FD\u6709\u8C03\u7528\u9891\u6B21\u9650\u5236\u65F6\u8FDB\u884C\u914D\u7F6E\uFF0C\u4E00\u822C\u4E3AQPS"},compProps:{clearable:!0}}},{field:{name:"circuitBreakerControlConfigJson"},element:{comp:"el-input",formItemProps:{label:"\u7194\u65AD\u63A7\u5236\u914D\u7F6E",tips:"\u53EF\u5BF9\u8C03\u7528\u7684\u63A5\u53E3\u5728\u4E0D\u7A33\u5B9A\u65F6\u8FDB\u884C\u7194\u65AD\u5904\u7406\u89C4\u5219\u914D\u7F6E"},compProps:{clearable:!0}}},{field:{name:"connectTimeout",value:1e4},element:{comp:"el-input-number",formItemProps:{label:"\u8FDE\u63A5\u7B49\u5F85\u65F6\u95F4",tips:"\u5355\u4F4D\uFF1Ams\u30020\u4E3A\u4E0D\u9650\u5236\uFF0C\u5728\u5B58\u5728\u6709\u8FDE\u63A5\u53C2\u6570\u7684\u8C03\u7528\u65F6\u53EF\u7528\u5982\uFF1Ahttp\u8C03\u7528\uFF0C\u9ED8\u8BA410s"},compProps:{}}},{field:{name:"readTimeout",value:6e4},element:{comp:"el-input",formItemProps:{label:"\u8BFB\u53D6\u7B49\u5F85\u65F6\u95F4",tips:"\u5355\u4F4D\uFF1Ams\u30020\u4E3A\u4E0D\u9650\u5236\uFF0C\u5728\u63A5\u53E3\u8C03\u7528\u65F6\u8D85\u8FC7\u8BE5\u503C\u5C06\u4E22\u5F03\uFF0C\u9ED8\u8BA460s"},compProps:{}}},{field:{name:"sameTag"},element:{comp:"el-input",formItemProps:{label:"\u7B49\u540C\u6807\u7B7E",tips:"\u4E00\u4E2A\u5B57\u7B26\u4E32\uFF0C\u7528\u6765\u6807\u8BC6\u76F8\u540C\u5165\u53C2\u51FA\u53C2\u7684\u63A5\u53E3"},compProps:{clearable:!0}}},{field:{name:"remark"},element:{comp:"el-input",formItemProps:{label:"\u63CF\u8FF0"},compProps:{clearable:!0}}}],L=T;export{$ as a,s as b,S as c,L as d,j as e,M as f,O as g,w as h,U as i,b as j,A as k,N as l,v as m,k as n,g as o,H as p,y as q,q as r,J as s,x as t,T as u,I as v};
