import{g as f,t as h,aA as A,d as b,r as c,a as E,b as o,o as v,c as w,e as a,w as g,F as x}from"./index.bcd8c549.js";import{u as T,i as U}from"./usageCountCompItem.f60d0257.js";let F="/admin/web/usage_count_record_detail";const N=t=>f.delete(F+"/delete",{data:t}),k=t=>f.get(F+"/page",{params:t}),y=[{field:{name:"usageCountRecordId"},element:{comp:"el-input",formItemProps:{label:"\u4F7F\u7528\u6B21\u6570\u8BB0\u5F55\u4E3B\u952E"},compProps:{}}},T({fieldName:"usageCountDefineId",label:"\u4F7F\u7528\u6B21\u6570\u5B9A\u4E49",disableGroup:!0}),U({}),h({props:{},fieldName:"usageUserId",label:"\u4F7F\u7528\u7528\u6237"}),A({props:{},fieldName:"usageTenantId",label:"\u4F7F\u7528\u79DF\u6237"})],S=b({name:"UsageCountRecordDetailManagePage"}),K=b({...S,props:{usageCountRecordId:{type:String}},setup(t){const C=t,p=c(null),u=E({form:{usageCountRecordId:C.usageCountRecordId},formComps:y,tableColumns:[{prop:"usageCountRecordId",label:"\u4F7F\u7528\u6B21\u6570\u8BB0\u5F55\u4E3B\u952E"},{prop:"usageCountRecordUsageCountKey",label:"\u4F7F\u7528\u6B21\u6570key",showOverflowTooltip:!0},{prop:"usageCountDefineName",label:"\u4F7F\u7528\u6B21\u6570\u5B9A\u4E49\u540D\u79F0"},{prop:"usageUserNickname",label:"\u7528\u6237\u6635\u79F0"},{prop:"usageTenantName",label:"\u79DF\u6237\u540D\u79F0"},{prop:"createAt",label:"\u521B\u5EFA\u65F6\u95F4"}]}),n=c({buttonText:"\u67E5\u8BE2",loading:!1,permission:"admin:web:usageCountRecordDetail:pageQuery"}),i=()=>{p.value.refreshData()},B=({pageQuery:e})=>k({...u.form,...e}),_={permission:n.value.permission},D=({row:e,column:s,$index:r})=>r<0?[]:(e.id,[{txt:"\u5220\u9664",text:!0,permission:"admin:web:usageCountRecordDetail:delete",methodConfirmText:`\u786E\u5B9A\u8981\u5220\u9664 ${e.name} \u5417\uFF1F`,method(){return N({id:e.id}).then(l=>(i(),Promise.resolve(l)))}}]);return(e,s)=>{const r=o("PtForm"),d=o("PtButtonGroup"),l=o("el-table-column"),R=o("PtTable");return v(),w(x,null,[a(r,{form:u.form,method:i,defaultButtonsShow:"submit,reset",submitAttrs:n.value,inline:"",comps:u.formComps},null,8,["form","submitAttrs","comps"]),a(R,{ref_key:"tableRef",ref:p,"default-expand-all":"",dataMethod:B,onDataMethodDataLoading:s[0]||(s[0]=m=>n.value.loading=m),paginationProps:_,columns:u.tableColumns},{defaultAppend:g(()=>[a(l,{label:"\u64CD\u4F5C",width:"180"},{default:g(({row:m,column:P,$index:I})=>[a(d,{options:D({row:m,column:P,$index:I})},null,8,["options"])]),_:1})]),_:1},8,["columns"])],64)}}});export{K as default};
