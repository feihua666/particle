import{d as c,a as D,r as p,b as C,o as E,h as S}from"./index.bcd8c549.js";const B=c({name:"BatchJsonMultipleLineConvertInsertSqlPage"}),P=c({...B,setup(_){const r=D({form:{},formData:{}}),f=p([{field:{name:"jsonStrLines"},element:{comp:"el-input",formItemProps:{label:"json\u591A\u884C\u6587\u672C",required:!0,tips:"\u6CE8\u610F\uFF1A\u6BCF\u4E00\u884C\u5E94\u8BE5\u662F\u4E00\u4E2A\u5B8C\u6574\u7684json\u5B57\u7B26\u4E32"},compProps:{clearable:!0,rows:10,type:"textarea"}}},{field:{name:"handleLogical",value:"convertInsertSql"},element:{comp:"PtRadioGroup",formItemProps:{label:"\u5904\u7406\u903B\u8F91",required:!0},compProps:{options:[{id:"convertInsertSql",name:"\u8F6C\u6362\u4E3Ainsert sql"}]}}},{field:{name:"tableName",value:"t_test"},element:{comp:"el-input",formItemProps:{label:"\u8868\u540D",required:!0,tips:"\u8868\u540D\uFF0C\u8BF7\u786E\u4FDD\u8868\u540D\u6B63\u786E\uFF0C\u5426\u5219\u53EF\u80FD\u63D2\u5165\u5931\u8D25"},compProps:{clearable:!0}}},{field:{name:"text"},element:{comp:"el-input",formItemProps:{label:"\u7ED3\u679C"},compProps:{clearable:!0,readonly:!0,rows:10,type:"textarea"}}}]),d=p({buttonText:"\u786E\u8BA4\u8F6C\u6362"}),b=u=>{F[u.handleLogical](u)},F={convertInsertSql:u=>{let o=u.jsonStrLines.split(`
`),e="";for(let l=0;l<o.length;l++){let s=[],n=[],a=o[l];if(!a)continue;let m=JSON.parse(a);for(let i in m){s.push(i);let t=m[i];typeof t=="string"&&(t=t.replaceAll("'","\\'"),t="'"+t+"'"),t==null&&(t="null"),n.push(t)}e+="INSERT INTO "+u.tableName,e+=" (",e+=s.join(", "),e+=") ",e+=" VALUES (",e+=n.join(", "),e+=");",e+=`
`}u.text=e}},h=()=>"\u63D0\u53D6\u6210\u529F";return(u,o)=>{const e=C("PtForm");return E(),S(e,{form:r.form,formData:r.formData,labelWidth:"80",method:b,methodSuccess:h,defaultButtonsShow:"submit,reset",submitAttrs:d.value,layout:1,"label-position":"top",comps:f.value},null,8,["form","formData","submitAttrs","comps"])}}});export{P as default};
