import{d,a as P,r as n,b as F,o as A,c as y,e as c,w as B,F as h,a4 as v,X as N,a2 as k,M as w,a7 as S}from"./index.499071bc.js";import{b as I,e as R}from"./lowcodeSegmentGenAdminApi.f77e7feb.js";const G=d({name:"LowcodeSegmentGenGenericDesignAndGeneratePage"}),O=d({...G,props:{lowcodeSegmentGenId:{type:String},formComps:Array,formLayout:{type:[Number,Array]}},setup(t){const e=t,a=(r,l="success")=>{N({showClose:!0,message:r,type:l,showIcon:!0,grouping:!0})},u=P({form:{lowcodeSegmentGenId:e.lowcodeSegmentGenId,javaPackageKeys:["moduleNamePackage","parentPackage"]},renderResultForm:{templateContentResult:"",templateNameContentResult:"",templateNameContentResultFile:""},formData:{}}),o=n(e.formComps),s=n([{field:{name:"templateNameContentResult"},element:{comp:"PtAceEditor",formItemProps:{label:"\u540D\u79F0\u6E32\u67D3\u7ED3\u679C\u6587\u672C"},compProps:{clearable:!0,mode:"ace/mode/json",class:"pt-width-100-pc"}}},{field:{name:"templateContentResult"},element:{comp:"PtAceEditor",formItemProps:{label:"\u6E32\u67D3\u7ED3\u679C\u6587\u672C"},compProps:{clearable:!0,mode:"ace/mode/json",class:"pt-width-100-pc"}}},{field:{name:"templateNameContentResultFile"},element:{comp:"el-input",formItemProps:{label:"\u540D\u79F0\u6E32\u67D3\u7ED3\u679C\u6587\u4EF6\u53E5\u67C4"},compProps:{clearable:!0}}}]),C=n({buttonText:"\u5F00\u59CB\u6E32\u67D3",permission:"admin:web:lowcodeSegmentGen:renderGen"}),b=r=>{let l=v(r);return l.global&&(l.global=JSON.parse(l.global)),l.ext&&(l.ext=JSON.parse(l.ext)),I(l)},p=n(!1),D=r=>{p.value=!0,u.renderResultForm.templateContentResult=r.data.data.templateContentResult,u.renderResultForm.templateNameContentResult=r.data.data.templateNameContentResult,u.renderResultForm.templateNameContentResultFile=r.data.data.templateNameContentResultFile,setTimeout(()=>{a("\u6E32\u67D3\u6210\u529F")},300)};return(r,l)=>{const i=F("PtForm"),g=F("el-dialog");return A(),y(h,null,[c(i,{form:u.form,formData:u.formData,labelWidth:"100",method:b,methodSuccess:D,defaultButtonsShow:"submit,reset",submitAttrs:C.value,buttonsTeleportProps:r.$route.meta.formButtonsTeleportProps,inline:"","label-position":"top",layout:t.formLayout,comps:o.value},null,8,["form","formData","submitAttrs","buttonsTeleportProps","layout","comps"]),c(g,{modelValue:p.value,"onUpdate:modelValue":l[0]||(l[0]=f=>p.value=f),width:"70%",title:"\u67E5\u770B\u6E32\u67D3\u7ED3\u679C\u6570\u636E","append-to-body":"","destroy-on-close":""},{default:B(()=>[c(i,{form:u.renderResultForm,labelWidth:"100",defaultButtonsShow:"","label-position":"top",layout:[2,1],comps:s.value},null,8,["form","comps"])]),_:1},8,["modelValue"])],64)}}}),E="com.particle",m=(t,e,a)=>{let u={};try{u=JSON.parse(t.global)}catch{}u[e]=a,t.global=JSON.stringify(u,(o,s)=>s,"  ")},j=(t,e)=>{e.outputFileParentAbsoluteDir=t.outputFileParentAbsoluteDir,e.ext=t.extJson;let a=JSON.parse(t.globalJson);e.packageModule&&(a.packageModule=e.packageModule),e.global=JSON.stringify(a,null,"  "),a=JSON.parse(t.globalJson);for(let o in a)S(e,o)&&(e[o]=a[o]);let u=e.javaPackageKeys||[];t.javaPackageKeys&&t.javaPackageKeys.split(",").forEach(o=>{u.some(s=>s==o)||u.push(o)}),e.javaPackageKeys=u},J=[{field:{name:"javaPackageKeys"},element:{comp:"el-input",formItemProps:{label:"java\u5305\u952E\u540D",tips:"\u4EC5\u652F\u6301 global\u548Cext\u952E\u8868\u8F6C\u6362\uFF0C\u7528\u4E8E\u5C06\u5F62\u5982\uFF1Acom.particle\u7684\u5305\u540D\u8F6C\u6362\u4E3A\u8DEF\u5F84 com/particle,\u591A\u4E2A\u4EE5\u9017\u53F7\u5206\u9694"},compProps:{clearable:!0}}},{field:{name:"outputFileParentAbsoluteDir"},element:{comp:"el-input",formItemProps:{label:"\u8F93\u51FA\u6587\u4EF6\u7684\u7236\u76EE\u5F55\u7EDD\u5BF9\u8DEF\u5F84",tips:"\u5982\uFF1A/user/yw/test \u6216 C:\\yw\\test\u3002\u5F15\u7528\u7684\u6A21\u677F\u6709\u8F93\u51FA\u6587\u4EF6\u6216\u76EE\u5F55\u65F6\u9700\u8981\u586B\u5199"},compProps:{clearable:!0}}},{field:{name:"global",value:JSON.stringify({parentPackage:E})},element:{comp:"PtAceEditor",formItemProps:{label:"\u5168\u5C40\u6E32\u67D3\u6570\u636E"},compProps:{clearable:!0,mode:"ace/mode/json",class:"pt-width-100-pc"}}},{field:{name:"ext",value:"{}"},element:{comp:"PtAceEditor",formItemProps:{label:"\u6269\u5C55\u6E32\u67D3\u6570\u636E"},compProps:{clearable:!0,mode:"ace/mode/json",class:"pt-width-100-pc"}}}],T=({props:t})=>[{field:{name:"moduleName",valueChange:({form:e,formData:a,newValue:u})=>{if(m(e,"moduleName",u),u){let o=k(u.toLowerCase(),["-"]);e.moduleNamePackage=o.toLowerCase(),e.moduleNameEntity=w(o)}else e.moduleNamePackage="",e.moduleNameEntity=""}},element:{comp:"el-input",formItemProps:{label:"\u6A21\u5757\u540D\u79F0",tips:"\u5982\uFF1Auser \u6216 particle-demo\uFF0C\u8BF7\u4E0D\u8981\u4F7F\u7528\u5927\u5199",labelTips:"\u8BE5\u503C\u4F1A\u81EA\u52A8\u653E\u5230\u5168\u5C40\u53D8\u91CF\u4E2D",required:!0},compProps:({form:e})=>({clearable:!0,slots:{append:{is:"PtButton",attrs:{icon:"Search",beforeMethod:()=>t.refrenceSegmentGenId>0||t.isGenerated?!0:"\u672A\u5F15\u7528\u751F\u6210\u6570\u636E\u6216\u5C1A\u672A\u751F\u6210\uFF0C\u8BF7\u5148\u5F15\u7528\u751F\u6210\u6570\u636E\u6216\u751F\u6210",method:()=>(console.log(t.isGenerated),R({id:t.isGenerated?t.lowcodeSegmentGenId:t.refrenceSegmentGenId}).then(a=>{let u=a.data.data;return j(u,e),Promise.resolve(a)})),title:"\u52A0\u8F7D\u5F15\u7528\u751F\u6210\u6570\u636E,\u5982\u679C\u5DF2\u7ECF\u751F\u6210\u5219\u52A0\u8F7D\u4E0A\u6B21\u751F\u6210\u7684\u586B\u5199\u6570\u636E"}}}})}},{field:{name:"author",valueChange:({form:e,formData:a,newValue:u})=>{m(e,"author",u)}},element:{comp:"el-input",formItemProps:{label:"\u4F5C\u8005",tips:"\u5982\uFF1Ayw",labelTips:"\u8BE5\u503C\u4F1A\u81EA\u52A8\u653E\u5230\u5168\u5C40\u53D8\u91CF\u4E2D",required:!0},compProps:{clearable:!0}}},{field:{name:"moduleNamePackage",valueChange:({form:e,formData:a,newValue:u})=>{m(e,"moduleNamePackage",u)}},element:{comp:"el-input",formItemProps:{label:"\u6A21\u5757\u540D\u79F0\u5BF9\u5E94\u7684\u5305\u540D",tips:"\u5982\uFF1Auser \u6216 particledemo\uFF0C\u8BF7\u4E0D\u8981\u4F7F\u7528\u5927\u5199",labelTips:"\u8BE5\u503C\u4F1A\u81EA\u52A8\u653E\u5230\u5168\u5C40\u53D8\u91CF\u4E2D",required:!0},compProps:{clearable:!0}}},{field:{name:"parentPackage",value:E,valueChange:({form:e,formData:a,newValue:u})=>{m(e,"parentPackage",u)}},element:{comp:"el-input",formItemProps:{label:"\u7236\u5305",tips:"\u5982\uFF1Acom.particle\uFF0C\u8BF7\u4E0D\u8981\u4F7F\u7528\u5927\u5199",labelTips:"\u8BE5\u503C\u4F1A\u81EA\u52A8\u653E\u5230\u5168\u5C40\u53D8\u91CF\u4E2D",required:!0},compProps:{clearable:!0}}},{field:{name:"moduleNameEntity",valueChange:({form:e,formData:a,newValue:u})=>{m(e,"moduleNameEntity",u)}},element:{comp:"el-input",formItemProps:{label:"\u6A21\u5757\u540D\u79F0\u5B9E\u4F53\u5316",tips:"\u4FDD\u8BC1\u9996\u5B57\u6BCD\u5927\u5199\u4E14\u7B26\u5408java\u6587\u4EF6\u547D\u540D",labelTips:"\u8BE5\u503C\u4F1A\u81EA\u52A8\u653E\u5230\u5168\u5C40\u53D8\u91CF\u4E2D",required:!0},compProps:{clearable:!0}}},{field:{name:"emptyPtDivider"},element:{comp:"PtDivider",formItemProps:{label:""},compProps:{content:"\u4EE5\u4E0A\u4E3A\u8F85\u52A9\u8F93\u5165\uFF0C\u6700\u7EC8\u4EE5\u4E0B\u9762json\u4E3A\u63D0\u4EA4\u6570\u636E",class:"pt-width-100-pc"}}},...J],_=({props:t})=>[{field:{name:"packageModule",valueChange:({form:e,formData:a,newValue:u})=>{m(e,"packageModule",u)}},element:{comp:"el-input",formItemProps:{label:"\u5B50\u5305\u540D\u79F0",tips:"\u5982\uFF1Auser \uFF0C\u8BF7\u5168\u90E8\u4F7F\u7528\u5C0F\u5199\u4E0D\u8981\u4F7F\u7528\u5206\u9694\u7B26\uFF0C\u7B26\u5408java \u5305\u547D\u4EE4\u89C4\u5219",labelTips:"\u8BE5\u503C\u4F1A\u81EA\u52A8\u653E\u5230\u5168\u5C40\u53D8\u91CF\u4E2D"},compProps:{clearable:!0}}},...T({props:t})];export{O as _,_ as a,J as g,T as u};
