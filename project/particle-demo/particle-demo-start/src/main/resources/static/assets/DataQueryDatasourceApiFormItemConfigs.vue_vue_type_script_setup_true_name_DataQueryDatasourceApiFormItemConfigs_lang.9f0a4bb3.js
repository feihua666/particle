import{d as A,r as f,a as h,ad as R,aq as Q,b as C,o as I,c as q,e as s,w as d,F as k,a6 as S,ar as z,X as L,h as $,i as T,f as O,W as X}from"./index.bd091b8a.js";import{h as j}from"./dataQueryDatasourceApiManage.7007ef45.js";const au=A({name:"InParamExampleConfig"}),ru=A({...au,props:{initJsonStr:{type:String}},setup(B,{expose:J}){const i=B,c=f(null),D=f(null),o=f(!0),l=f(null),t=h({initJson:{inParamExamples:[]},form:{},formComps:[{field:{name:"name"},element:{comp:"el-input",formItemProps:{label:"\u793A\u4F8B\u540D\u79F0",required:!0,rules:[{validator:(r,p,e)=>{p?t.initJson.inParamExamples.some(u=>u.name==p)&&o.value?e(new Error("\u793A\u4F8B\u540D\u79F0\u5DF2\u5B58\u5728")):e():e(new Error("\u793A\u4F8B\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A"))},trigger:"blur"}]},compProps:{clearable:!0}}},{field:{name:"content"},element:{comp:"el-input",formItemProps:{label:"\u793A\u4F8B\u5185\u5BB9",required:!0},compProps:{type:"textarea",rows:15,clearable:!0}}}],tableColumns:[{prop:"name",label:"\u793A\u4F8B\u540D\u79F0"},{prop:"content",label:"\u793A\u4F8B\u5185\u5BB9",showOverflowTooltip:!0}]});R(()=>{i.initJsonStr&&(t.initJson=JSON.parse(i.initJsonStr))});const E=f({buttonText:o.value?"\u6DFB\u52A0\u793A\u4F8B":"\u4FEE\u6539\u793A\u4F8B"});Q(()=>o.value,(r,p)=>{E.value={buttonText:r?"\u6DFB\u52A0\u793A\u4F8B":"\u4FEE\u6539\u793A\u4F8B"}});const v=()=>{let r={name:t.form.name,content:t.form.content};o.value?t.initJson.inParamExamples.push(r):t.initJson.inParamExamples.splice(l.value,1,r)},x=({row:r,column:p,$index:e})=>e<0?[]:[{txt:"\u4FEE\u6539",text:!0,method(){let u=r;_(),l.value=e,S(()=>{o.value=!1,t.form.name=u.name,t.form.content=u.content})}},{txt:"\u5220\u9664",text:!0,methodConfirmText:`\u786E\u5B9A\u8981\u5220\u9664 ${r.name} \u5417\uFF1F`,method(){t.initJson.inParamExamples.splice(e,1)}}],_=()=>{var r,p;(p=(r=c.value)==null?void 0:r.formRef.value)==null||p.resetFields()},y=()=>{o.value=!0};return J({getInitJson:()=>t.initJson}),(r,p)=>{const e=C("PtForm"),n=C("PtButtonGroup"),u=C("el-table-column"),a=C("PtTable");return I(),q(k,null,[s(e,{ref_key:"selfFormRef",ref:c,form:t.form,class:"pt-wdith-100-pc",method:v,defaultButtonsShow:"submit,reset",submitAttrs:E.value,onResetForm:y,layout:1,comps:t.formComps},null,8,["form","submitAttrs","comps"]),s(a,{ref_key:"tableRef",ref:D,options:t.initJson.inParamExamples,columns:t.tableColumns},{defaultAppend:d(()=>[s(u,{label:"\u64CD\u4F5C",width:"180"},{default:d(({row:m,column:F,$index:g})=>[s(n,{options:x({row:m,column:F,$index:g})},null,8,["options"])]),_:1})]),_:1},8,["options","columns"])],64)}}}),lu=A({name:"InParamTestCaseDataConfig"}),su=A({...lu,props:{initJsonStr:{type:String}},setup(B,{expose:J}){const i=B,c=f(null),D=f(null),o=f(!0),l=f(null),t=h({initJson:{inParamTestCases:[]},form:{},formComps:[{field:{name:"name"},element:{comp:"el-input",formItemProps:{label:"\u7528\u4F8B\u540D\u79F0",required:!0,rules:[{validator:(r,p,e)=>{p?t.initJson.inParamTestCases.some(u=>u.name==p)&&o.value?e(new Error("\u7528\u4F8B\u540D\u79F0\u5DF2\u5B58\u5728")):e():e(new Error("\u7528\u4F8B\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A"))},trigger:"blur"}]},compProps:{clearable:!0}}},{field:{name:"content"},element:{comp:"el-input",formItemProps:{label:"\u7528\u4F8B\u5185\u5BB9",required:!0,tips:"\u5982\u679C\u5165\u53C2\u7C7B\u578B\u4E3A\u67E5\u8BE2\u5B57\u7B26\u4E32\uFF0C\u793A\u4F8B\uFF1Aname=xxxx&code=xxxxx"},compProps:{type:"textarea",rows:15,clearable:!0}}}],tableColumns:[{prop:"name",label:"\u7528\u4F8B\u540D\u79F0"},{prop:"content",label:"\u7528\u4F8B\u5185\u5BB9"}]});R(()=>{i.initJsonStr&&(t.initJson=JSON.parse(i.initJsonStr))});const E=f({buttonText:o.value?"\u6DFB\u52A0\u7528\u4F8B":"\u4FEE\u6539\u7528\u4F8B"});Q(()=>o.value,(r,p)=>{E.value={buttonText:r?"\u6DFB\u52A0\u7528\u4F8B":"\u4FEE\u6539\u7528\u4F8B"}});const v=()=>{let r={name:t.form.name,content:t.form.content};o.value?t.initJson.inParamTestCases.push(r):t.initJson.inParamTestCases.splice(l.value,1,r)},x=({row:r,column:p,$index:e})=>e<0?[]:[{txt:"\u4FEE\u6539",text:!0,method(){let u=r;_(),l.value=e,S(()=>{o.value=!1,t.form.name=u.name,t.form.content=u.content})}},{txt:"\u5220\u9664",text:!0,methodConfirmText:`\u786E\u5B9A\u8981\u5220\u9664 ${r.name} \u5417\uFF1F`,method(){t.initJson.inParamTestCases.splice(e,1)}}],_=()=>{var r,p;(p=(r=c.value)==null?void 0:r.formRef.value)==null||p.resetFields()},y=()=>{o.value=!0};return J({getInitJson:()=>t.initJson}),(r,p)=>{const e=C("PtForm"),n=C("PtButtonGroup"),u=C("el-table-column"),a=C("PtTable");return I(),q(k,null,[s(e,{ref_key:"selfFormRef",ref:c,form:t.form,class:"pt-wdith-100-pc",method:v,defaultButtonsShow:"submit,reset",submitAttrs:E.value,onResetForm:y,layout:1,comps:t.formComps},null,8,["form","submitAttrs","comps"]),s(a,{ref_key:"tableRef",ref:D,options:t.initJson.inParamTestCases,columns:t.tableColumns},{defaultAppend:d(()=>[s(u,{label:"\u64CD\u4F5C",width:"180"},{default:d(({row:m,column:F,$index:g})=>[s(n,{options:x({row:m,column:F,$index:g})},null,8,["options"])]),_:1})]),_:1},8,["options","columns"])],64)}}}),iu=A({name:"InParamDocConfig"}),mu=A({...iu,props:{initJsonStr:{type:String},rootInParamType:{type:String,default:j.object}},setup(B,{expose:J}){const i=B;let c=(u,a="success")=>{L({showClose:!0,message:u,type:a,showIcon:!0,grouping:!0})};const D=f(null),o=f(null),l=h({initJson:{inParamDocs:[]},form:{id:""},tableColumns:[{prop:"name",label:"\u53C2\u6570\u540D\u79F0"},{prop:"description",label:"\u53C2\u6570\u8BF4\u660E"},{prop:"type",label:"\u7C7B\u578B"},{prop:"isRequired",label:"\u662F\u5426\u5FC5\u586B"},{prop:"dictFlag",label:"\u5B57\u5178\u6807\u8BC6"}]}),t=[{field:{name:"name"},element:{comp:"el-input",formItemProps:{label:"\u53C2\u6570\u540D",required:!0,tips:"\u8BF7\u586B\u5199\u5B57\u6BB5\u540D"},compProps:{clearable:!0}}},{field:{name:"description"},element:{comp:"el-input",formItemProps:{label:"\u53C2\u6570\u8BF4\u660E",required:!0},compProps:{clearable:!0}}},{field:{name:"isRequired",value:!1},element:{comp:"el-switch",formItemProps:{label:"\u662F\u5426\u5FC5\u586B",required:!0},compProps:{activeText:"\u5FC5\u586B",inactiveText:"\u9009\u586B"}}},{field:{name:"type"},element:{comp:"PtDictFrontSelect",formItemProps:{label:"\u7C7B\u578B",required:!0},compProps:{dictParam:{groupCode:"dataquery_datasource_api_param_type"},defaultValueItem:u=>u.value==i.rootInParamType,props:{value:"value"}}}},{field:{name:"dictFlag"},element:{comp:"el-input",formItemProps:{label:"\u5B57\u5178\u6807\u8BC6"},compProps:{clearable:!0}}},{field:{name:"parentId"},element:{comp:"PtCascader",formItemProps:{label:"\u7236\u7EA7"},compProps:{disabled:!0,clearable:!0,options:l.initJson.inParamDocs}}}];R(()=>{i.initJsonStr&&(l.initJson.inParamDocs=JSON.parse(i.initJsonStr).inParamDocs)});const E=f({buttonText:"\u4FDD\u5B58\u5165\u53C2\u6587\u6863"}),v=()=>{!l.form.id?x():_()},x=()=>{if(!l.form.parentId&&l.initJson.inParamDocs.length>0){c("\u53EA\u80FD\u6DFB\u52A0\u4E00\u4E2A\u6839\u53C2\u6570","error");return}let u={id:z(),parentId:l.form.parentId,children:[]};y(l.form,u);let a=l.initJson.inParamDocs;u.parentId&&(a=r(u.parentId,l.initJson.inParamDocs).children),a.push(u)},_=()=>{let u=r(l.form.id,l.initJson.inParamDocs);y(l.form,u)},y=(u,a)=>{a.name=u.name,a.description=u.description,a.type=u.type,a.dictFlag=u.dictFlag,a.isRequired=u.isRequired},r=(u,a=[])=>{for(let m=0;m<a.length;m++){let F=a[m];return F.id==u?F:r(u,F.children)}},p=(u,a=[])=>{for(let m=0;m<a.length;m++){let F=a[m];if(F.id==u){a.splice(m,1);return}p(u,F.children)}},e=({row:u,column:a,$index:m})=>{if(m<0)return[];let F=[{txt:"\u4FEE\u6539",text:!0,method(){let g=u;n(),S(()=>{l.form.id=g.id,l.form.name=g.name,l.form.description=g.description,l.form.type=g.type,l.form.dictFlag=g.dictFlag,l.form.parentId=g.parentId,l.form.isRequired=g.isRequired})}},{txt:"\u5220\u9664",text:!0,methodConfirmText:`\u786E\u5B9A\u8981\u5220\u9664 ${u.name} \u5417\uFF1F`,method(){p(u.id,l.initJson.inParamDocs)}}];return(u.type==j.object||u.type==j.array)&&F.push({txt:"\u6DFB\u52A0\u5B50\u7EA7",text:!0,method(){n(),S(()=>{l.form.parentId=u.id})}}),F},n=()=>{var u;(u=D.value)==null||u.resetForm()};return J({getInitJson:()=>l.initJson}),(u,a)=>{const m=C("PtForm"),F=C("PtButtonGroup"),g=C("el-table-column"),w=C("PtTable");return I(),q(k,null,[s(m,{ref_key:"selfFormRef",ref:D,form:l.form,class:"pt-wdith-100-pc",method:v,defaultButtonsShow:"submit,reset",submitAttrs:E.value,inline:"",comps:t},null,8,["form","submitAttrs"]),s(w,{ref_key:"tableRef",ref:o,options:l.initJson.inParamDocs,columns:l.tableColumns,"default-expand-all":""},{defaultAppend:d(()=>[s(g,{label:"\u64CD\u4F5C",width:"180"},{default:d(({row:G,column:M,$index:U})=>[s(F,{options:e({row:G,column:M,$index:U})},null,8,["options"])]),_:1})]),_:1},8,["options","columns"])],64)}}}),pu=A({name:"InParamValidateConfig"}),fu=A({...pu,props:{initJsonStr:{type:String}},setup(B,{expose:J}){const i=B,c=f(null),D=f(null),o=f(!0),l=f(null),t=h({initJson:{inParamValidateItems:[]},form:{},formComps:[{field:{name:"name"},element:{comp:"el-input",formItemProps:{label:"\u9A8C\u8BC1\u540D\u79F0",required:!0,rules:[{validator:(r,p,e)=>{p?t.initJson.inParamValidateItems.some(u=>u.name==p)&&o.value?e(new Error("\u9A8C\u8BC1\u540D\u79F0\u5DF2\u5B58\u5728")):e():e(new Error("\u9A8C\u8BC1\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A"))},trigger:"blur"}]},compProps:{clearable:!0}}},{field:{name:"type"},element:{comp:"PtDictFrontSelect",formItemProps:{label:"\u7C7B\u578B",required:!0},compProps:{dictParam:{groupCode:"dataquery_datasource_api_param_validate_type"},props:{value:"value"}}}},{field:{name:"contentTemplate"},element:{comp:"el-input",formItemProps:{label:"\u9A8C\u8BC1\u5185\u5BB9",required:!0,displayBlock:!0,tips:"enjoy\u793A\u4F8B\uFF1A#(validateResult.setIsSuccess(data.name == 1)) validateResult\u53D8\u91CF\u4E3A\u56FA\u5B9A\u503C\uFF0C\u53EF\u8C03\u7528\u65B9\u6CD5\u8BBE\u7F6E\u6210\u529F\u4E0E\u5931\u8D25\uFF0Cdata\u53D8\u91CF\u4E3A\u53C2\u6570\u53E5\u67C4\u3002<br/>javascript\u793A\u4F8B\uFF1Adata.name == 1\uFF0Cdata\u53D8\u91CF\u4E3A\u53C2\u6570\u53E5\u67C4<br/>groovy\u793A\u4F8B\uFF1Adata.name == 1\uFF0Cdata\u53D8\u91CF\u4E3A\u53C2\u6570\u53E5\u67C4 "},compProps:{type:"textarea",rows:15,clearable:!0}}},{field:{name:"errorMessage"},element:{comp:"el-input",formItemProps:{label:"\u6821\u9A8C\u5931\u8D25\u65F6\u63D0\u793A\u4FE1\u606F",required:!0},compProps:{clearable:!0}}}],tableColumns:[{prop:"name",label:"\u9A8C\u8BC1\u540D\u79F0"},{prop:"type",label:"\u7C7B\u578B"},{prop:"contentTemplate",label:"\u9A8C\u8BC1\u5185\u5BB9",showOverflowTooltip:!0},{prop:"errorMessage",label:"\u6821\u9A8C\u5931\u8D25\u65F6\u63D0\u793A\u4FE1\u606F"}]});R(()=>{i.initJsonStr&&(t.initJson=JSON.parse(i.initJsonStr))});const E=f({buttonText:o.value?"\u6DFB\u52A0\u9A8C\u8BC1\u89C4\u5219":"\u4FEE\u6539\u9A8C\u8BC1\u89C4\u5219"});Q(()=>o.value,(r,p)=>{E.value={buttonText:r?"\u6DFB\u52A0\u9A8C\u8BC1\u89C4\u5219":"\u4FEE\u6539\u9A8C\u8BC1\u89C4\u5219"}});const v=()=>{let r={name:t.form.name,type:t.form.type,contentTemplate:t.form.contentTemplate,errorMessage:t.form.errorMessage};o.value?t.initJson.inParamValidateItems.push(r):t.initJson.inParamValidateItems.splice(l.value,1,r)},x=({row:r,column:p,$index:e})=>e<0?[]:[{txt:"\u4FEE\u6539",text:!0,method(){let u=r;_(),l.value=e,S(()=>{o.value=!1,t.form.name=u.name,t.form.type=u.type,t.form.contentTemplate=u.contentTemplate,t.form.errorMessage=u.errorMessage})}},{txt:"\u5220\u9664",text:!0,methodConfirmText:`\u786E\u5B9A\u8981\u5220\u9664 ${r.name} \u5417\uFF1F`,method(){t.initJson.inParamValidateItems.splice(e,1)}}],_=()=>{var r,p;(p=(r=c.value)==null?void 0:r.formRef.value)==null||p.resetFields()},y=()=>{o.value=!0};return J({getInitJson:()=>t.initJson}),(r,p)=>{const e=C("PtForm"),n=C("PtButtonGroup"),u=C("el-table-column"),a=C("PtTable");return I(),q(k,null,[s(e,{ref_key:"selfFormRef",ref:c,form:t.form,class:"pt-wdith-100-pc",method:v,defaultButtonsShow:"submit,reset",submitAttrs:E.value,onResetForm:y,layout:[[8,8],1],inline:"",comps:t.formComps},null,8,["form","submitAttrs","comps"]),s(a,{ref_key:"tableRef",ref:D,options:t.initJson.inParamValidateItems,columns:t.tableColumns},{defaultAppend:d(()=>[s(u,{label:"\u64CD\u4F5C",width:"180"},{default:d(({row:m,column:F,$index:g})=>[s(n,{options:x({row:m,column:F,$index:g})},null,8,["options"])]),_:1})]),_:1},8,["options","columns"])],64)}}}),cu=A({name:"InParamExtConfig"}),du=A({...cu,props:{initJsonStr:{type:String},onSubmit:{type:Function,default:()=>({})}},setup(B,{expose:J}){const i=B;f(null);const c=h({initJson:{groovyScript:""},form:{},formComps:[{field:{name:"groovyScript"},element:{comp:"el-input",formItemProps:{label:"groovy\u811A\u672C",tips:"\u4EC5\u652F\u6301groovy\u811A\u672C\uFF0C\u5BF9\u53C2\u6570\u7684\u5904\u7406\uFF0C\u53EF\u4EE5\u8FD4\u56DE\u4E00\u4E2A\u65B0\u53C2\u6570\uFF0C\u6216\u5BF9\u539F\u6765\u53C2\u6570\u8FDB\u884C\u6539\u5199\uFF0C\u5982\u679C\u5BF9\u53C2\u6570\u8FDB\u884C\u6539\u5199\uFF0C\u8BF7\u8FD4\u56DEnull\uFF0C\u5426\u5219\u5C06\u8FD4\u56DE\u503C\u4F5C\u4E3A\u65B0\u53C2\u6570\uFF0Cdata\u53D8\u91CF\u4E3A\u53C2\u6570\u53E5\u67C4"},compProps:{type:"textarea",rows:15,clearable:!0}}}]});R(()=>{i.initJsonStr&&(c.initJson=JSON.parse(i.initJsonStr),c.form.groovyScript=c.initJson.groovyScript)});const D=f({buttonText:"\u786E\u8BA4"}),o=()=>{c.initJson.groovyScript=c.form.groovyScript,i.onSubmit()};return J({getInitJson:()=>c.initJson}),(l,t)=>{const E=C("PtForm");return I(),$(E,{form:c.form,class:"pt-wdith-100-pc",method:o,defaultButtonsShow:"submit,reset",submitAttrs:D.value,layout:1,comps:c.formComps},null,8,["form","submitAttrs","comps"])}}}),Fu=A({name:"OutParamExampleConfig"}),Cu=A({...Fu,props:{initJsonStr:{type:String}},setup(B,{expose:J}){const i=B,c=f(null),D=f(null),o=f(!0),l=f(null),t=h({initJson:{outParamExamples:[]},form:{},formComps:[{field:{name:"name"},element:{comp:"el-input",formItemProps:{label:"\u793A\u4F8B\u540D\u79F0",required:!0,rules:[{validator:(r,p,e)=>{p?t.initJson.outParamExamples.some(u=>u.name==p)&&o.value?e(new Error("\u793A\u4F8B\u540D\u79F0\u5DF2\u5B58\u5728")):e():e(new Error("\u793A\u4F8B\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A"))},trigger:"blur"}]},compProps:{clearable:!0}}},{field:{name:"content"},element:{comp:"el-input",formItemProps:{label:"\u793A\u4F8B\u5185\u5BB9",required:!0},compProps:{type:"textarea",rows:15,clearable:!0}}}],tableColumns:[{prop:"name",label:"\u793A\u4F8B\u540D\u79F0"},{prop:"content",label:"\u793A\u4F8B\u5185\u5BB9",showOverflowTooltip:!0}]});R(()=>{i.initJsonStr&&(t.initJson=JSON.parse(i.initJsonStr))});const E=f({buttonText:o.value?"\u6DFB\u52A0\u793A\u4F8B":"\u4FEE\u6539\u793A\u4F8B"});Q(()=>o.value,(r,p)=>{E.value={buttonText:r?"\u6DFB\u52A0\u793A\u4F8B":"\u4FEE\u6539\u793A\u4F8B"}});const v=()=>{let r={name:t.form.name,content:t.form.content};o.value?t.initJson.outParamExamples.push(r):t.initJson.outParamExamples.splice(l.value,1,r)},x=({row:r,column:p,$index:e})=>e<0?[]:[{txt:"\u4FEE\u6539",text:!0,method(){let u=r;_(),l.value=e,S(()=>{o.value=!1,t.form.name=u.name,t.form.content=u.content})}},{txt:"\u5220\u9664",text:!0,methodConfirmText:`\u786E\u5B9A\u8981\u5220\u9664 ${r.name} \u5417\uFF1F`,method(){t.initJson.outParamExamples.splice(e,1)}}],_=()=>{var r,p;(p=(r=c.value)==null?void 0:r.formRef.value)==null||p.resetFields()},y=()=>{o.value=!0};return J({getInitJson:()=>t.initJson}),(r,p)=>{const e=C("PtForm"),n=C("PtButtonGroup"),u=C("el-table-column"),a=C("PtTable");return I(),q(k,null,[s(e,{ref_key:"selfFormRef",ref:c,form:t.form,class:"pt-wdith-100-pc",method:v,defaultButtonsShow:"submit,reset",submitAttrs:E.value,onResetForm:y,layout:1,comps:t.formComps},null,8,["form","submitAttrs","comps"]),s(a,{ref_key:"tableRef",ref:D,options:t.initJson.outParamExamples,columns:t.tableColumns},{defaultAppend:d(()=>[s(u,{label:"\u64CD\u4F5C",width:"180"},{default:d(({row:m,column:F,$index:g})=>[s(n,{options:x({row:m,column:F,$index:g})},null,8,["options"])]),_:1})]),_:1},8,["options","columns"])],64)}}}),Bu=A({name:"OutParamSuccessConfig"}),Eu=A({...Bu,props:{initJsonStr:{type:String}},setup(B,{expose:J}){const i=B,c=f(null),D=f(null),o=f(!0),l=f(null),t=h({initJson:{outParamValidateItems:[]},form:{},formComps:[{field:{name:"name",value:"groovy\u9A8C\u8BC1"},element:{comp:"el-input",formItemProps:{label:"\u9A8C\u8BC1\u540D\u79F0",required:!0,rules:[{validator:(r,p,e)=>{p?t.initJson.outParamValidateItems.some(u=>u.name==p)&&o.value?e(new Error("\u9A8C\u8BC1\u540D\u79F0\u5DF2\u5B58\u5728")):e():e(new Error("\u9A8C\u8BC1\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A"))},trigger:"blur"}]},compProps:{clearable:!0}}},{field:{name:"type",value:"groovy_template"},element:{comp:"PtDictFrontSelect",formItemProps:{label:"\u7C7B\u578B",required:!0},compProps:{dictParam:{groupCode:"dataquery_datasource_api_param_validate_type"},props:{value:"value"}}}},{field:{name:"contentTemplate"},element:{comp:"el-input",formItemProps:{label:"\u9A8C\u8BC1\u5185\u5BB9",required:!0,displayBlock:!0,tips:"enjoy\u793A\u4F8B\uFF1A#(validateResult.setIsSuccess(data.name == 1)) validateResult\u53D8\u91CF\u4E3A\u56FA\u5B9A\u503C\uFF0C\u53EF\u8C03\u7528\u65B9\u6CD5\u8BBE\u7F6E\u6210\u529F\u4E0E\u5931\u8D25\uFF0Cdata\u53D8\u91CF\u4E3A\u8FD4\u56DE\u7ED3\u679C\u53E5\u67C4\u3002<br/>javascript\u793A\u4F8B\uFF1Adata.name == 1\uFF0Cdata\u53D8\u91CF\u4E3A\u8FD4\u56DE\u7ED3\u679C\u53E5\u67C4<br/>groovy\u793A\u4F8B\uFF1Adata.name == 1\uFF0Cdata\u53D8\u91CF\u4E3A\u8FD4\u56DE\u7ED3\u679C\u53E5\u67C4 "},compProps:{type:"textarea",rows:15,clearable:!0}}},{field:{name:"errorMessage"},element:{comp:"el-input",formItemProps:{label:"\u6821\u9A8C\u5931\u8D25\u65F6\u63D0\u793A\u4FE1\u606F\uFF08\u539F\u56E0\uFF09"},compProps:{clearable:!0}}}],tableColumns:[{prop:"name",label:"\u9A8C\u8BC1\u540D\u79F0"},{prop:"type",label:"\u7C7B\u578B"},{prop:"contentTemplate",label:"\u9A8C\u8BC1\u5185\u5BB9",showOverflowTooltip:!0},{prop:"errorMessage",label:"\u6821\u9A8C\u5931\u8D25\u65F6\u63D0\u793A\u4FE1\u606F\uFF08\u539F\u56E0\uFF09"}]});R(()=>{i.initJsonStr&&(t.initJson=JSON.parse(i.initJsonStr))});const E=f({buttonText:o.value?"\u6DFB\u52A0\u9A8C\u8BC1\u89C4\u5219":"\u4FEE\u6539\u9A8C\u8BC1\u89C4\u5219"});Q(()=>o.value,(r,p)=>{E.value={buttonText:r?"\u6DFB\u52A0\u9A8C\u8BC1\u89C4\u5219":"\u4FEE\u6539\u9A8C\u8BC1\u89C4\u5219"}});const v=()=>{let r={name:t.form.name,type:t.form.type,contentTemplate:t.form.contentTemplate,errorMessage:t.form.errorMessage};o.value?t.initJson.outParamValidateItems.push(r):t.initJson.outParamValidateItems.splice(l.value,1,r)},x=({row:r,column:p,$index:e})=>e<0?[]:[{txt:"\u4FEE\u6539",text:!0,method(){let u=r;_(),l.value=e,S(()=>{o.value=!1,t.form.name=u.name,t.form.type=u.type,t.form.contentTemplate=u.contentTemplate,t.form.errorMessage=u.errorMessage})}},{txt:"\u5220\u9664",text:!0,methodConfirmText:`\u786E\u5B9A\u8981\u5220\u9664 ${r.name} \u5417\uFF1F`,method(){t.initJson.outParamValidateItems.splice(e,1)}}],_=()=>{var r,p;(p=(r=c.value)==null?void 0:r.formRef.value)==null||p.resetFields()},y=()=>{o.value=!0};return J({getInitJson:()=>t.initJson}),(r,p)=>{const e=C("PtForm"),n=C("PtButtonGroup"),u=C("el-table-column"),a=C("PtTable");return I(),q(k,null,[s(e,{ref_key:"selfFormRef",ref:c,form:t.form,class:"pt-wdith-100-pc",method:v,defaultButtonsShow:"submit,reset",submitAttrs:E.value,onResetForm:y,layout:[[8,8],1],inline:"",comps:t.formComps},null,8,["form","submitAttrs","comps"]),s(a,{ref_key:"tableRef",ref:D,options:t.initJson.outParamValidateItems,columns:t.tableColumns},{defaultAppend:d(()=>[s(u,{label:"\u64CD\u4F5C",width:"180"},{default:d(({row:m,column:F,$index:g})=>[s(n,{options:x({row:m,column:F,$index:g})},null,8,["options"])]),_:1})]),_:1},8,["options","columns"])],64)}}}),bu=A({name:"OutParamExtConfig"}),gu=A({...bu,props:{initJsonStr:{type:String},onSubmit:{type:Function,default:()=>({})}},setup(B,{expose:J}){const i=B;f(null);const c=h({initJson:{groovyScript:""},form:{},formComps:[{field:{name:"groovyScript"},element:{comp:"el-input",formItemProps:{label:"groovy\u811A\u672C",tips:"\u4EC5\u652F\u6301groovy\u811A\u672C\uFF0C\u5BF9\u7ED3\u679C\u7684\u5904\u7406\uFF0C\u53EF\u4EE5\u8FD4\u56DE\u4E00\u4E2A\u65B0\u7ED3\u679C\uFF0C\u6216\u5BF9\u539F\u6765\u7ED3\u679C\u8FDB\u884C\u6539\u5199\uFF0C\u5982\u679C\u5BF9\u7ED3\u679C\u8FDB\u884C\u6539\u5199\uFF0C\u8BF7\u8FD4\u56DEnull\uFF0C\u5426\u5219\u5C06\u8FD4\u56DE\u503C\u4F5C\u4E3A\u65B0\u7ED3\u679C\uFF0Cdata\u53D8\u91CF\u4E3A\u7ED3\u679C\u53E5\u67C4\uFF0Ccommand\u4E3A\u8BF7\u6C42\u53C2\u6570\u53E5\u67C4\uFF0CdatasourceApi\u4E3A\u6570\u636E\u6E90\u63A5\u53E3\u8C03\u7528\u53E5\u67C4\uFF08\u4EC5\u6570\u636E\u67E5\u8BE2\u652F\u6301\uFF09\uFF0CdataQueryDataApiExecutor\u4E3A\u7EBF\u7A0B\u6C60\u53E5\u67C4\uFF08\u4EC5\u6570\u636E\u67E5\u8BE2\u652F\u6301\uFF09"},compProps:{type:"textarea",rows:15,clearable:!0}}}]});R(()=>{i.initJsonStr&&(c.initJson=JSON.parse(i.initJsonStr),c.form.groovyScript=c.initJson.groovyScript)});const D=f({buttonText:"\u786E\u8BA4"}),o=()=>{c.initJson.groovyScript=c.form.groovyScript,i.onSubmit()};return J({getInitJson:()=>c.initJson}),(l,t)=>{const E=C("PtForm");return I(),$(E,{form:c.form,class:"pt-wdith-100-pc",method:o,defaultButtonsShow:"submit,reset",submitAttrs:D.value,layout:1,comps:c.formComps},null,8,["form","submitAttrs","comps"])}}}),Pu=A({name:"OutParamDocConfig"}),Du=A({...Pu,props:{initJsonStr:{type:String},rootInParamType:{type:String,default:j.object}},setup(B,{expose:J}){const i=B,c=f(null),D=f(null),o=h({initJson:{outParamDocs:[]},form:{id:""},tableColumns:[{prop:"name",label:"\u53C2\u6570\u540D\u79F0"},{prop:"description",label:"\u53C2\u6570\u8BF4\u660E"},{prop:"type",label:"\u7C7B\u578B"},{prop:"dictFlag",label:"\u5B57\u5178\u6807\u8BC6"}]}),l=[{field:{name:"name"},element:{comp:"el-input",formItemProps:{label:"\u53C2\u6570\u540D",required:!0,tips:"\u8BF7\u586B\u5199\u5B57\u6BB5\u540D"},compProps:{clearable:!0}}},{field:{name:"description"},element:{comp:"el-input",formItemProps:{label:"\u53C2\u6570\u8BF4\u660E",required:!0},compProps:{clearable:!0}}},{field:{name:"type"},element:{comp:"PtDictFrontSelect",formItemProps:{label:"\u7C7B\u578B",required:!0},compProps:{dictParam:{groupCode:"dataquery_datasource_api_param_type"},defaultValueItem:e=>e.value==i.rootInParamType,props:{value:"value"}}}},{field:{name:"dictFlag"},element:{comp:"el-input",formItemProps:{label:"\u5B57\u5178\u6807\u8BC6"},compProps:{clearable:!0}}},{field:{name:"parentId"},element:{comp:"PtCascader",formItemProps:{label:"\u7236\u7EA7"},compProps:{disabled:!0,clearable:!0,options:o.initJson.outParamDocs}}}];R(()=>{i.initJsonStr&&(o.initJson.outParamDocs=JSON.parse(i.initJsonStr).outParamDocs)});const t=f({buttonText:"\u4FDD\u5B58\u51FA\u53C2\u6587\u6863"}),E=()=>{!o.form.id?v():x()},v=()=>{let e={id:z(),name:o.form.name,description:o.form.description,type:o.form.type,dictFlag:o.form.dictFlag,parentId:o.form.parentId,children:[]},n=o.initJson.outParamDocs;e.parentId&&(n=_(e.parentId,o.initJson.outParamDocs).children),n.push(e)},x=()=>{let e=_(o.form.id,o.initJson.outParamDocs);e.name=o.form.name,e.description=o.form.description,e.type=o.form.type,e.dictFlag=o.form.dictFlag},_=(e,n=[])=>{for(let u=0;u<n.length;u++){let a=n[u];return a.id==e?a:_(e,a.children)}},y=(e,n=[])=>{for(let u=0;u<n.length;u++){let a=n[u];if(a.id==e){n.splice(u,1);return}y(e,a.children)}},r=({row:e,column:n,$index:u})=>{if(u<0)return[];let a=[{txt:"\u4FEE\u6539",text:!0,method(){let m=e;p(),S(()=>{o.form.id=m.id,o.form.name=m.name,o.form.description=m.description,o.form.type=m.type,o.form.dictFlag=m.dictFlag,o.form.parentId=m.parentId})}},{txt:"\u5220\u9664",text:!0,methodConfirmText:`\u786E\u5B9A\u8981\u5220\u9664 ${e.name} \u5417\uFF1F`,method(){y(e.id,o.initJson.outParamDocs)}}];return(e.type==j.object||e.type==j.array)&&a.push({txt:"\u6DFB\u52A0\u5B50\u7EA7",text:!0,method(){p(),S(()=>{o.form.parentId=e.id})}}),a},p=()=>{var e;(e=c.value)==null||e.resetForm()};return J({getInitJson:()=>o.initJson}),(e,n)=>{const u=C("PtForm"),a=C("PtButtonGroup"),m=C("el-table-column"),F=C("PtTable");return I(),q(k,null,[s(u,{ref_key:"selfFormRef",ref:c,form:o.form,class:"pt-wdith-100-pc",method:E,defaultButtonsShow:"submit,reset",submitAttrs:t.value,inline:"",comps:l},null,8,["form","submitAttrs"]),s(F,{ref_key:"tableRef",ref:D,options:o.initJson.outParamDocs,columns:o.tableColumns,"default-expand-all":""},{defaultAppend:d(()=>[s(m,{label:"\u64CD\u4F5C",width:"180"},{default:d(({row:g,column:w,$index:G})=>[s(a,{options:r({row:g,column:w,$index:G})},null,8,["options"])]),_:1})]),_:1},8,["options","columns"])],64)}}}),Au=A({name:"OutParamTransConfig"}),Ju=A({...Au,props:{initJsonStr:{type:String}},setup(B,{expose:J}){const i=B,c=f(null),D=f(null),o=h({initJson:{transItems:[]},form:{id:""},tableColumns:[{prop:"type",label:"\u7FFB\u8BD1\u7C7B\u578B"},{prop:"byFieldName",label:"\u7FFB\u8BD1\u5B57\u6BB5\u540D"},{prop:"forFieldName",label:"\u88AB\u7FFB\u8BD1\u5B57\u6BB5\u540D"},{prop:"mapValueField",label:"\u6620\u5C04\u5B57\u6BB5\u540D"},{prop:"isMapValueCollectionJoin",label:"\u6620\u5C04\u5B57\u6BB5\u503C\u96C6\u5408\u62FC\u63A5",formatter:(n,u,a,m)=>a?"\u62FC\u63A5":"\u4E0D\u62FC\u63A5"},{prop:"mapValueCollectionJoinSeparator",label:"\u6620\u5C04\u5B57\u6BB5\u503C\u96C6\u5408\u62FC\u63A5\u7B26"},{prop:"isByFieldValueGroup",label:"\u7FFB\u8BD1\u5B57\u6BB5\u503C\u662F\u5426\u4E3A\u4E00\u7EC4\u6570\u636E",formatter:(n,u,a,m)=>a?"\u662F":"\u5426"},{prop:"byFieldValueGroupSeparator",label:"\u7FFB\u8BD1\u5B57\u6BB5\u503C\u662F\u4E00\u7EC4\u6570\u636E\u5206\u9694\u7B26"},{prop:"mapFieldValueGroupSeparator",label:"\u6620\u5C04\u5B57\u6BB5\u503C\u662F\u4E00\u7EC4\u6570\u636E\u5206\u9694\u7B26"},{prop:"isNotTransWhenExist",label:"\u662F\u5426\u8986\u76D6\u7FFB\u8BD1\u76EE\u6807\u503C",formatter:(n,u,a,m)=>a?"\u5F53\u503C\u5B58\u5728\u65F6\u4E0D\u8986\u76D6":"\u5F53\u503C\u5B58\u5728\u65F6\u8986\u76D6"},{prop:"mapKeyField",label:"\u6620\u5C04key\u5B57\u6BB5\u540D"},{prop:"dicGroupCode",label:"\u5B57\u5178\u7EC4\u7F16\u7801"}]}),l=[{field:{name:"type"},element:{comp:"el-input",formItemProps:{label:"\u7FFB\u8BD1\u7C7B\u578B",tips:"\u7C7B\u578B,\u7FFB\u8BD1\u5B9E\u73B0\u652F\u6301\u7684\u7C7B\u578B,\u4E0D\u4E86\u89E3\u4E0D\u8981\u586B\u5199\uFF0C\u9ED8\u8BA4\u4F7F\u7528\u5B57\u5178\u914D\u7F6E\u7FFB\u8BD1\uFF0C\u5982\u679C\u9700\u8981\u5176\u5B83\u7FFB\u8BD1\u624D\u80FD\u586B\u5199,\u6570\u636E\u6E90\u63A5\u53E3\u586B\u5199\u65E0\u6548\u4E3A\u907F\u514D\u5F15\u8D77\u76F8\u4E92\u8C03\u7528\u6682\u4E0D\u5F00\u653E"},compProps:{clearable:!0,placeholder:"\u5982\uFF1Auser"}}},{field:{name:"byFieldName"},element:{comp:"el-input",formItemProps:{label:"\u7FFB\u8BD1\u5B57\u6BB5\u540D",tips:"\u9700\u8981\u7FFB\u8BD1\u7684\u5B57\u6BB5\u540D\u79F0",required:!0},compProps:{clearable:!0}}},{field:{name:"forFieldName"},element:{comp:"el-input",formItemProps:{label:"\u88AB\u7FFB\u8BD1\u5B57\u6BB5\u540D",tips:"\u9700\u8981\u88AB\u7FFB\u8BD1\u7684\u5B57\u6BB5\u540D\u79F0",required:!0},compProps:{clearable:!0}}},{field:{name:"mapValueField"},element:{comp:"el-input",formItemProps:{label:"\u6620\u5C04\u5B57\u6BB5\u540D",required:!0,tips:"\u4E00\u822C\u9700\u8981\u586B\u5199\uFF0C\u4E0D\u586B\u5199\u9ED8\u8BA4\u4E3Aname,\u5F53\u7FFB\u8BD1\u7ED3\u679C\u662F\u4E00\u4E2A\u5BF9\u8C61\u65F6\uFF0C\u53EF\u4EE5\u4F7F\u7528\u8BE5\u5B57\u6BB5\u53D6\u5BF9\u8C61\u7684\u4E00\u4E2A\u5C5E\u6027\u503C"},compProps:{clearable:!0}}},{field:{name:"isMapValueCollectionJoin",value:!1},element:{comp:"el-switch",formItemProps:{label:"\u6620\u5C04\u5B57\u6BB5\u503C\u96C6\u5408\u62FC\u63A5",tips:"\u6620\u5C04\u5B57\u6BB5\u503C\u4E3A\u96C6\u5408\u65F6\uFF0C\u62FC\u63A5\u6210\u5B57\u7B26\u4E32,\u5426\u5219\u5C06\u6309\u96C6\u5408\u8BBE\u7F6E\uFF0C\u8BF7\u786E\u4FDD\u76EE\u6807\u6570\u636E\u7C7B\u578B\u4E00\u81F4\uFF0C\u6CE8\u610F\uFF0C\u5982\u679C\u4E3A\u5206\u7EC4\u7FFB\u8BD1\uFF0C\u8BF7\u8BBE\u7F6E\u4E3Afalse\uFF0C\u5426\u5219\u4F1A\u6709\u5F71\u54CD"},compProps:{activeText:"\u62FC\u63A5",inactiveText:"\u4E0D\u62FC\u63A5"}}},{field:{name:"mapValueCollectionJoinSeparator"},element:{comp:"el-input",formItemProps:{label:"\u6620\u5C04\u5B57\u6BB5\u503C\u96C6\u5408\u62FC\u63A5\u7B26",tips:"\u6620\u5C04\u5B57\u6BB5\u503C\u4E3A\u96C6\u5408\u65F6\uFF0C\u62FC\u63A5\u6210\u5B57\u7B26\u4E32\u7684\u5206\u9694\u7B26\uFF0C\u4E0D\u586B\u5199\u9ED8\u8BA4\u659C\u6760(\u5373\uFF1A/)"},compProps:{clearable:!0}}},{field:{name:"isByFieldValueGroup",value:!1},element:{comp:"el-switch",formItemProps:{label:"\u7FFB\u8BD1\u5B57\u6BB5\u503C\u662F\u5426\u4E3A\u4E00\u7EC4\u6570\u636E",tips:"\u4E00\u822C\u6765\u8BB2\uFF0C\u4E3A\u4E00\u7EC4\u4EE5\u9017\u53F7\u5206\u9694\uFF08\u53EF\u4EE5\u81EA\u5B9A\u4E49\uFF09\u7684\u5B57\u7B26\u4E32\uFF0C\u4E5F\u652F\u6301\u6570\u7EC4\u7C7B\u578B"},compProps:{activeText:"\u662F",inactiveText:"\u5426"}}},{field:{name:"byFieldValueGroupSeparator"},element:{comp:"el-input",formItemProps:{label:"\u7FFB\u8BD1\u5B57\u6BB5\u503C\u662F\u4E00\u7EC4\u6570\u636E\u5206\u9694\u7B26",tips:"\u7FFB\u8BD1\u5B57\u6BB5\u503C\u4E3A\u4E00\u7EC4\u6570\u636E\uFF0C\u6307\u5B9A\u6570\u636E\u5206\u9694\u7B26\uFF0C\u4E0D\u586B\u5199\u9ED8\u8BA4\u4E3A\u82F1\u6587\u9017\u53F7(\u5373\uFF1A,)"},compProps:{clearable:!0}}},{field:{name:"mapFieldValueGroupSeparator"},element:{comp:"el-input",formItemProps:{label:"\u6620\u5C04\u5B57\u6BB5\u503C\u662F\u4E00\u7EC4\u6570\u636E\u5206\u9694\u7B26",tips:"\u6620\u5C04\u5B57\u6BB5\u503C\u4E3A\u4E00\u7EC4\u6570\u636E\uFF0C\u6307\u5B9A\u6570\u636E\u5206\u9694\u7B26\uFF0C\u4EC5\u9650\u4E3A\u96C6\u5408\u7C7B\u578B\u65F6\u4F7F\u7528\uFF0C\u4E0D\u586B\u5199\u9ED8\u8BA4\u4E3A\u82F1\u6587\u9017\u53F7(\u5373\uFF1A,)"},compProps:{clearable:!0}}},{field:{name:"isNotTransWhenExist",value:!0},element:{comp:"el-switch",formItemProps:{label:"\u662F\u5426\u8986\u76D6\u7FFB\u8BD1\u76EE\u6807\u503C",tips:"\u5F53\u7FFB\u8BD1\u7ED3\u679C\u662F\u4E00\u4E2A\u5BF9\u8C61\u65F6\uFF0C\u53EF\u4EE5\u4F7F\u7528\u8BE5\u5B57\u6BB5\u53D6\u5BF9\u8C61\u7684\u4E00\u4E2A\u5C5E\u6027\u503C"},compProps:{activeText:"\u5F53\u503C\u5B58\u5728\u65F6\u4E0D\u8986\u76D6",inactiveText:"\u5F53\u503C\u5B58\u5728\u65F6\u8986\u76D6"}}},{field:{name:"mapKeyField"},element:{comp:"el-input",formItemProps:{label:"\u6620\u5C04key\u5B57\u6BB5\u540D",required:!0,tips:"\u4E00\u822C\u9700\u8981\u586B\u5199\uFF0C\u4E0D\u586B\u5199\u5728\u4F7F\u7528\u5B57\u5178\u914D\u7F6E\u65F6\u9ED8\u8BA4\u4E3Avalue,\u4F7F\u7528\u7684\u7ED3\u679Ckey\u4F5C\u4E3A\u552F\u4E00\u6807\u8BC6"},compProps:{clearable:!0}}},{field:{name:"dicGroupCode"},element:{comp:"el-input",formItemProps:{label:"\u5B57\u5178\u7EC4\u7F16\u7801",required:({form:n})=>!n.type,tips:"\u4E0D\u586B\u5199\u7C7B\u578B\u65F6\u5FC5\u586B\uFF0C\u5728\u5B57\u5178\u914D\u7F6E\u4E2D\u7684\u5B57\u5178\u7EC4\u7F16\u7801\uFF0C\u7FFB\u8BD1\u7ED3\u679C\u5C06\u53D6\u8BE5\u5B57\u5178\u7EC4\u4E0B\u7684\u5B57\u5178\u9879\u4F5C\u4E3A\u7FFB\u8BD1\u7ED3\u679C"},compProps:{clearable:!0}}},{field:{name:"datasourceApiCode",valueChange:({form:n,formData:u,newValue:a})=>{a?n.type="trans_datasourceapi_by_code:"+a+":"+n.mapKeyField:n.type=""}},element:{comp:"el-input",formItemProps:{label:"\u6570\u636E\u6E90\u63A5\u53E3\u7F16\u7801",tips:"\u5982\u679C\u4F7F\u7528\u6570\u636E\u6E90\u63A5\u53E3\u4F5C\u4E3A\u7FFB\u8BD1\u6570\u636E\u6765\u6E90\uFF0C\u53EF\u4EE5\u501F\u6B64\u8F85\u52A9\u8F93\u5165\u7C7B\u578B"},compProps:{clearable:!0}}}];R(()=>{i.initJsonStr&&(o.initJson.transItems=JSON.parse(i.initJsonStr).transItems)});const t=f({buttonText:"\u4FDD\u5B58\u7FFB\u8BD1\u914D\u7F6E"}),E=()=>{!o.form.id?v():x()},v=()=>{let n={id:z()};_(o.form,n),o.initJson.transItems.push(n)},x=()=>{let n=y(o.form.id,o.initJson.transItems);_(o.form,n)},_=(n,u)=>{u.type=n.type,u.byFieldName=n.byFieldName,u.forFieldName=n.forFieldName,u.mapValueField=n.mapValueField,u.isMapValueCollectionJoin=n.isMapValueCollectionJoin,u.mapValueCollectionJoinSeparator=n.mapValueCollectionJoinSeparator,u.isByFieldValueGroup=n.isByFieldValueGroup,u.byFieldValueGroupSeparator=n.byFieldValueGroupSeparator,u.mapFieldValueGroupSeparator=n.mapFieldValueGroupSeparator,u.isNotTransWhenExist=n.isNotTransWhenExist,u.mapKeyField=n.mapKeyField,u.dicGroupCode=n.dicGroupCode},y=(n,u=[])=>{for(let a=0;a<u.length;a++){let m=u[a];if(m.id==n)return m}return null},r=(n,u=[])=>{for(let a=0;a<u.length;a++)if(u[a].id==n){u.splice(a,1);return}},p=({row:n,column:u,$index:a})=>a<0?[]:[{txt:"\u4FEE\u6539",text:!0,method(){let F=n;e(),S(()=>{o.form.id=F.id,_(F,o.form)})}},{txt:"\u5220\u9664",text:!0,methodConfirmText:`\u786E\u5B9A\u8981\u5220\u9664 ${n.name} \u5417\uFF1F`,method(){r(n.id,o.initJson.transItems)}}],e=()=>{var n;(n=c.value)==null||n.resetForm()};return J({getInitJson:()=>o.initJson}),(n,u)=>{const a=C("PtForm"),m=C("PtButtonGroup"),F=C("el-table-column"),g=C("PtTable");return I(),q(k,null,[s(a,{ref_key:"selfFormRef",ref:c,form:o.form,class:"pt-wdith-100-pc",method:E,defaultButtonsShow:"submit,reset",submitAttrs:t.value,inline:"",comps:l},null,8,["form","submitAttrs"]),s(g,{ref_key:"tableRef",ref:D,options:o.initJson.transItems,columns:o.tableColumns,"default-expand-all":""},{defaultAppend:d(()=>[s(F,{label:"\u64CD\u4F5C",width:"180"},{default:d(({row:w,column:G,$index:M})=>[s(m,{options:p({row:w,column:G,$index:M})},null,8,["options"])]),_:1})]),_:1},8,["options","columns"])],64)}}}),_u=A({name:"DictConfig"}),yu=A({..._u,props:{initJsonStr:{type:String}},setup(B,{expose:J}){const i=B;let c=(u,a="success")=>{L({showClose:!0,message:u,type:a,showIcon:!0,grouping:!0})};const D=f(null),o=f(null),l=h({initJson:{dictItems:[]},form:{id:""},tableColumns:[{prop:"id",label:"\u4E3B\u952E"},{prop:"name",label:"\u5B57\u5178\u540D\u79F0"},{prop:"value",label:"\u5B57\u5178\u503C/\u7F16\u7801"},{prop:"isGroup",label:"\u662F\u5426\u5B57\u5178\u7EC4",formatter:(u,a,m,F)=>m?"\u5B57\u5178\u7EC4":"\u5B57\u5178\u9879"}]}),t=[{field:{name:"id"},element:{comp:"el-input",formItemProps:{label:"\u4E3B\u952E",tips:"\u4E0D\u586B\u5199\u81EA\u52A8\u751F\u6210"},compProps:{clearable:!0}}},{field:{name:"isGroup",value:!1},element:{comp:"el-switch",formItemProps:{label:"\u662F\u5426\u5B57\u5178\u7EC4",required:!0},compProps:{activeText:"\u5B57\u5178\u7EC4",inactiveText:"\u5B57\u5178\u9879"}}},{field:{name:"name"},element:{comp:"el-input",formItemProps:{label:"\u5B57\u5178\u540D",required:!0},compProps:{clearable:!0}}},{field:{name:"value"},element:{comp:"el-input",formItemProps:{label:"\u5B57\u5178\u503C/\u7F16\u7801",required:!0},compProps:{clearable:!0}}},{field:{name:"parentId"},element:{comp:"PtCascader",formItemProps:{label:"\u7236\u7EA7"},compProps:{disabled:!0,clearable:!0,options:l.initJson.dictItems}}}];R(()=>{i.initJsonStr&&l.initJson.dictItems.push(...JSON.parse(i.initJsonStr).dictItems)});const E=f({buttonText:"\u4FDD\u5B58\u5B57\u5178\u914D\u7F6E"}),v=()=>{!l.form.id?x():_()},x=()=>{if(l.form.isGroup==!1&&!l.form.parentId){c("\u5B57\u5178\u9879\u80FD\u53EA\u6DFB\u52A0\u5230\u5B57\u5178\u7EC4\u4E0B\u9762,\u4F60\u53EF\u80FD\u9700\u8981\u5148\u6DFB\u52A0\u4E00\u4E2A\u5B57\u5178\u7EC4","error");return}if(l.form.isGroup==!0&&l.form.parentId){c("\u5B57\u5178\u7EC4\u4E0B\u53EA\u80FD\u6DFB\u52A0\u5B57\u5178\u9879","error");return}let u={id:l.form.id||z(),parentId:l.form.parentId,children:[]};y(l.form,u);let a=l.initJson.dictItems;u.parentId&&(a=r(u.parentId,l.initJson.dictItems).children),a.push(u)},_=()=>{let u=r(l.form.id,l.initJson.dictItems);y(l.form,u)},y=(u,a)=>{a.name=u.name,a.value=u.value,a.isGroup=u.isGroup,a.unit=u.unit},r=(u,a=[])=>{for(let m=0;m<a.length;m++){let F=a[m];return F.id==u?F:r(u,F.children)}},p=(u,a=[])=>{for(let m=0;m<a.length;m++){let F=a[m];if(F.id==u){a.splice(m,1);return}p(u,F.children)}},e=({row:u,column:a,$index:m})=>{if(m<0)return[];let F=[{txt:"\u4FEE\u6539",text:!0,method(){let g=u;n(),S(()=>{l.form.id=g.id,y(g,l.form),l.form.parentId=g.parentId})}},{txt:"\u5220\u9664",text:!0,methodConfirmText:`\u786E\u5B9A\u8981\u5220\u9664 ${u.name} \u5417\uFF1F`,method(){p(u.id,l.initJson.dictItems)}}];return u.isGroup==!0&&F.push({txt:"\u6DFB\u52A0\u5B50\u7EA7",text:!0,method(){n(),S(()=>{l.form.parentId=u.id})}}),F},n=()=>{var u;(u=D.value)==null||u.resetForm()};return J({getInitJson:()=>l.initJson}),(u,a)=>{const m=C("PtForm"),F=C("PtButtonGroup"),g=C("el-table-column"),w=C("PtTable");return I(),q(k,null,[s(m,{ref_key:"selfFormRef",ref:D,form:l.form,class:"pt-wdith-100-pc",method:v,defaultButtonsShow:"submit,reset",submitAttrs:E.value,inline:"",comps:t},null,8,["form","submitAttrs"]),s(w,{ref_key:"tableRef",ref:o,options:l.initJson.dictItems,columns:l.tableColumns,"default-expand-all":""},{defaultAppend:d(()=>[s(g,{label:"\u64CD\u4F5C",width:"180"},{default:d(({row:G,column:M,$index:U})=>[s(F,{options:e({row:G,column:M,$index:U})},null,8,["options"])]),_:1})]),_:1},8,["options","columns"])],64)}}}),vu=A({name:"PageableAdapterConfig"}),xu=A({...vu,props:{initJsonStr:{type:String},onSubmit:{type:Function,default:()=>({})}},setup(B,{expose:J}){const i=B,c=h({form:{}}),D=[{field:{name:"inParamTemplateType"},element:{comp:"PtDictFrontSelect",formItemProps:{label:"\u5165\u53C2\u8BF7\u6C42\u53C2\u6570\u89E3\u6790\u811A\u672C\u7C7B\u578B",required:!0},compProps:{dictParam:{groupCode:"dataquery_datasource_api_pageable_adapter_type"},props:{value:"value"}}}},{field:{name:"inParamTemplate"},element:{comp:"el-input",formItemProps:{label:"\u5165\u53C2\u8BF7\u6C42\u53C2\u6570\u89E3\u6790\u811A\u672C",required:!0,tips:"enjoy\u793A\u4F8B\uFF1A#(pageQueryCommand.setPageNo(data.pageNo)) #(pageQueryCommand.setPageSize(data.pageSize)) \u5176\u4E2D pageQueryCommand \u4E3A\u56FA\u5B9A\u53D8\u91CF\u53EF\u4EE5\u8BBE\u7F6E\u9875\u7801\u548C\u9875\u5927\u5C0F\uFF0Cdata\u53D8\u91CF\u4E3A\u8BF7\u6C42\u53C2\u6570\u53E5\u67C4<br/>groovy\u793A\u4F8B\uFF1ApageQueryCommand.setPageNo(data.pageNo); pageQueryCommand.setPageSize(data.pageSize);pageQueryCommand; \u5176\u4E2D pageQueryCommand \u4E3A\u56FA\u5B9A\u53D8\u91CF\u53EF\u4EE5\u8BBE\u7F6E\u9875\u7801\u548C\u9875\u5927\u5C0F\uFF0Cdata\u53D8\u91CF\u4E3A\u8BF7\u6C42\u53C2\u6570\u53E5\u67C4,\u6700\u540E\u9700\u8981\u8FD4\u56DE pageQueryCommand"},compProps:{type:"textarea",rows:15,clearable:!0}}},{field:{name:"outParamTemplateType"},element:{comp:"PtDictFrontSelect",formItemProps:{label:"\u51FA\u53C2\u54CD\u5E94\u53C2\u6570\u89E3\u6790\u811A\u672C\u7C7B\u578B",required:!0},compProps:{dictParam:{groupCode:"dataquery_datasource_api_pageable_adapter_type"},props:{value:"value"}}}},{field:{name:"outParamTemplate"},element:{comp:"el-input",formItemProps:{label:"\u51FA\u53C2\u54CD\u5E94\u53C2\u6570\u89E3\u6790\u811A\u672C",required:!0,tips:"enjoy\u793A\u4F8B\uFF1A#(pageResponse.setPageNo(data.pageNo)) #(pageResponse.setPageSize(data.pageSize)) #(pageResponse.setTotalCount(data.totalCount)) \u5176\u4E2D pageResponse \u4E3A\u56FA\u5B9A\u53D8\u91CF\u53EF\u4EE5\u8BBE\u7F6E\u9875\u7801\u548C\u9875\u5927\u5C0F\u548C\u603B\u6570\u91CF\uFF0Cdata\u53D8\u91CF\u4E3A\u54CD\u5E94\u6570\u636E\u53C2\u6570\u53E5\u67C4<br/>groovy\u793A\u4F8B\uFF1ApageResponse.setPageNo(data.pageNo); pageResponse.setPageSize(data.pageSize); pageResponse.setTotalCount(data.totalCount); \u5176\u4E2D pageResponse \u4E3A\u56FA\u5B9A\u53D8\u91CF\u53EF\u4EE5\u8BBE\u7F6E\u9875\u7801\u548C\u9875\u5927\u5C0F\u548C\u603B\u6570\u91CF\uFF0Cdata\u53D8\u91CF\u4E3A\u54CD\u5E94\u6570\u636E\u53C2\u6570\u53E5\u67C4,\u6700\u540E\u9700\u8981\u8FD4\u56DEpageResponse"},compProps:{type:"textarea",rows:15,clearable:!0}}}];R(()=>{if(i.initJsonStr){let t=JSON.parse(i.initJsonStr);for(let E in t)c.form[E]=t[E]}});const o=f({buttonText:"\u786E\u8BA4"}),l=()=>{i.onSubmit()};return J({form:c.form}),(t,E)=>{const v=C("PtForm");return I(),$(v,{ref:"selfFormRef",form:c.form,class:"pt-wdith-100-pc",method:l,defaultButtonsShow:"submit,reset",submitAttrs:o.value,layout:1,comps:D},null,8,["form","submitAttrs"])}}}),Iu=T("div",{id:"dataqueryDatasourceApiInParamExtConfigDialogFooter"},null,-1),Su=T("div",{id:"dataqueryDatasourceApiOutParamExtConfigDialogFooter"},null,-1),hu=T("div",{id:"dataqueryDatasourceApipageableAdapterConfigDialogFooter"},null,-1),Vu=A({name:"DataQueryDatasourceApiFormItemConfigs"}),wu=A({...Vu,props:{form:{type:Object,required:!0},formData:{type:Object,required:!0}},setup(B,{expose:J}){const i=B,c=f(null),D=f(null),o=f(null),l=f(null),t=f(null),E=f(null),v=f(null),x=f(null),_=f(null),y=f(null),r=f(null),p=f(null),e=h({inParamExampleConfigJson:{dialogVisible:!1},inParamTestCaseDataConfigJson:{dialogVisible:!1},inParamDoc:{dialogVisible:!1},inParamValidate:{dialogVisible:!1},inParamExtConfigJson:{dialogVisible:!1},outParamExampleConfigJson:{dialogVisible:!1},outParamSuccess:{dialogVisible:!1},outParamExtConfigJson:{dialogVisible:!1},outParamDoc:{dialogVisible:!1},outParamTransConfig:{dialogVisible:!1},dictConfig:{dialogVisible:!1},pageableAdapterConfig:{dialogVisible:!1}}),n=H=>JSON.stringify(H),u=()=>{c.value.getInitJson().inParamExamples.length>0?i.form.inParamExampleConfigJson=n(c.value.getInitJson()):i.form.inParamExampleConfigJson="",e.inParamExampleConfigJson.dialogVisible=!1},a=()=>{D.value.getInitJson().inParamTestCases.length>0?i.form.inParamTestCaseDataConfigJson=n(D.value.getInitJson()):i.form.inParamTestCaseDataConfigJson="",e.inParamTestCaseDataConfigJson.dialogVisible=!1},m=()=>{o.value.getInitJson().inParamDocs.length>0?i.form.inParamDocConfigJson=n(o.value.getInitJson()):i.form.inParamDocConfigJson="",e.inParamDoc.dialogVisible=!1},F=()=>{l.value.getInitJson().inParamValidateItems.length>0?i.form.inParamValidateConfigJson=n(l.value.getInitJson()):i.form.inParamValidateConfigJson="",e.inParamValidate.dialogVisible=!1},g=()=>{t.value.getInitJson().groovyScript?i.form.inParamExtConfigJson=n(t.value.getInitJson()):i.form.inParamExtConfigJson="",e.inParamExtConfigJson.dialogVisible=!1},w=f(!1),G=()=>{S(()=>{w.value=!0})},M=()=>{E.value.getInitJson().outParamExamples.length>0?i.form.outParamExampleConfigJson=n(E.value.getInitJson()):i.form.outParamExampleConfigJson="",e.outParamExampleConfigJson.dialogVisible=!1},U=()=>{v.value.getInitJson().outParamValidateItems.length>0?i.form.outParamSuccessConfigJson=n(v.value.getInitJson()):i.form.outParamSuccessConfigJson="",e.outParamSuccess.dialogVisible=!1},Y=()=>{x.value.getInitJson().groovyScript?i.form.outParamExtConfigJson=n(x.value.getInitJson()):i.form.outParamExtConfigJson="",e.outParamExtConfigJson.dialogVisible=!1},K=f(!1),Z=()=>{S(()=>{K.value=!0})},uu=()=>{_.value.getInitJson().outParamDocs.length>0?i.form.outParamDocConfigJson=n(_.value.getInitJson()):i.form.outParamDocConfigJson="",e.outParamDoc.dialogVisible=!1},eu=()=>{y.value.getInitJson().transItems.length>0?i.form.outParamTransConfigJson=n(y.value.getInitJson()):i.form.outParamTransConfigJson="",e.outParamTransConfig.dialogVisible=!1},tu=()=>{r.value.getInitJson().dictItems.length>0?i.form.dictConfigJson=n(r.value.getInitJson()):i.form.dictConfigJson="",e.dictConfig.dialogVisible=!1},ou=()=>{i.form.pageableAdapterConfigJson=n(p.value.form),e.pageableAdapterConfig.dialogVisible=!1},W=f(!1),nu=()=>{S(()=>{W.value=!0})};return J({reactiveData:e}),(H,P)=>{const N=C("PtButton"),V=C("el-dialog");return I(),q(k,null,[s(V,{modelValue:e.inParamExampleConfigJson.dialogVisible,"onUpdate:modelValue":P[0]||(P[0]=b=>e.inParamExampleConfigJson.dialogVisible=b),width:"70%",title:"\u5165\u53C2\u793A\u4F8B\u914D\u7F6EJson","append-to-body":"","destroy-on-close":""},{footer:d(()=>[T("span",null,[s(N,{type:"primary",onClick:u},{default:d(()=>[O("\u786E\u8BA4")]),_:1})])]),default:d(()=>[s(ru,{ref_key:"inParamExampleConfigRef",ref:c,initJsonStr:B.form.inParamExampleConfigJson},null,8,["initJsonStr"])]),_:1},8,["modelValue"]),s(V,{modelValue:e.inParamTestCaseDataConfigJson.dialogVisible,"onUpdate:modelValue":P[1]||(P[1]=b=>e.inParamTestCaseDataConfigJson.dialogVisible=b),width:"70%",title:"\u6D4B\u8BD5\u7528\u4F8B\u914D\u7F6EJson","append-to-body":"","destroy-on-close":""},{footer:d(()=>[T("span",null,[s(N,{type:"primary",onClick:a},{default:d(()=>[O("\u786E\u8BA4")]),_:1})])]),default:d(()=>[s(su,{ref_key:"inParamTestCaseDataConfigRef",ref:D,initJsonStr:B.form.inParamTestCaseDataConfigJson},null,8,["initJsonStr"])]),_:1},8,["modelValue"]),s(V,{modelValue:e.inParamDoc.dialogVisible,"onUpdate:modelValue":P[2]||(P[2]=b=>e.inParamDoc.dialogVisible=b),width:"70%",title:"\u5165\u53C2\u6587\u6863\u914D\u7F6EJson","append-to-body":"","destroy-on-close":""},{footer:d(()=>[T("span",null,[s(N,{type:"primary",onClick:m},{default:d(()=>[O("\u786E\u8BA4")]),_:1})])]),default:d(()=>{var b;return[s(mu,{ref_key:"inParamDocConfigRef",ref:o,rootInParamType:(b=B.formData.inParamTypeDictId)==null?void 0:b.value,initJsonStr:B.form.inParamDocConfigJson},null,8,["rootInParamType","initJsonStr"])]}),_:1},8,["modelValue"]),s(V,{modelValue:e.inParamValidate.dialogVisible,"onUpdate:modelValue":P[3]||(P[3]=b=>e.inParamValidate.dialogVisible=b),width:"70%",title:"\u5165\u53C2\u6821\u9A8C\u914D\u7F6EJson","append-to-body":"","destroy-on-close":""},{footer:d(()=>[T("span",null,[s(N,{type:"primary",onClick:F},{default:d(()=>[O("\u786E\u8BA4")]),_:1})])]),default:d(()=>[s(fu,{ref_key:"inParamValidateConfigRef",ref:l,initJsonStr:B.form.inParamValidateConfigJson},null,8,["initJsonStr"])]),_:1},8,["modelValue"]),s(V,{modelValue:e.inParamExtConfigJson.dialogVisible,"onUpdate:modelValue":P[4]||(P[4]=b=>e.inParamExtConfigJson.dialogVisible=b),width:"70%",title:"\u5165\u53C2\u6269\u5C55\u914D\u7F6EJson","append-to-body":"","destroy-on-close":"",onOpen:G,onClosed:P[5]||(P[5]=b=>w.value=!1)},{footer:d(()=>[Iu]),default:d(()=>[w.value?(I(),$(du,{key:0,ref_key:"inParamExtConfigRef",ref:t,initJsonStr:B.form.inParamExtConfigJson,onSubmit:g,buttonsTeleportProps:{disabled:!1,to:"#dataqueryDatasourceApiInParamExtConfigDialogFooter"}},null,8,["initJsonStr"])):X("",!0)]),_:1},8,["modelValue"]),s(V,{modelValue:e.outParamExampleConfigJson.dialogVisible,"onUpdate:modelValue":P[6]||(P[6]=b=>e.outParamExampleConfigJson.dialogVisible=b),width:"70%",title:"\u51FA\u53C2\u793A\u4F8B\u914D\u7F6EJson","append-to-body":"","destroy-on-close":""},{footer:d(()=>[T("span",null,[s(N,{type:"primary",onClick:M},{default:d(()=>[O("\u786E\u8BA4")]),_:1})])]),default:d(()=>[s(Cu,{ref_key:"outParamExampleConfigRef",ref:E,initJsonStr:B.form.outParamExampleConfigJson},null,8,["initJsonStr"])]),_:1},8,["modelValue"]),s(V,{modelValue:e.outParamSuccess.dialogVisible,"onUpdate:modelValue":P[7]||(P[7]=b=>e.outParamSuccess.dialogVisible=b),width:"70%",title:"\u51FA\u53C2\u6210\u529F\u5224\u65AD\u914D\u7F6EJson","append-to-body":"","destroy-on-close":""},{footer:d(()=>[T("span",null,[s(N,{type:"primary",onClick:U},{default:d(()=>[O("\u786E\u8BA4")]),_:1})])]),default:d(()=>[s(Eu,{ref_key:"outParamSuccessConfigRef",ref:v,initJsonStr:B.form.outParamSuccessConfigJson},null,8,["initJsonStr"])]),_:1},8,["modelValue"]),s(V,{modelValue:e.outParamExtConfigJson.dialogVisible,"onUpdate:modelValue":P[8]||(P[8]=b=>e.outParamExtConfigJson.dialogVisible=b),width:"70%",title:"\u51FA\u53C2\u6269\u5C55\u914D\u7F6EJson","append-to-body":"","destroy-on-close":"",onOpen:Z,onClosed:P[9]||(P[9]=b=>K.value=!1)},{footer:d(()=>[Su]),default:d(()=>[K.value?(I(),$(gu,{key:0,ref_key:"outParamExtConfigRef",ref:x,initJsonStr:B.form.outParamExtConfigJson,onSubmit:Y,buttonsTeleportProps:{disabled:!1,to:"#dataqueryDatasourceApiOutParamExtConfigDialogFooter"}},null,8,["initJsonStr"])):X("",!0)]),_:1},8,["modelValue"]),s(V,{modelValue:e.outParamDoc.dialogVisible,"onUpdate:modelValue":P[10]||(P[10]=b=>e.outParamDoc.dialogVisible=b),width:"70%",title:"\u51FA\u53C2\u6587\u6863\u914D\u7F6EJson","append-to-body":"","destroy-on-close":""},{footer:d(()=>[T("span",null,[s(N,{type:"primary",onClick:uu},{default:d(()=>[O("\u786E\u8BA4")]),_:1})])]),default:d(()=>{var b;return[s(Du,{ref_key:"outParamDocConfigRef",ref:_,rootInParamType:(b=B.formData.outParamTypeDictId)==null?void 0:b.value,initJsonStr:B.form.outParamDocConfigJson},null,8,["rootInParamType","initJsonStr"])]}),_:1},8,["modelValue"]),s(V,{modelValue:e.outParamTransConfig.dialogVisible,"onUpdate:modelValue":P[11]||(P[11]=b=>e.outParamTransConfig.dialogVisible=b),width:"70%",title:"\u51FA\u53C2\u7FFB\u8BD1\u914D\u7F6EJson","append-to-body":"","destroy-on-close":""},{footer:d(()=>[T("span",null,[s(N,{type:"primary",onClick:eu},{default:d(()=>[O("\u786E\u8BA4")]),_:1})])]),default:d(()=>[s(Ju,{ref_key:"outParamTransConfigRef",ref:y,initJsonStr:B.form.outParamTransConfigJson},null,8,["initJsonStr"])]),_:1},8,["modelValue"]),s(V,{modelValue:e.dictConfig.dialogVisible,"onUpdate:modelValue":P[12]||(P[12]=b=>e.dictConfig.dialogVisible=b),width:"70%",title:"\u5B57\u5178\u914D\u7F6EJson","append-to-body":"","destroy-on-close":""},{footer:d(()=>[T("span",null,[s(N,{type:"primary",onClick:tu},{default:d(()=>[O("\u786E\u8BA4")]),_:1})])]),default:d(()=>[s(yu,{ref_key:"dictConfigRef",ref:r,initJsonStr:B.form.dictConfigJson},null,8,["initJsonStr"])]),_:1},8,["modelValue"]),s(V,{modelValue:e.pageableAdapterConfig.dialogVisible,"onUpdate:modelValue":P[13]||(P[13]=b=>e.pageableAdapterConfig.dialogVisible=b),width:"70%",title:"\u5206\u9875\u4FE1\u606F\u89E3\u6790\u914D\u7F6EJson",onOpen:nu,onClosed:P[14]||(P[14]=b=>W.value=!1),"append-to-body":"","destroy-on-close":""},{footer:d(()=>[hu]),default:d(()=>[W.value?(I(),$(xu,{key:0,ref_key:"pageableAdapterConfigConfigRef",ref:p,initJsonStr:B.form.pageableAdapterConfigJson,onSubmit:ou,buttonsTeleportProps:{disabled:!1,to:"#dataqueryDatasourceApipageableAdapterConfigDialogFooter"}},null,8,["initJsonStr"])):X("",!0)]),_:1},8,["modelValue"])],64)}}});export{wu as _};
