import{u as g,c as F}from"./messageTemplateManage.77e8beff.js";import{d as c,r as o,a as A,b as u,o as C,c as y,e as n,w as l,i as E,f as P,F as h,aX as i}from"./index.d93ffe12.js";import{_ as T}from"./MessageTemplateContentDetailJson.vue_vue_type_style_index_0_lang.071d34ad.js";import"./treeQueryComps.5854cd36.js";const S=c({name:"MessageTemplateManageAddPage"}),M=c({...S,setup(V){const e=o(!1),r=o(null),a=A({form:{},formData:{}}),f=o(g({contentDetailJsonDialogVisible:e})),p=o({buttonText:"\u786E\u8BA4\u6DFB\u52A0",permission:"admin:web:messageTemplate:create"}),d=()=>F,D=()=>"\u6DFB\u52A0\u6210\u529F\uFF0C\u8BF7\u5237\u65B0\u6570\u636E\u67E5\u770B",s=o({}),_=()=>{let t=r.value.getContentDetailJsonData();if(i(t)||i(t.contentDetails)){a.form.contentDetailJson="",s.value={},e.value=!1;return}a.form.contentDetailJson=JSON.stringify(t),s.value=JSON.parse(JSON.stringify(t)),e.value=!1};return(t,m)=>{const B=u("PtForm"),b=u("PtButton"),J=u("el-dialog");return C(),y(h,null,[n(B,{form:a.form,formData:a.formData,labelWidth:"120",method:d(),methodSuccess:D,defaultButtonsShow:"submit,reset",submitAttrs:p.value,buttonsTeleportProps:t.$route.meta.formButtonsTeleportProps,inline:"",layout:[3,1,1,1,1,2,2,2,2,1],comps:f.value},null,8,["form","formData","method","submitAttrs","buttonsTeleportProps","comps"]),n(J,{modelValue:e.value,"onUpdate:modelValue":m[0]||(m[0]=v=>e.value=v),width:"70%",title:"\u4E2A\u6027\u5316\u5185\u5BB9\u8BE6\u60C5\u914D\u7F6E","append-to-body":"","destroy-on-close":""},{footer:l(()=>[E("span",null,[n(b,{type:"primary",onClick:_},{default:l(()=>[P("\u786E\u8BA4")]),_:1})])]),default:l(()=>[n(T,{ref_key:"contentDetailJsonRef",ref:r,initContentDetailJsonData:s.value},null,8,["initContentDetailJsonData"])]),_:1},8,["modelValue"])],64)}}});export{M as default};
