import{p as h,r as v}from"./openplatformOpenapiFeeAdminApi-L1sOooKm.js";import{p as O}from"./openplatformOpenapiFeeManage-D5QgfOzO.js";import{d as B,r as f,a as C,b as a,o as D,c as T,e as n,w as l,f as y,F as R}from"./index-B_FSv1tI.js";const N=B({__name:"OpenplatformOpenapiFeeManagePage",setup(k){const u=f(null),p=C({form:{},formComps:O,tableColumns:[{prop:"name",label:"名称"},{prop:"price",label:"单价"},{prop:"feeTypeDictName",label:"计费方式"},{prop:"feeTypeJson",label:"按计费方式配置"},{prop:"deduplicateTypeDictName",label:"去重方式"},{prop:"isDeduplicateByParameter",label:"按入参去重",formatter:(e,o,t,r)=>t?"按入参去重":"按接口去重"},{prop:"deduplicateCount",label:"去重条数"},{prop:"isCheckHasValue",label:"检查返回值",formatter:(e,o,t,r)=>t?"检查返回值":"不检查返回值"},{prop:"isCheckHandleDuration",label:"检查处理时长",formatter:(e,o,t,r)=>t?"检查处理时长":"不检查处理时长"},{prop:"handleDuration",label:"处理时长（ms）"},{prop:"remark",label:"描述"}]}),m=f({buttonText:"查询",loading:!1,permission:"admin:web:openplatformOpenapiFee:pageQuery"}),d=()=>{u.value.refreshData()},b=({pageQuery:e})=>h({...p.form,...e}),_={permission:m.value.permission},P=({row:e,column:o,$index:t})=>t<0?[]:[{txt:"编辑",text:!0,permission:"admin:web:openplatformOpenapiFee:update",route:{path:"/admin/OpenplatformOpenapiFeeManageUpdate",query:{id:e.id}}},{txt:"删除",text:!0,permission:"admin:web:openplatformOpenapiFee:delete",methodConfirmText:`确定要删除 ${e.name} 吗？`,method(){return v({id:e.id}).then(s=>(d(),Promise.resolve(s)))}}];return(e,o)=>{const t=a("PtButton"),r=a("PtForm"),c=a("PtButtonGroup"),s=a("el-table-column"),g=a("PtTable"),w=a("PtRouteViewPopover");return D(),T(R,null,[n(r,{form:p.form,method:d,defaultButtonsShow:"submit,reset",submitAttrs:m.value,inline:"",comps:p.formComps},{buttons:l(()=>[n(t,{permission:"admin:web:openplatformOpenapiFee:create",route:"/admin/OpenplatformOpenapiFeeManageAdd"},{default:l(()=>o[1]||(o[1]=[y("添加")])),_:1})]),_:1},8,["form","submitAttrs","comps"]),n(g,{ref_key:"tableRef",ref:u,"default-expand-all":"",dataMethod:b,onDataMethodDataLoading:o[0]||(o[0]=i=>m.value.loading=i),paginationProps:_,columns:p.tableColumns},{defaultAppend:l(()=>[n(s,{label:"操作",width:"180"},{default:l(({row:i,column:x,$index:F})=>[n(c,{options:P({row:i,column:x,$index:F})},null,8,["options"])]),_:1})]),_:1},8,["columns"]),n(w,{level:3})],64)}}});export{N as default};
