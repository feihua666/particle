import{d as f,r as B,a as _,b as o,o as h,c as I,e as E,f as u,w as t,g as r,F as x,_ as y}from"./index.3ad8a272.js";import{p as N,a as P}from"./roleDataScopeRelAdminApi.28668c45.js";import{p as v}from"./roleDataScopeRelManage.1d563370.js";import"./roleCompItem.4cbc3d12.js";import"./roleAdminApi.e95de39f.js";import"./dataconstraintCompItem.235cfae4.js";import"./dataObjectAdminApi.2093343a.js";import"./dataScopeAdminApi.807f95f7.js";const M=f({name:"RoleDataScopeRelManagePage"}),w=f({...M,setup(T){const R=B(null),n=_({form:{},formComps:v,tableColumns:[{prop:"roleName",label:"\u89D2\u8272",showOverflowTooltip:!0,width:120},{prop:"dataObjectName",label:"\u6570\u636E\u5BF9\u8C61",showOverflowTooltip:!0,width:120},{prop:"dataScopeName",label:"\u6570\u636E\u8303\u56F4",showOverflowTooltip:!0,width:120}]}),p=B({buttonText:"\u67E5\u8BE2",loading:!1,permission:"admin:web:roleDataScopeRel:pageQuery"}),S=()=>{R.value.refreshData()},b=({pageQuery:e})=>N({...n.form,...e}),C={permission:p.value.permission},g=({row:e,column:s,$index:a})=>{if(a<0)return[];let d={id:e.id},m={id:e.id,roleId:e.roleId,roleName:e.roleName},i={dataScopeId:e.dataScopeId,dataScopeName:e.dataScopeName,dataObjectId:e.dataObjectId},c={dataScopeId:e.dataScopeId,dataScopeName:e.dataScopeName},D={roleId:e.roleId,roleName:e.roleName},l={roleId:e.roleId,roleName:e.roleName};return[{txt:"\u4E3A\u8BE5\u6570\u636E\u8303\u56F4\u5206\u914D\u89D2\u8272",text:!0,permission:"admin:web:roleDataScopeRel:dataScopeAssignRole",route:{path:"/admin/roleDataScopeRelManageDataScopeAssignRole",query:i}},{txt:"\u4E3A\u8BE5\u89D2\u8272\u5206\u914D\u6570\u636E\u8303\u56F4",text:!0,permission:"admin:web:roleDataScopeRel:roleAssignDataScope",route:{path:"/admin/roleDataScopeRelManageRoleAssignDataScope",query:D}},{txt:"\u4E3A\u8BE5\u6570\u636E\u8303\u56F4\u6E05\u7A7A\u89D2\u8272",text:!0,methodConfirmText:`\u60A8\u5C06\u6E05\u7A7A\u6570\u636E\u8303\u56F4 ${e.dataScopeName} \u6240\u6709\u89D2\u8272,\u8BE5\u6570\u636E\u8303\u56F4\u5C06\u4E0D\u518D\u5206\u914D\u7ED9\u4EFB\u4F55\u89D2\u8272\uFF0C\u540C\u65F6\u62E5\u6709\u6D89\u53CA\u5BF9\u5E94\u89D2\u8272\u7684\u7528\u6237\u6570\u636E\u8303\u56F4\u5C06\u53D7\u5230\u5F71\u54CD\uFF0C\u8BF7\u8C28\u614E\u64CD\u4F5C\uFF01\uFF01\uFF01\uFF0C\u786E\u5B9A\u8981\u6E05\u7A7A\u5417\uFF1F`,permission:"admin:web:roleDataScopeRel:deleteByDataScopeId",route:{path:"/admin/roleDataScopeRelManageDeleteByDataScopeId",query:c}},{txt:"\u4E3A\u8BE5\u89D2\u8272\u6E05\u7A7A\u6570\u636E\u8303\u56F4",text:!0,methodConfirmText:`\u60A8\u5C06\u6E05\u7A7A\u89D2\u8272 ${e.roleName} \u6240\u6709\u6570\u636E\u8303\u56F4,\u8BE5\u89D2\u8272\u5C06\u4E0D\u518D\u62E5\u6709\u4EFB\u4F55\u6570\u636E\u8303\u56F4\uFF0C\u540C\u65F6\u62E5\u6709\u8BE5\u89D2\u8272\u7684\u7528\u6237\u6570\u636E\u8303\u56F4\u5C06\u53D7\u5230\u5F71\u54CD\uFF0C\u8BF7\u8C28\u614E\u64CD\u4F5C\uFF01\uFF01\uFF01\uFF0C\u786E\u5B9A\u8981\u6E05\u7A7A\u5417\uFF1F`,permission:"admin:web:roleDataScopeRel:deleteByRoleId",route:{path:"/admin/roleDataScopeRelManageDeleteByRoleId",query:l}},{txt:"\u7F16\u8F91",text:!0,permission:"admin:web:roleDataScopeRel:update",route:{path:"/admin/roleDataScopeRelManageUpdate",query:m}},{txt:"\u5220\u9664",text:!0,permission:"admin:web:roleDataScopeRel:delete",methodConfirmText:`\u5220\u9664\u540E\u89D2\u8272 ${e.roleName} \u5C06\u4E0D\u518D\u62E5\u6709\u6570\u636E\u8303\u56F4 ${e.dataScopeName}\uFF0C\u786E\u5B9A\u8981\u5220\u9664\u5417\uFF1F`,method(){return P(d).then(F=>(S(),Promise.resolve(F)))}}]};return(e,s)=>{const a=o("PtButton"),d=o("PtForm"),m=o("PtButtonGroup"),i=o("el-table-column"),c=o("PtTable"),D=o("PtRouteViewPopover");return h(),I(x,null,[E(" \u67E5\u8BE2\u8868\u5355 "),u(d,{form:n.form,method:S,defaultButtonsShow:"submit,reset",submitAttrs:p.value,inline:"",comps:n.formComps},{buttons:t(()=>[u(a,{permission:"admin:web:roleDataScopeRel:create",route:"/admin/RoleDataScopeRelManageAdd"},{default:t(()=>[r("\u6DFB\u52A0")]),_:1}),u(a,{permission:"admin:web:roleDataScopeRel:dataScopeAssignRole",route:"/admin/roleDataScopeRelManageDataScopeAssignRole"},{default:t(()=>[r("\u6570\u636E\u8303\u56F4\u5206\u914D\u89D2\u8272")]),_:1}),u(a,{permission:"admin:web:roleDataScopeRel:roleAssignDataScope",route:"/admin/roleDataScopeRelManageRoleAssignDataScope"},{default:t(()=>[r("\u89D2\u8272\u5206\u914D\u6570\u636E\u8303\u56F4")]),_:1}),u(a,{permission:"admin:web:roleDataScopeRel:deleteByDataScopeId",route:"/admin/roleDataScopeRelManageDeleteByDataScopeId"},{default:t(()=>[r("\u6E05\u7A7A\u6570\u636E\u8303\u56F4\u89D2\u8272")]),_:1}),u(a,{permission:"admin:web:roleDataScopeRel:deleteByRoleId",route:"/admin/roleDataScopeRelManageDeleteByRoleId"},{default:t(()=>[r("\u6E05\u7A7A\u89D2\u8272\u6570\u636E\u8303\u56F4")]),_:1})]),_:1},8,["form","submitAttrs","comps"]),E(" \u6307\u5B9A dataMethod\uFF0C\u9ED8\u8BA4\u52A0\u8F7D\u6570\u636E "),u(c,{ref_key:"tableRef",ref:R,"default-expand-all":"",dataMethod:b,onDataMethodDataLoading:s[0]||(s[0]=l=>p.value.loading=l),paginationProps:C,columns:n.tableColumns},{defaultAppend:t(()=>[u(i,{label:"\u64CD\u4F5C"},{default:t(({row:l,column:A,$index:F})=>[u(m,{options:g({row:l,column:A,$index:F})},null,8,["options"])]),_:1})]),_:1},8,["columns"]),E(" \u5B50\u7EA7\u8DEF\u7531 "),u(D,{level:3})],64)}}}),G=y(w,[["__file","/Users/yw/fh/git-source/particle/web/component/pc/role/views/roledatascoperel/admin/RoleDataScopeRelManagePage.vue"]]);export{G as default};
