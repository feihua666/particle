import{i as b,d as O,r as d,a as v,b as p,o as x,c as y,e as s,w as f,F as R}from"./index-_8rL1G8m.js";let h="/admin/web/openplatform_openapi_batch_query_record_detail";const D=o=>b.delete(h+"/delete",{data:o}),T=o=>b.get(h+"/page",{params:o}),C=[{field:{name:"executeStatusDictId"},element:{comp:"PtDictFrontSelect",formItemProps:{label:"执行状态"},compProps:{dictParam:{groupCode:"这里填写字典组编码"}}}},{field:{name:"traceId"},element:{comp:"el-input",formItemProps:{label:"traceId"},compProps:{clearable:!0}}},{field:{name:"spanId"},element:{comp:"el-input",formItemProps:{label:"spanId"},compProps:{clearable:!0}}}],A=O({__name:"OpenplatformOpenapiBatchQueryRecordDetailManagePage",props:{openplatformOpenapiBatchQueryRecordId:{type:String}},setup(o){const i=d(null),n=v({form:{openplatformOpenapiBatchQueryRecordId:o.openplatformOpenapiBatchQueryRecordId},formComps:C,tableColumns:[{prop:"executeStatusDictName",label:"执行状态"},{prop:"isSuccess",label:"是否成功",formatter:(e,r,t,l)=>t==null?null:t?"查询成功":"查询失败"},{prop:"queryAt",label:"查询时间"},{prop:"traceId | spanId",label:"traceId | spanId",formatter:(e,r,t,l)=>!e.traceId&&!e.spanId?null:`${e.traceId} | ${e.spanId}`,showOverflowTooltip:!0},{prop:"requestParam",label:"请求参数",showOverflowTooltip:!0},{prop:"queryString",label:"请求查询字符串",showOverflowTooltip:!0},{prop:"responseResult",label:"响应数据",showOverflowTooltip:!0},{prop:"requestNonce",label:"请求流水号",showOverflowTooltip:!0}]}),m=d({buttonText:"查询",loading:!1,permission:"admin:web:openplatformOpenapiBatchQueryRecordDetail:pageQuery"}),c=()=>{i.value.refreshData()},P=({pageQuery:e})=>T({...n.form,...e}),_={permission:m.value.permission},I=({row:e,column:r,$index:t})=>t<0?[]:(e.id,[{txt:"删除",text:!0,permission:"admin:web:openplatformOpenapiBatchQueryRecordDetail:delete",methodConfirmText:`确定要删除 ${e.name} 吗？`,method(){return D({id:e.id}).then(a=>(c(),Promise.resolve(a)))}}]);return(e,r)=>{const t=p("PtForm"),l=p("PtButtonGroup"),a=p("el-table-column"),g=p("PtTable");return x(),y(R,null,[s(t,{form:n.form,method:c,defaultButtonsShow:"submit,reset",submitAttrs:m.value,inline:"",comps:n.formComps},null,8,["form","submitAttrs","comps"]),s(g,{ref_key:"tableRef",ref:i,"default-expand-all":"",dataMethod:P,onDataMethodDataLoading:r[0]||(r[0]=u=>m.value.loading=u),paginationProps:_,columns:n.tableColumns},{defaultAppend:f(()=>[s(a,{label:"操作",width:"80"},{default:f(({row:u,column:w,$index:B})=>[s(l,{options:I({row:u,column:w,$index:B})},null,8,["options"])]),_:1})]),_:1},8,["columns"])],64)}}});export{A as default};
