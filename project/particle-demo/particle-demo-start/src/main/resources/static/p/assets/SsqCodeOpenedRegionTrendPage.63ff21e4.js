import{d as F,r as d,a as D,af as v,b as R,o as m,c as f,e as _,f as B,F as x,U as q,i as y,u as M,_ as Y}from"./index.b53d3025.js";import{u as S,H as w,i as N,a as O,b as k,c as I,d as $,e as L}from"./index.esm.min.4e8cefb5.js";import{l as T}from"./ssqCodeOpenedAdminApi.8a818d9d.js";const U=F({name:"SsqCodeOpenedSeqNoTrendPage.vue"}),V=F({...U,setup(j){S([N,O,k,I,$,L]);const p=d(),i=D({form:{},formComps:[{field:{name:"openedPhaseYearStart",value:new Date().getFullYear()+""},element:{comp:"PtDatePicker",formItemProps:{label:"\u5F00\u5956\u671F\u53F7\u5E74\u4EFD\u5F00\u59CB",tips:"\u5305\u62EC\u6570\u503C\u672C\u8EAB"},compProps:{type:"year",valueFormat:"YYYY"}}},{field:{name:"openedPhaseYearEnd"},element:{comp:"PtDatePicker",formItemProps:{label:"\u5F00\u5956\u671F\u53F7\u5E74\u4EFD\u7ED3\u675F",tips:"\u4E0D\u5305\u62EC\u6570\u503C\u672C\u8EAB"},compProps:{type:"year",valueFormat:"YYYY"}}},{field:{name:"computeRegionMin",value:2},element:{comp:"el-input-number",formItemProps:{label:"\u5206\u533A\u6700\u5C0F\u503C",tips:"\u5305\u62EC\u6570\u503C\u672C\u8EAB",required:!0},compProps:{}}},{field:{name:"computeRegionMax",value:200},element:{comp:"el-input-number",formItemProps:{label:"\u5206\u533A\u6700\u5927\u503C",tips:"\u4E0D\u5305\u62EC\u6570\u503C\u672C\u8EAB",required:!0},compProps:{}}},{field:{name:"computeStep",value:200},element:{comp:"el-input-number",formItemProps:{label:"\u5206\u533A\u8BA1\u7B97\u6B65\u957F",required:!0},compProps:{}}}]}),g=d({buttonText:"\u8BA1\u7B97",loading:!1,permission:"admin:web:ssqCodeOpened:queryList"}),b=()=>T(i.form).then(e=>{let t=e.data.data;return C(t),Promise.resolve(e)});v(()=>{});const C=e=>{let t=i.form.computeRegionMin,l=i.form.computeRegionMax,s=i.form.computeStep,n=[];for(let u=t;u<l;u+=s){let o=A(e,u),a=P(o.xAxisData,o.seriesData,u+"");n.push(a)}p.value=n},A=(e,t)=>{let s=17721008/t;s=s.toFixed(1);let n=[],u=[];for(let o=0;o<t;o++){let a=(o+1)*s,r=a-s;a=a.toFixed(1),r=r.toFixed(1),n.push(r+"-"+a),u.push(0)}for(let o=0;o<e.length;o++){let a=e[o].seqNo;for(let r=0;r<t;r++){let c=n[r].split("-"),h=c[0],E=c[1];a>=h&&a<E&&(u[r]=u[r]+1)}}return{xAxisData:n,seriesData:u}},P=(e,t,l)=>({title:{text:l},grid:{left:"0",right:"0",bottom:"0",containLabel:!0},tooltip:{trigger:"axis",show:!0,formatter:"\u4E2A\u6570\uFF1A{c}<br/>\u5E8F\u53F7\u533A\u95F4\uFF1A{b}"},xAxis:{type:"category",data:e,axisLabel:{rotate:30}},yAxis:{type:"value"},series:[{data:t,type:"bar",label:{show:!0,position:"top",formatter:"{c}"}}]});return(e,t)=>{const l=R("PtForm");return m(),f(x,null,[_(" \u67E5\u8BE2\u8868\u5355 "),B(l,{form:i.form,method:b,defaultButtonsShow:"submit,reset",submitAttrs:g.value,inline:"",labelWidth:"140",comps:i.formComps},null,8,["form","submitAttrs","comps"]),(m(!0),f(x,null,q(p.value,(s,n)=>(m(),y(M(w),{style:{width:"100%",height:"300px"},option:s,autoresize:""},null,8,["option"]))),256))],64)}}}),G=Y(V,[["__file","/Users/yw/fh/git-source/particle/web/component/pc/dream/views/ssq/admin/SsqCodeOpenedRegionTrendPage.vue"]]);export{G as default};
