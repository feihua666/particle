import{d as R,a as g,r as f,b as _,o as v,g as w,t as p,v as m,x as n,y as I}from"./index-_8rL1G8m.js";const y=R({__name:"StringReplaceToolPage",setup(C){const{proxy:d}=I(),u=g({form:{},formData:{}}),x=f([{field:{name:"rawText"},element:{comp:"el-input",formItemProps:{label:"原文本",required:!0},compProps:{clearable:!0,rows:10,type:"textarea"}}},{field:{name:"fromReplaceText"},element:{comp:"el-input",formItemProps:{label:"待替换文本",required:!0},compProps:{clearable:!0,placeholder:"待替换文本"}}},{field:{name:"toReplaceText"},element:{comp:"el-input",formItemProps:{label:"替换文本",required:!0},compProps:{clearable:!0,placeholder:"替换文本"}}},{field:{name:"firstLetterCheck",value:!0},element:{comp:"el-checkbox",formItemProps:{label:"首字母转换后再次替换",tips:"会将待替换文本和替换文本对应首字母转换成大写和小写再替换"},compProps:{}}},{field:{name:"exchangeReplace",value:!0},element:{comp:"el-checkbox",formItemProps:{label:"交换替换",tips:"这意味着将使用中间文本来进行替换，这对替换文本已存在原文本中时非常有用"},compProps:{}}},{field:{name:"middleText",value:"middleText"},element:{comp:"el-input",formItemProps:{label:"中间文本",required:({form:t})=>t.exchangeReplace,tips:"交换替换时使用的中间文本，请确保该文本不在待替换文本中，否则可能替换不正确"},compProps:{clearable:!0,placeholder:"中间文本",tips:"交换替换时必填"}}},{field:{name:"text"},element:{comp:"el-input",formItemProps:{label:"结果"},compProps:{clearable:!0,readonly:!0,placeholder:"结果这里显示完成的结果",rows:10,type:"textarea"}}}]),b=f({buttonText:"确认替换"}),h=t=>{let s=t.rawText,r=t.fromReplaceText,o=t.middleText,l=t.exchangeReplace,c=t.toReplaceText,T=t.firstLetterCheck,e=s;if(T)if(l){if(e.indexOf(p(o))>=0||e.indexOf(m(o))>=0){i("原文本中包括中间文本，这会导致替换错误，请更换一个原始文本中不存在的文本");return}e=a(e,r,o,!0),e=a(e,c,r,!0),e=a(e,o,c,!0)}else e=a(e,r,c,!0);else if(l){if(e.indexOf(o)>=0){i("原文本中包括中间文本，这会导致替换错误，请更换一个原始文本中不存在的文本");return}e=a(e,r,o,!1),e=a(e,c,r,!1),e=a(e,o,c,!1)}else e=a(e,r,c,!1);t.text=e},i=t=>{d.$message({showClose:!0,message:t,type:"error",showIcon:!0,grouping:!0})},a=(t,s,r,o)=>{let l=t;return o?(l=n(l,p(s),p(r)),l=n(l,m(s),m(r))):l=n(l,s,r),l},P=()=>"替换成功";return(t,s)=>{const r=_("PtForm");return v(),w(r,{form:u.form,formData:u.formData,labelWidth:"80",method:h,methodSuccess:P,defaultButtonsShow:"submit,reset",submitAttrs:b.value,layout:1,"label-position":"top",comps:x.value},null,8,["form","formData","submitAttrs","comps"])}}});export{y as default};
