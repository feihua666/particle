import{p as g,r as x}from"./openplatformDocApiDocTemplateAdminApi-MmnX-4Gj.js";import{p as h}from"./openplatformDocApiDocTemplateManage-Dn06Tpxk.js";import{d as A,r as f,a as B,b as t,o as y,c as C,e as o,w as p,f as M,F as N}from"./index-B_FSv1tI.js";const V=A({__name:"OpenplatformDocApiDocTemplateManagePage",setup(O){const i=f(null),r=B({form:{},formComps:h,tableColumns:[{prop:"name",label:"模板名称"},{prop:"requestUrlPrefix",label:"请求地址前缀",showOverflowTooltip:!0},{prop:"requestUrlIntranetPrefix",label:"内网请求地址前缀",showOverflowTooltip:!0},{prop:"requestTypeDictName",label:"请求类型"},{prop:"requestBodyTypeDictName",label:"请求体类型"},{prop:"requestParamTypeDictName",label:"请求参数类型"},{prop:"requestParamNestTypeDictName",label:"请求参数嵌套类型"},{prop:"responseBodyTypeDictName",label:"响应体类型"},{prop:"responseMaxDuration",label:"最大响应时长(ms)"},{prop:"responseMaxDurationDesc",label:"响应时长文本",showOverflowTooltip:!0},{prop:"authenticationType",label:"认证方式",showOverflowTooltip:!0}]}),n=f({buttonText:"查询",loading:!1,permission:"admin:web:openplatformDocApiDocTemplate:pageQuery"}),u=()=>{i.value.refreshData()},b=({pageQuery:e})=>g({...r.form,...e}),D={permission:n.value.permission},T=({row:e,column:a,$index:l})=>l<0?[]:[{txt:"编辑",text:!0,permission:"admin:web:openplatformDocApiDocTemplate:update",route:{path:"/admin/OpenplatformDocApiDocTemplateManageUpdate",query:{id:e.id}}},{txt:"删除",text:!0,permission:"admin:web:openplatformDocApiDocTemplate:delete",methodConfirmText:`确定要删除 ${e.name} 吗？`,method(){return x({id:e.id}).then(s=>(u(),Promise.resolve(s)))}}];return(e,a)=>{const l=t("PtButton"),c=t("PtForm"),d=t("PtButtonGroup"),s=t("el-table-column"),_=t("PtTable"),P=t("PtRouteViewPopover");return y(),C(N,null,[o(c,{form:r.form,method:u,defaultButtonsShow:"submit,reset",submitAttrs:n.value,inline:"",comps:r.formComps},{buttons:p(()=>[o(l,{permission:"admin:web:openplatformDocApiDocTemplate:create",route:"/admin/OpenplatformDocApiDocTemplateManageAdd"},{default:p(()=>a[1]||(a[1]=[M("添加")])),_:1})]),_:1},8,["form","submitAttrs","comps"]),o(_,{ref_key:"tableRef",ref:i,"default-expand-all":"",dataMethod:b,onDataMethodDataLoading:a[0]||(a[0]=m=>n.value.loading=m),paginationProps:D,columns:r.tableColumns},{defaultAppend:p(()=>[o(s,{label:"操作",width:"180"},{default:p(({row:m,column:w,$index:v})=>[o(d,{options:T({row:m,column:w,$index:v})},null,8,["options"])]),_:1})]),_:1},8,["columns"]),o(P,{level:3})],64)}}});export{V as default};
