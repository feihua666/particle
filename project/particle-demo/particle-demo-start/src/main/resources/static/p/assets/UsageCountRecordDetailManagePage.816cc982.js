import{h as C,x as A,aA as I,d as F,r as d,a as w,b as o,o as v,c as x,e as g,f as a,w as f,F as U,_ as T}from"./index.53bce7bf.js";import{u as N,i as M}from"./usageCountCompItem.151bbe0e.js";let b="/admin/web/usage_count_record_detail";const y=t=>C.delete(b+"/delete",{data:t}),k=t=>C.get(b+"/page",{params:t}),S=[{field:{name:"usageCountRecordId"},element:{comp:"el-input",formItemProps:{label:"\u4F7F\u7528\u6B21\u6570\u8BB0\u5F55\u4E3B\u952E"},compProps:{}}},N({fieldName:"usageCountDefineId",label:"\u4F7F\u7528\u6B21\u6570\u5B9A\u4E49",disableGroup:!0}),M({}),A({props:{},fieldName:"usageUserId",label:"\u4F7F\u7528\u7528\u6237"}),I({props:{},fieldName:"usageTenantId",label:"\u4F7F\u7528\u79DF\u6237"})],G=F({name:"UsageCountRecordDetailManagePage"}),V=F({...G,props:{usageCountRecordId:{type:String}},setup(t){const B=t,i=d(null),u=w({form:{usageCountRecordId:B.usageCountRecordId},formComps:S,tableColumns:[{prop:"usageCountRecordId",label:"\u4F7F\u7528\u6B21\u6570\u8BB0\u5F55\u4E3B\u952E"},{prop:"usageCountRecordUsageCountKey",label:"\u4F7F\u7528\u6B21\u6570key",showOverflowTooltip:!0},{prop:"usageCountDefineName",label:"\u4F7F\u7528\u6B21\u6570\u5B9A\u4E49\u540D\u79F0"},{prop:"usageUserNickname",label:"\u7528\u6237\u6635\u79F0"},{prop:"usageTenantName",label:"\u79DF\u6237\u540D\u79F0"},{prop:"createAt",label:"\u521B\u5EFA\u65F6\u95F4"}]}),n=d({buttonText:"\u67E5\u8BE2",loading:!1,permission:"admin:web:usageCountRecordDetail:pageQuery"}),p=()=>{i.value.refreshData()},_=({pageQuery:e})=>k({...u.form,...e}),D={permission:n.value.permission},R=({row:e,column:s,$index:r})=>r<0?[]:(e.id,[{txt:"\u5220\u9664",text:!0,permission:"admin:web:usageCountRecordDetail:delete",methodConfirmText:`\u786E\u5B9A\u8981\u5220\u9664 ${e.name} \u5417\uFF1F`,method(){return y({id:e.id}).then(l=>(p(),Promise.resolve(l)))}}]);return(e,s)=>{const r=o("PtForm"),c=o("PtButtonGroup"),l=o("el-table-column"),P=o("PtTable");return v(),x(U,null,[g(" \u67E5\u8BE2\u8868\u5355 "),a(r,{form:u.form,method:p,defaultButtonsShow:"submit,reset",submitAttrs:n.value,inline:"",comps:u.formComps},null,8,["form","submitAttrs","comps"]),g(" \u6307\u5B9A dataMethod\uFF0C\u9ED8\u8BA4\u52A0\u8F7D\u6570\u636E "),a(P,{ref_key:"tableRef",ref:i,"default-expand-all":"",dataMethod:_,onDataMethodDataLoading:s[0]||(s[0]=m=>n.value.loading=m),paginationProps:D,columns:u.tableColumns},{defaultAppend:f(()=>[a(l,{label:"\u64CD\u4F5C",width:"180"},{default:f(({row:m,column:E,$index:h})=>[a(c,{options:R({row:m,column:E,$index:h})},null,8,["options"])]),_:1})]),_:1},8,["columns"])],64)}}}),O=T(V,[["__file","/Users/yw/fh/git-source/particle/web/component/pc/usagecount/views/admin/UsageCountRecordDetailManagePage.vue"]]);export{O as default};
