import{h as n,d as _,r as A,a as v,b as t,o as R,c as x,e as c,f as e,w as o,g as E,F as I,_ as T}from"./index.49d89bd8.js";import{u as M}from"./openplatformAppCompItem.6545e816.js";import{u as N}from"./oauth2authorizationRegisteredClientCompItem.5ebf5298.js";import{u as k}from"./openplatformOpenapiCompItem.3f3d378b.js";import{u as V}from"./crmCompItem.a6ee91d7.js";import"./openplatformAppAdminApi.edd9306c.js";import"./oauth2RegisteredClientAdminApi.a64c7859.js";import"./crmCustomerTagAdminApi.245e486d.js";let m="/admin/web/openplatform_openapi_record_app_openapi_day_summary";const G=a=>n.delete(m+"/delete",{data:a}),U=a=>n.get(m+"/page",{params:a}),L=()=>n.post(m+"/yesterdayStatistic"),Q=()=>n.post(m+"/todayStatistic"),j=[M({}),N({fieldName:"appId",label:"appId"}),k({fieldName:"openplatformOpenapiId",label:"\u5F00\u653E\u63A5\u53E3",disableGroup:!0}),{field:{name:"dayAt"},element:{comp:"PtDatePicker",formItemProps:{label:"\u65E5\u671F"},compProps:{clearable:!0,type:"date"}}},V({fieldName:"customerId",label:"\u5BA2\u6237"})],q=_({name:"OpenplatformOpenapiRecordAppOpenapiDaySummaryManagePage"}),z=_({...q,setup(a){const f=A(null),p=v({form:{},formComps:j,tableColumns:[{prop:"openplatformAppName",label:"\u5E94\u7528\u540D\u79F0",showOverflowTooltip:!0},{prop:"appId",label:"appId",showOverflowTooltip:!0},{prop:"openplatformOpenapiName",label:"\u5F00\u653E\u5E73\u53F0\u63A5\u53E3\u540D\u79F0",showOverflowTooltip:!0},{prop:"dayAt",label:"\u65E5\u671F"},{prop:"customerName",label:"\u5BA2\u6237\u540D\u79F0",showOverflowTooltip:!0},{prop:"totalCall",label:"\u8C03\u7528\u603B\u91CF"},{prop:"totalFeeCall",label:"\u8C03\u7528\u8BA1\u8D39\u603B\u91CF"},{prop:"averageUnitPriceAmount",label:"\u5E73\u5747\u5355\u4EF7\u91D1\u989D\uFF08\u5206\uFF09"},{prop:"totalFeeAmount",label:"\u603B\u6D88\u8D39\u91D1\u989D\uFF08\u5206\uFF09"},{prop:"remark",label:"\u63CF\u8FF0"}]}),y=()=>L(),C=()=>Q(),l=A({buttonText:"\u67E5\u8BE2",loading:!1,permission:"admin:web:openplatformOpenapiRecordAppOpenapiDaySummary:pageQuery"}),F=()=>{f.value.refreshData()},D=({pageQuery:u})=>U({...p.form,...u}),B={permission:l.value.permission},O=({row:u,column:s,$index:r})=>r<0?[]:(u.id,[{txt:"\u5220\u9664",text:!0,permission:"admin:web:openplatformOpenapiRecordAppOpenapiDaySummary:delete",methodConfirmText:"\u786E\u5B9A\u8981\u5220\u9664\u5417\uFF1F",method(){return G({id:u.id}).then(i=>(F(),Promise.resolve(i)))}}]);return(u,s)=>{const r=t("PtButton"),b=t("PtForm"),i=t("PtButtonGroup"),P=t("el-table-column"),h=t("PtTable"),w=t("PtRouteViewPopover");return R(),x(I,null,[c(" \u67E5\u8BE2\u8868\u5355 "),e(b,{form:p.form,method:F,defaultButtonsShow:"submit,reset",submitAttrs:l.value,inline:"",comps:p.formComps},{buttons:o(()=>[e(r,{permission:"admin:web:openplatformOpenapiRecordAppOpenapiDaySummary:yesterdayStatistic",methodConfirmText:"\u786E\u5B9A\u8981\u7EDF\u8BA1\u6628\u65E5\u7684\u6570\u636E\u5417\uFF1F\u5982\u679C\u5DF2\u7ECF\u5B58\u5728\u6628\u65E5\u7684\u6570\u636E\u5C06\u4F1A\u88AB\u8986\u76D6\u6216\u5220\u9664",method:y},{default:o(()=>[E("\u7EDF\u8BA1\u6628\u65E5\u6570\u636E")]),_:1}),e(r,{permission:"admin:web:openplatformOpenapiRecordAppOpenapiDaySummary:todayStatistic",methodConfirmText:"\u786E\u5B9A\u8981\u7EDF\u8BA1\u4ECA\u65E5\u7684\u6570\u636E\u5417\uFF1F\u5982\u679C\u5DF2\u7ECF\u5B58\u5728\u4ECA\u65E5\u7684\u6570\u636E\u5C06\u4F1A\u88AB\u8986\u76D6\u6216\u5220\u9664",method:C},{default:o(()=>[E("\u7EDF\u8BA1\u4ECA\u65E5\u6570\u636E")]),_:1})]),_:1},8,["form","submitAttrs","comps"]),c(" \u6307\u5B9A dataMethod\uFF0C\u9ED8\u8BA4\u52A0\u8F7D\u6570\u636E "),e(h,{ref_key:"tableRef",ref:f,"default-expand-all":"",dataMethod:D,onDataMethodDataLoading:s[0]||(s[0]=d=>l.value.loading=d),paginationProps:B,columns:p.tableColumns},{defaultAppend:o(()=>[e(P,{label:"\u64CD\u4F5C",width:"180"},{default:o(({row:d,column:g,$index:S})=>[e(i,{options:O({row:d,column:g,$index:S})},null,8,["options"])]),_:1})]),_:1},8,["columns"]),c(" \u5B50\u7EA7\u8DEF\u7531 "),e(w,{level:3})],64)}}}),ee=T(z,[["__file","/Users/yw/fh/git-source/particle/web/component/pc/openplatform/views/bill/admin/OpenplatformOpenapiRecordAppOpenapiDaySummaryManagePage.vue"]]);export{ee as default};
