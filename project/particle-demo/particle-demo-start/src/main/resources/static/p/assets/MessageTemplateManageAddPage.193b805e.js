import{d as c,r as o,a as J,b as u,o as A,c as F,e as C,f as s,w as l,j as P,g as T,F as y,aX as i,_ as M}from"./index.3ad8a272.js";import{u as h,c as E}from"./messageTemplateManage.0aaba863.js";import{M as w}from"./MessageTemplateContentDetailJson.19465253.js";import"./treeQueryComps.5854cd36.js";const V=c({name:"MessageTemplateManageAddPage"}),N=c({...V,setup(S){const t=o(!1),r=o(null),a=J({form:{},formData:{}}),p=o(h({contentDetailJsonDialogVisible:t})),f=o({buttonText:"\u786E\u8BA4\u6DFB\u52A0",permission:"admin:web:messageTemplate:create"}),d=()=>E,D=()=>"\u6DFB\u52A0\u6210\u529F\uFF0C\u8BF7\u5237\u65B0\u6570\u636E\u67E5\u770B",n=o({}),g=()=>{let e=r.value.getContentDetailJsonData();if(i(e)||i(e.contentDetails)){a.form.contentDetailJson="",n.value={},t.value=!1;return}a.form.contentDetailJson=JSON.stringify(e),n.value=JSON.parse(JSON.stringify(e)),t.value=!1};return(e,m)=>{const _=u("PtForm"),B=u("PtButton"),b=u("el-dialog");return A(),F(y,null,[C(" \u6DFB\u52A0\u8868\u5355 "),s(_,{form:a.form,formData:a.formData,labelWidth:"120",method:d(),methodSuccess:D,defaultButtonsShow:"submit,reset",submitAttrs:f.value,buttonsTeleportProps:e.$route.meta.formButtonsTeleportProps,inline:"",layout:[3,1,1,1,1,2,2,2,2,1],comps:p.value},null,8,["form","formData","method","submitAttrs","buttonsTeleportProps","comps"]),s(b,{modelValue:t.value,"onUpdate:modelValue":m[0]||(m[0]=v=>t.value=v),width:"70%",title:"\u4E2A\u6027\u5316\u5185\u5BB9\u8BE6\u60C5\u914D\u7F6E","append-to-body":"","destroy-on-close":""},{footer:l(()=>[P("span",null,[s(B,{type:"primary",onClick:g},{default:l(()=>[T("\u786E\u8BA4")]),_:1})])]),default:l(()=>[s(w,{ref_key:"contentDetailJsonRef",ref:r,initContentDetailJsonData:n.value},null,8,["initContentDetailJsonData"])]),_:1},8,["modelValue"])],64)}}}),R=M(N,[["__file","/Users/yw/fh/git-source/particle/web/component/pc/message/views/admin/MessageTemplateManageAddPage.vue"]]);export{R as default};
