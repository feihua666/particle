import{d as g,r as b,a as h,b as u,o as D,c as y,e as d,f as n,w as l,g as E,F as x,_ as A}from"./index.3ad8a272.js";import{p as M,a as R,r as T}from"./systemConfigManage.b5e3a038.js";const S=g({name:"SystemConfigManagePage"}),k=g({...S,setup(V){const c=b(null),s=h({form:{},formComps:M,tableColumns:[{prop:"code",label:"\u53C2\u6570\u914D\u7F6E\u7F16\u7801"},{prop:"name",label:"\u53C2\u6570\u914D\u7F6E\u540D\u79F0"},{prop:"value",label:"\u53C2\u6570\u914D\u7F6E\u503C",showOverflowTooltip:!0},{prop:"isBuiltIn",label:"\u662F\u5426\u5185\u7F6E",formatter:(e,a,t,r)=>t?"\u662F":"\u5426"},{prop:"isDisabled",label:"\u662F\u5426\u7981\u7528",formatter:(e,a,t,r)=>{let o=t?"\u662F":"\u5426";return!t&&e.blackReason&&(o=o+`(${e.blackReason})`),o}},{prop:"tag",label:"\u6807\u7B7E",showOverflowTooltip:!0},{prop:"remark",label:"\u63CF\u8FF0",showOverflowTooltip:!0}]}),m=b({buttonText:"\u67E5\u8BE2",loading:!1,permission:"admin:web:systemConfig:pageQuery"}),f=()=>{c.value.refreshData()},_=({pageQuery:e})=>R({...s.form,...e}),F={permission:m.value.permission},C=({row:e,column:a,$index:t})=>t<0?[]:[{txt:"\u7F16\u8F91",text:!0,permission:"admin:web:systemConfig:update",route:{path:"/admin/SystemConfigManageUpdate",query:{id:e.id}}},{txt:"\u5220\u9664",text:!0,permission:"admin:web:systemConfig:delete",methodConfirmText:`\u786E\u5B9A\u8981\u5220\u9664 ${e.name} \u5417\uFF1F`,method(){return T({id:e.id}).then(i=>(f(),Promise.resolve(i)))}}];return(e,a)=>{const t=u("PtButton"),r=u("PtForm"),o=u("PtButtonGroup"),i=u("el-table-column"),w=u("PtTable"),P=u("PtRouteViewPopover");return D(),y(x,null,[d(" \u67E5\u8BE2\u8868\u5355 "),n(r,{form:s.form,method:f,defaultButtonsShow:"submit,reset",submitAttrs:m.value,inline:"",comps:s.formComps},{buttons:l(()=>[n(t,{permission:"admin:web:systemConfig:create",route:"/admin/SystemConfigManageAdd"},{default:l(()=>[E("\u6DFB\u52A0")]),_:1})]),_:1},8,["form","submitAttrs","comps"]),d(" \u6307\u5B9A dataMethod\uFF0C\u9ED8\u8BA4\u52A0\u8F7D\u6570\u636E "),n(w,{ref_key:"tableRef",ref:c,"default-expand-all":"",dataMethod:_,onDataMethodDataLoading:a[0]||(a[0]=p=>m.value.loading=p),paginationProps:F,columns:s.tableColumns},{defaultAppend:l(()=>[n(i,{label:"\u64CD\u4F5C",width:"180"},{default:l(({row:p,column:B,$index:v})=>[n(o,{options:C({row:p,column:B,$index:v})},null,8,["options"])]),_:1})]),_:1},8,["columns"]),d(" \u5B50\u7EA7\u8DEF\u7531 "),n(P,{level:3})],64)}}}),G=A(k,[["__file","/Users/yw/fh/git-source/particle/web/component/pc/config/views/system/admin/SystemConfigManagePage.vue"]]);export{G as default};
