import{d as o}from"./dataQueryDatasourceManage-DnNAK7S_.js";import{d as f,a as p,X as l,A as D,a8 as d,r as y,b,o as g,g as _,k as h}from"./index-B_FSv1tI.js";const V=f({__name:"DataQueryDatasourceManageConfigJsonPage",props:{typeDictValue:{type:String},initData:{type:[Object,String]},success:{type:Function,default:r=>{}}},setup(r){const t=r,a=p({form:{},formData:{}}),n=o[t.typeDictValue]||o.datasource_not_support;l(()=>{if(!t.initData)return;let e={};if(D(t.initData)&&(e=t.initData),d(t.initData))if(!o[t.typeDictValue])e.configJson=t.initData;else try{e=JSON.parse(t.initData)}catch{o[t.typeDictValue]||(e.configJson=t.initData)}for(let s in e)a.form[s]=e[s]});const i=y({buttonText:"确认"}),c=()=>()=>{},m=()=>{let e="";return o[t.typeDictValue]?e=JSON.stringify(a.form):e=a.form.configJson,t.success(e),"配置成功，提交数据后生效"};return(e,s)=>{const u=b("PtForm");return g(),_(u,{form:a.form,formData:a.formData,labelWidth:"80",method:c(),methodSuccess:m,defaultButtonsShow:"submit,reset",submitAttrs:i.value,layout:1,comps:h(n)},null,8,["form","formData","method","submitAttrs","comps"])}}});export{V as _};
