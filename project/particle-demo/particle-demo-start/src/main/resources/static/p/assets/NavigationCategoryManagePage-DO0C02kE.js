import{p as x,r as y}from"./navigationCategoryAdminApi-d-cy7kDG.js";import{p as h}from"./navigationCategoryManage-B57H8iEV.js";import{d as B,r as g,a as R,b as e,o as T,c as M,e as o,w as r,f as A,F as D}from"./index-B_FSv1tI.js";import"./navigationCategoryCompItem-DhIfbhmB.js";import"./treeQueryComps-CWIG2rsy.js";const E=B({__name:"NavigationCategoryManagePage",setup(N){const p=g(null),n=R({form:{},formComps:h,tableColumns:[{prop:"name",label:"名称"},{prop:"code",label:"编码"},{prop:"icon",label:"图标",columnView:"image"},{prop:"remark",label:"描述"},{prop:"seq",label:"排序"}]}),s=g({buttonText:"查询",loading:!1,permission:"admin:web:navigationCategory:pageQuery"}),u=()=>{p.value.refreshData()},b=({pageQuery:t})=>x({...n.form,...t}),f={permission:s.value.permission},_=({row:t,column:a,$index:i})=>i<0?[]:[{txt:"编辑",text:!0,permission:"admin:web:navigationCategory:update",route:{path:"/admin/NavigationCategoryManageUpdate",query:{id:t.id}}},{txt:"删除",text:!0,permission:"admin:web:navigationCategory:delete",methodConfirmText:`确定要删除 ${t.name} 吗？`,method(){return y({id:t.id}).then(m=>(u(),Promise.resolve(m)))}}];return(t,a)=>{const i=e("PtButton"),d=e("PtForm"),c=e("PtButtonGroup"),m=e("el-table-column"),v=e("PtTable"),P=e("PtRouteViewPopover");return T(),M(D,null,[o(d,{form:n.form,method:u,defaultButtonsShow:"submit,reset",submitAttrs:s.value,inline:"",comps:n.formComps},{buttons:r(()=>[o(i,{permission:"admin:web:navigationCategory:create",route:"/admin/NavigationCategoryManageAdd"},{default:r(()=>a[1]||(a[1]=[A("添加")])),_:1})]),_:1},8,["form","submitAttrs","comps"]),o(v,{ref_key:"tableRef",ref:p,"default-expand-all":"",dataMethod:b,onDataMethodDataLoading:a[0]||(a[0]=l=>s.value.loading=l),dataMethodResultHandleConvertToTree:!0,paginationProps:f,columns:n.tableColumns},{defaultAppend:r(()=>[o(m,{label:"操作",width:"180"},{default:r(({row:l,column:C,$index:w})=>[o(c,{options:_({row:l,column:C,$index:w})},null,8,["options"])]),_:1})]),_:1},8,["columns"]),o(P,{level:3})],64)}}});export{E as default};
