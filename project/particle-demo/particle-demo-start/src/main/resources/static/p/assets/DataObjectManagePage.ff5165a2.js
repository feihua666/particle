import{d as _,r as f,a as P,b as u,o as h,c as v,e as c,f as a,w as l,g as C,F as x,_ as O}from"./index.49d89bd8.js";import{p as j,r as T}from"./dataObjectAdminApi.ad460683.js";import{p as M}from"./dataObjectManage.df011f01.js";const R=_({name:"DataObjectManagePage"}),y=_({...R,setup(k){const d=f(null),r=P({form:{},formComps:M,tableColumns:[{prop:"code",label:"\u7F16\u7801"},{prop:"name",label:"\u540D\u79F0"},{prop:"customDataUrl",label:"\u81EA\u5B9A\u4E49\u6570\u636Eurl",showOverflowTooltip:!0},{prop:"isCustomDataLazy",label:"\u81EA\u5B9A\u4E49\u6570\u636E\u662F\u5426\u61D2\u52A0\u8F7D",formatter:(t,n,e,s)=>e?"\u61D2\u52A0\u8F7D":"\u4E00\u6B21\u6027\u6570\u636E"},{prop:"customDataTypeDictName",label:"\u81EA\u5B9A\u4E49\u6570\u636E\u4EA4\u4E92\u65B9\u5F0F"},{prop:"customDataConfigJson",label:"\u6570\u636E\u4EA4\u4E92\u65B9\u5F0F\u5185\u5BB9",showOverflowTooltip:!0},{prop:"isDisabled",label:"\u662F\u5426\u7981\u7528",width:80,formatter:(t,n,e,s)=>{let o=e?"\u7981\u7528":"\u542F\u7528";return e&&t.disabledReason&&(o=o+`(${t.disabledReason})`),o}},{prop:"remark",label:"\u63CF\u8FF0",showOverflowTooltip:!0}]}),m=f({buttonText:"\u67E5\u8BE2",loading:!1,permission:"admin:web:dataObject:pageQuery"}),b=()=>{d.value.refreshData()},F=({pageQuery:t})=>j({...r.form,...t}),D={permission:m.value.permission},E=({row:t,column:n,$index:e})=>e<0?[]:[{txt:"\u7F16\u8F91",text:!0,permission:"admin:web:dataObject:update",route:{path:"/admin/DataObjectManageUpdate",query:{id:t.id}}},{txt:"\u5220\u9664",text:!0,permission:"admin:web:dataObject:delete",methodConfirmText:`\u786E\u5B9A\u8981\u5220\u9664 ${t.name} \u5417\uFF1F`,method(){return T({id:t.id}).then(i=>(b(),Promise.resolve(i)))}}];return(t,n)=>{const e=u("PtButton"),s=u("PtForm"),o=u("PtButtonGroup"),i=u("el-table-column"),B=u("PtTable"),g=u("PtRouteViewPopover");return h(),v(x,null,[c(" \u67E5\u8BE2\u8868\u5355 "),a(s,{form:r.form,method:b,defaultButtonsShow:"submit,reset",submitAttrs:m.value,inline:"",comps:r.formComps},{buttons:l(()=>[a(e,{permission:"admin:web:dataObject:create",route:"/admin/DataObjectManageAdd"},{default:l(()=>[C("\u6DFB\u52A0")]),_:1})]),_:1},8,["form","submitAttrs","comps"]),c(" \u6307\u5B9A dataMethod\uFF0C\u9ED8\u8BA4\u52A0\u8F7D\u6570\u636E "),a(B,{ref_key:"tableRef",ref:d,"default-expand-all":"",dataMethod:F,onDataMethodDataLoading:n[0]||(n[0]=p=>m.value.loading=p),paginationProps:D,columns:r.tableColumns},{defaultAppend:l(()=>[a(i,{label:"\u64CD\u4F5C",width:"180"},{default:l(({row:p,column:A,$index:w})=>[a(o,{options:E({row:p,column:A,$index:w})},null,8,["options"])]),_:1})]),_:1},8,["columns"]),c(" \u5B50\u7EA7\u8DEF\u7531 "),a(g,{level:3})],64)}}}),G=O(y,[["__file","/Users/yw/fh/git-source/particle/web/component/pc/dataconstraint/views/admin/DataObjectManagePage.vue"]]);export{G as default};
