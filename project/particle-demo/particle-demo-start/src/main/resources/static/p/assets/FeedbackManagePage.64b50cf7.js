import{d as F,r as b,a as g,b as o,o as C,c as h,e as p,f as n,w as f,F as v,_ as x}from"./index.49d89bd8.js";import{p as P,a as w,r as R}from"./feedbackManage.169418e4.js";const y=F({name:"FeedbackManagePage"}),M=F({...y,setup(T){const m=b(null),r=g({form:{},formComps:P,tableColumns:[{prop:"contactUsername",label:"\u8054\u7CFB\u59D3\u540D"},{prop:"contactTelephone",label:"\u8054\u7CFB\u7535\u8BDD",formatter:(e,a,u,t)=>{let s=e.isContactTelephoneMobile?"(\u624B\u673A\u53F7)":"";return u+s}},{prop:"contactEmail",label:"\u8054\u7CFB\u90AE\u7BB1"},{prop:"feedbackContent",label:"\u95EE\u9898\u5EFA\u8BAE\u5185\u5BB9",showOverflowTooltip:!0},{prop:"feedbackAt",label:"\u95EE\u9898\u5EFA\u8BAE\u65F6\u95F4"},{prop:"feedbackUserNickname",label:"\u95EE\u9898\u5EFA\u8BAE\u7528\u6237"},{prop:"feedbackUserAvatar",label:"\u95EE\u9898\u5EFA\u8BAE\u7528\u6237\u5934\u50CF"},{prop:"isHandle",label:"\u662F\u5426\u5DF2\u5904\u7406",formatter:(e,a,u,t)=>u?"\u5DF2\u5904\u7406":"\u672A\u5904\u7406"},{prop:"handleResult",label:"\u5904\u7406\u7ED3\u679C",showOverflowTooltip:!0},{prop:"remark",label:"\u63CF\u8FF0"}]}),l=b({buttonText:"\u67E5\u8BE2",loading:!1,permission:"admin:web:feedback:pageQuery"}),c=()=>{m.value.refreshData()},E=({pageQuery:e})=>w({...r.form,...e}),B={permission:l.value.permission},D=({row:e,column:a,$index:u})=>{if(u<0)return[];let t={id:e.id};return[{txt:"\u56DE\u590D",text:!0,permission:"admin:web:feedbackReply:create",disabled:!e.feedbackUserId,disabledReason:e.feedbackUserId?void 0:"\u65E0\u7528\u6237\u5173\u8054\uFF0C\u4E0D\u652F\u6301\u56DE\u590D",route:{path:"/admin/feedbackReplyManageAdd",query:t}},{txt:"\u56DE\u590D\u5217\u8868",text:!0,permission:"admin:web:feedbackReply:pageQuery",position:"more",disabled:!e.feedbackUserId,disabledReason:e.feedbackUserId?void 0:"\u65E0\u7528\u6237\u5173\u8054\uFF0C\u65E0\u56DE\u590D\u5217\u8868\u6570\u636E",route:{path:"/admin/feedbackReplyManagePage",query:t}},{txt:"\u624B\u52A8\u5904\u7406",text:!0,permission:"admin:web:feedback:manualHandle",position:"more",disabled:e.isHandle,disabledReason:e.isHandle?"\u5DF2\u5904\u7406,\u4E0D\u80FD\u518D\u6B21\u5904\u7406":void 0,route:{path:"/admin/feedbackManageManualHandle",query:t}},{txt:"\u5220\u9664",text:!0,permission:"admin:web:feedback:delete",position:"more",methodConfirmText:`\u786E\u5B9A\u8981\u5220\u9664 ${e.name} \u5417\uFF1F`,method(){return R({id:e.id}).then(d=>(c(),Promise.resolve(d)))}}]};return(e,a)=>{const u=o("PtForm"),t=o("PtButtonGroup"),s=o("el-table-column"),d=o("PtTable"),_=o("PtRouteViewPopover");return C(),h(v,null,[p(" \u67E5\u8BE2\u8868\u5355 "),n(u,{form:r.form,method:c,defaultButtonsShow:"submit,reset",submitAttrs:l.value,inline:"",comps:r.formComps},null,8,["form","submitAttrs","comps"]),p(" \u6307\u5B9A dataMethod\uFF0C\u9ED8\u8BA4\u52A0\u8F7D\u6570\u636E "),n(d,{ref_key:"tableRef",ref:m,"default-expand-all":"",dataMethod:E,onDataMethodDataLoading:a[0]||(a[0]=i=>l.value.loading=i),paginationProps:B,columns:r.tableColumns},{defaultAppend:f(()=>[n(s,{label:"\u64CD\u4F5C",width:"180"},{default:f(({row:i,column:k,$index:A})=>[n(t,{options:D({row:i,column:k,$index:A}),dropdownTriggerButtonOptions:{text:!0,buttonText:"\u66F4\u591A"}},null,8,["options"])]),_:1})]),_:1},8,["columns"]),p(" \u5B50\u7EA7\u8DEF\u7531 "),n(_,{level:3})],64)}}}),I=x(M,[["__file","/Users/yw/fh/git-source/particle/web/component/pc/feedback/views/feedback/admin/FeedbackManagePage.vue"]]);export{I as default};
