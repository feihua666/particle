import{c as C}from"./tenantCreateApplyAdminApi-CJZDI5xD.js";import{a as D}from"./tenantCreateApplyManage-CsW6qiSu.js";import{d as P,r as o,a as S,b as s,o as x,c as w,e as n,w as l,h as B,f as F,F as T,G as V}from"./index-_8rL1G8m.js";import{_ as J}from"./TenantCreateApplyFuncApplication.vue_vue_type_style_index_0_lang-CVj7OX5V.js";import"./userCompItem-CsXXKKu7.js";import"./userAdminApi-DZfFHVq4.js";import"./funcApplicationAdminApi-Aocr2ebF.js";import"./funcApplicationCompItem-DqXLMCK8.js";const $=P({__name:"TenantCreateApplyManageAddPage",props:{},setup(i){const a=o(!1),p=o(null),u=i,r=S({form:{extJsonObj:null},formData:{}}),c=o(D({props:u,funcApplicationDialogVisible:a})),f=o({buttonText:"确认添加",permission:"admin:web:tenantCreateApply:create"}),d=()=>C,b=()=>"添加成功，请刷新数据查看";let A=e=>{V({showClose:!0,message:e,type:"error",showIcon:!0,grouping:!0})};const m=o({}),_=()=>{let e=p.value.getSelectedData();if(e.length==0){A("请至少选择一个应用及对应的功能");return}let t={funcApplications:e};r.form.extJsonObj=t,m.value=JSON.parse(JSON.stringify(t)),a.value=!1};return(e,t)=>{const g=s("PtForm"),y=s("PtButton"),v=s("el-dialog");return x(),w(T,null,[n(g,{form:r.form,formData:r.formData,labelWidth:"80",method:d(),methodSuccess:b,defaultButtonsShow:"submit,reset",submitAttrs:f.value,buttonsTeleportProps:e.$route.meta.formButtonsTeleportProps,inline:"",layout:[3,3,2,1],comps:c.value},null,8,["form","formData","method","submitAttrs","buttonsTeleportProps","comps"]),n(v,{modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=h=>a.value=h),width:"70%",title:"要分配的应用及功能","append-to-body":"","destroy-on-close":""},{footer:l(()=>[B("span",null,[n(y,{type:"primary",onClick:_},{default:l(()=>t[1]||(t[1]=[F("确认")])),_:1})])]),default:l(()=>[n(J,{ref_key:"tenantCreateApplyFuncApplicationRef",ref:p,initSelectedData:m.value.funcApplications},null,8,["initSelectedData"])]),_:1},8,["modelValue"])],64)}}});export{$ as default};
