import{b as u,e as l}from"./roleDataScopeRelAdminApi-Cf0sbCo2.js";import{r as i,u as f,a as S}from"./dataconstraintCompItem-B1PIimZM.js";import{l as b}from"./roleAdminApi-DEKs4yJg.js";import{d as h,a as D,r as s,b as I,o as P,g as R}from"./index-B_FSv1tI.js";import"./dataObjectAdminApi-1fqVThOA.js";import"./dataScopeAdminApi-r0q6tYcI.js";const A=h({__name:"RoleDataScopeRelManageDataScopeAssignRolePage",props:{...i,dataObjectId:{type:String}},setup(m){const o=m,a=D({form:{},formData:{}}),n=s([f({props:o,required:!0}),S({props:o,required:!1}),{field:{name:"checkedRoleIds",value:[]},element:{comp:"PtTree",formItemProps:{label:"角色",required:!0},compProps:({form:t})=>({dataInitMethod:({param:r})=>{let e=r.dataScopeId;return e?u({id:e}):{data:[]}},dataInitMethodParam:{dataScopeId:t.dataScopeId},dataMethod:b,dataMethodResultHandleConvertToTree:!0,showCheckbox:!0})}}]),p=s({buttonText:"确认",permission:"admin:web:roleDataScopeRel:dataScopeAssignRole"}),c=()=>l,d=()=>"分配成功，请刷新数据查看";return(t,r)=>{const e=I("PtForm");return P(),R(e,{form:a.form,formData:a.formData,labelWidth:"80",method:c(),methodSuccess:d,defaultButtonsShow:"submit,reset",submitAttrs:p.value,buttonsTeleportProps:t.$route.meta.formButtonsTeleportProps,inline:"",layout:1,comps:n.value},null,8,["form","formData","method","submitAttrs","buttonsTeleportProps","comps"])}}});export{A as default};
