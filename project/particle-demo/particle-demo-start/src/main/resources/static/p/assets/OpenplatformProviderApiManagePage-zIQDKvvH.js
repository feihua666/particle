import{p as x,a as B,r as h}from"./openplatformProviderApiManage-3XTX_E5b.js";import{d as C,r as f,a as T,b as t,o as D,c as R,e as o,w as n,f as F,F as M}from"./index-B_FSv1tI.js";const k=C({__name:"OpenplatformProviderApiManagePage",setup(y){const m=f(null),r=T({form:{},formComps:x,tableColumns:[{prop:"code",label:"编码"},{prop:"name",label:"供应商名称"},{prop:"dataQueryDatasourceApiId",label:"数据查询数据源接口id"},{prop:"openplatformOpenapiFeeId",label:"计费id"},{prop:"requestUrl",label:"请求地址"},{prop:"scriptTypeDictValue",label:"脚本类型"},{prop:"scriptContent",label:"脚本内容"},{prop:"readTimeout",label:"读取等待时间"},{prop:"connectTimeout",label:"连接等待时间"},{prop:"remark",label:"描述"}]}),p=f({buttonText:"查询",loading:!1,permission:"admin:web:openplatformProviderApi:pageQuery"}),u=()=>{m.value.refreshData()},b=({pageQuery:e})=>B({...r.form,...e}),P={permission:p.value.permission},_=({row:e,column:a,$index:l})=>l<0?[]:[{txt:"编辑",text:!0,permission:"admin:web:openplatformProviderApi:update",route:{path:"/admin/OpenplatformProviderApiManageUpdate",query:{id:e.id}}},{txt:"删除",text:!0,permission:"admin:web:openplatformProviderApi:delete",methodConfirmText:`确定要删除 ${e.name} 吗？`,method(){return h({id:e.id}).then(i=>(u(),Promise.resolve(i)))}}];return(e,a)=>{const l=t("PtButton"),d=t("PtForm"),c=t("PtButtonGroup"),i=t("el-table-column"),v=t("PtTable"),g=t("PtRouteViewPopover");return D(),R(M,null,[o(d,{form:r.form,method:u,defaultButtonsShow:"submit,reset",submitAttrs:p.value,inline:"",comps:r.formComps},{buttons:n(()=>[o(l,{permission:"admin:web:openplatformProviderApi:create",route:"/admin/OpenplatformProviderApiManageAdd"},{default:n(()=>a[1]||(a[1]=[F("添加")])),_:1})]),_:1},8,["form","submitAttrs","comps"]),o(v,{ref_key:"tableRef",ref:m,"default-expand-all":"",dataMethod:b,onDataMethodDataLoading:a[0]||(a[0]=s=>p.value.loading=s),paginationProps:P,columns:r.tableColumns},{defaultAppend:n(()=>[o(i,{label:"操作",width:"180"},{default:n(({row:s,column:A,$index:w})=>[o(c,{options:_({row:s,column:A,$index:w})},null,8,["options"])]),_:1})]),_:1},8,["columns"]),o(g,{level:3})],64)}}});export{k as default};
