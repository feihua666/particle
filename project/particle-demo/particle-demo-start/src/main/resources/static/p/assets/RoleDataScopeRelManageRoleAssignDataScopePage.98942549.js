import{d as n,a as b,r as u,b as D,o as I,c as S,e as g,f as R,F as P,_}from"./index.53bce7bf.js";import{q as A,r as v}from"./roleDataScopeRelAdminApi.c66c5190.js";import{r as B,a as F}from"./roleCompItem.2a9c36c7.js";import{l as C}from"./dataScopeAdminApi.0753d9c1.js";import"./roleAdminApi.9e42153a.js";const M=n({name:"RoleDataScopeRelManageRoleAssignDataScopePage"}),j=n({...M,props:{...B},setup(c){const d=c,s=b({form:{checkedDataScopeIdAgainstDataObjectIds:{}},formData:{}}),m=u([F({props:d,required:!0}),{field:{name:"checkedDataScopeIds",value:[]},element:{comp:"PtTree",formItemProps:{label:"\u6570\u636E\u8303\u56F4",required:!0},compProps:({form:l})=>({dataInitMethod:({param:o})=>{let a=o.roleId;return a?A({id:a}):{data:[]}},dataInitMethodParam:{roleId:l.roleId},dataMethod:({param:o})=>C(o).then(a=>{let t=a.data.data,r=[];for(let e=0;e<t.length;e++)s.form.checkedDataScopeIdAgainstDataObjectIds[t[e].id]=t[e].dataObjectId,t[e].parentId=t[e].dataObjectId,r.some(h=>h.id==t[e].dataObjectId)||r.push({id:t[e].dataObjectId,name:t[e].dataObjectName,isDisabled:!0});for(let e=0;e<r.length;e++)t.push(r[e]);return Promise.resolve(a)}),dataMethodResultHandleConvertToTree:!0,showCheckbox:!0,modelValueIncludeHalfCheckedKeys:!1,modelValueIncludeLeafOnly:!0})}}]),p=u({buttonText:"\u786E\u8BA4",permission:"admin:web:roleDataScopeRel:roleAssignDataScope"}),i=()=>v,f=()=>"\u5206\u914D\u6210\u529F\uFF0C\u8BF7\u5237\u65B0\u6570\u636E\u67E5\u770B";return(l,o)=>{const a=D("PtForm");return I(),S(P,null,[g(" \u6DFB\u52A0\u8868\u5355 "),R(a,{form:s.form,formData:s.formData,labelWidth:"80",method:i(),methodSuccess:f,defaultButtonsShow:"submit,reset",submitAttrs:p.value,buttonsTeleportProps:l.$route.meta.formButtonsTeleportProps,inline:"",layout:1,comps:m.value},null,8,["form","formData","method","submitAttrs","buttonsTeleportProps","comps"])],2112)}}}),E=_(j,[["__file","/Users/yw/fh/git-source/particle/web/component/pc/role/views/roledatascoperel/admin/RoleDataScopeRelManageRoleAssignDataScopePage.vue"]]);export{E as default};
