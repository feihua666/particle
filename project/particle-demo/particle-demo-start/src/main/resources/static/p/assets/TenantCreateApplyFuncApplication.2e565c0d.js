import{d as s,a as D,r,K as k,b as i,o as u,c as y,e as S,f as A,F as g,_ as h,i as F,w as p,U as T,aC as w,g as x,V}from"./index.49d89bd8.js";import{l as N}from"./funcApplicationAdminApi.58b01f31.js";import{r as P,a as B}from"./funcApplicationCompItem.febed3fb.js";const U=s({name:"TenantCreateApplyFuncApplicationAssignFunc"}),M=s({...U,props:{...P,limitFuncApplicationId:{type:String},checkedFuncIds:{type:Array,default:()=>[]}},setup(d,{expose:m}){const a=d,c=D({form:{},formData:{}}),l=r([B({props:a,required:!0}),{field:{name:"funcIds",value:[]},element:{comp:"PtTree",formItemProps:{label:"\u529F\u80FD",required:!0},compProps:({form:o})=>({dataInitMethod:()=>({data:a.checkedFuncIds}),dataMethod:()=>k({funcApplicationId:a.limitFuncApplicationId}),dataMethodResultHandleConvertToTree:!0,showCheckbox:!0})}}]);return m({form:c.form}),(o,f)=>{const _=i("PtForm");return u(),y(g,null,[S(" \u6DFB\u52A0\u8868\u5355 "),A(_,{form:c.form,formData:c.formData,labelWidth:"80",defaultButtonsShow:"",inline:"",layout:1,comps:l.value},null,8,["form","formData","comps"])],2112)}}}),R=h(M,[["__file","/Users/yw/fh/git-source/particle/web/component/pc/tenant/components/createapply/admin/funcapplication/TenantCreateApplyFuncApplicationAssignFunc.vue"]]),$=s({name:"TenantCreateApplyFuncApplication"}),q=s({...$,props:{initSelectedData:{type:Array,default:()=>[]}},setup(d,{expose:m}){const a=d,c=r([]),l=r(""),o=r(null),f=t=>{if(a.initSelectedData.length==0)return[];for(let e=0;e<a.initSelectedData.length;e++)if(a.initSelectedData[e].funcApplicationId==t)return a.initSelectedData[e].funcIds;return[]};N({}).then(t=>{c.value=t.data.data,l.value=t.data.data[0].code});const _=()=>{let t=[];for(let e=0;e<o.value.length;e++)o.value[e].form.funcIds.length!=0&&t.push(o.value[e].form);return t},v=t=>t?t.length==0:!0;return m({getSelectedData:_}),(t,e)=>{const C=i("el-badge"),I=i("el-tab-pane"),b=i("el-tabs");return u(),F(b,{modelValue:l.value,"onUpdate:modelValue":e[0]||(e[0]=n=>l.value=n)},{default:p(()=>[(u(!0),y(g,null,T(c.value,n=>(u(),F(I,{key:n.id,label:n.name,name:n.code},w({default:p(()=>[A(R,{ref_for:!0,ref_key:"funcApplicationAssignFuncRef",ref:o,funcApplicationId:n.id,funcApplicationName:n.name,limitFuncApplicationId:n.id,checkedFuncIds:f(n.id)},null,8,["funcApplicationId","funcApplicationName","limitFuncApplicationId","checkedFuncIds"])]),_:2},[v(f(n.id))?void 0:{name:"label",fn:p(()=>[A(C,{type:"success","is-dot":"",class:"pt-message-template-content-detail-json-badge"},{default:p(()=>[x(V(n.name),1)]),_:2},1024)]),key:"0"}]),1032,["label","name"]))),128))]),_:1},8,["modelValue"])}}});const K=h(q,[["__file","/Users/yw/fh/git-source/particle/web/component/pc/tenant/components/createapply/admin/funcapplication/TenantCreateApplyFuncApplication.vue"]]);export{K as T};
