import{d as f,r as w,a as I,b as o,o as v,c as y,e as d,f as e,w as u,g as F,F as D,_ as T}from"./index.b53d3025.js";import{p as x,r as R}from"./lowcodeModelItemAdminApi.00ad7cd0.js";import{p as L}from"./lowcodeModelItemManage.f341d1e3.js";import"./lowcodeModelAdminApi.4c66ac50.js";const N=f({name:"LowcodeModelItemManagePage"}),V=f({...N,props:{lowcodeModelId:{type:String}},setup(i){const E=i,c=w(null),l=I({form:{lowcodeModelId:E.lowcodeModelId},formComps:L,tableColumns:[{label:"\u5B57\u6BB5\u540D\u79F0",prop:"columnName"},{label:"\u5B9E\u4F53\u5C5E\u6027\u540D\u79F0",prop:"propertyName"},{label:"\u5B57\u6BB5\u7C7B\u578B",prop:"jdbcType"},{label:"\u5B9E\u4F53\u5C5E\u6027\u7C7B\u578B",prop:"propertyType"},{label:"\u5B9E\u4F53\u5C5E\u6027\u7C7B\u578B\u5168\u8DEF\u5F84",prop:"propertyFullType",showOverflowTooltip:!0},{label:"\u5168\u6CE8\u91CA",prop:"commentFull",showOverflowTooltip:!0},{label:"\u7B80\u6D01\u6CE8\u91CA",prop:"commentSimple",showOverflowTooltip:!0},{label:"\u9ED8\u8BA4\u503C",prop:"defaultValue"},{label:"\u662F\u5426\u552F\u4E00",prop:"isUnique"},{label:"\u662F\u5426\u5FC5\u586B",prop:"isRequired"},{label:"\u662F\u5426\u4E3B\u952E",prop:"isKey"},{label:"\u662F\u5426\u4E3B\u952E\u81EA\u589E",prop:"isKeyIdentity"},{label:"\u662F\u5426\u5173\u952E\u5B57",prop:"isKeyWord"},{label:"\u957F\u5EA6",prop:"columnLength"},{label:"\u5C0F\u6570\u4F4D\u957F\u5EA6",prop:"fractionLength"},{label:"\u662F\u5426\u5916\u952E",prop:"isForeignKey"},{label:"\u6A21\u578B",prop:"lowcodeModelName"},{label:"\u8BBE\u8BA1\u6570\u636E",prop:"designJson",showOverflowTooltip:!0},{label:"\u63CF\u8FF0",prop:"remark"}]}),n=w({buttonText:"\u67E5\u8BE2",loading:!1,permission:"admin:web:lowcodeModelItem:pageQuery"}),b=()=>{c.value.refreshData()},g=({pageQuery:t})=>x({...l.form,...t}),_={permission:n.value.permission},M=({row:t,column:p,$index:a})=>{if(a<0)return[];let r={id:t.id};return[{txt:"\u7F16\u8F91",text:!0,permission:"admin:web:lowcodeModelItem:update",route:{path:"/admin/lowcodeModelItemManageUpdate",query:r}},{txt:"\u5220\u9664",text:!0,permission:"admin:web:lowcodeModelItem:delete",methodConfirmText:`\u786E\u5B9A\u8981\u5220\u9664 ${t.name} \u5417\uFF1F`,method(){return R(r).then(s=>(b(),Promise.resolve(s)))}}]};return(t,p)=>{const a=o("PtButton"),r=o("PtForm"),B=o("PtButtonGroup"),s=o("el-table-column"),C=o("PtTable"),A=o("PtRouteViewPopover");return v(),y(D,null,[d(" \u67E5\u8BE2\u8868\u5355 "),e(r,{form:l.form,method:b,defaultButtonsShow:"submit,reset",submitAttrs:n.value,inline:"",comps:l.formComps},{buttons:u(()=>[e(a,{permission:"admin:web:lowcodeModelItem:create",route:"/admin/lowcodeModelItemManageAdd"},{default:u(()=>[F("\u6DFB\u52A0")]),_:1}),e(a,{permission:"admin:web:lowcodeModelItem:pageQuery",route:{path:"/admin/lowcodeModelItemDesignManagePage",query:{lowcodeModelId:i.lowcodeModelId}}},{default:u(()=>[F("\u53BB\u8BBE\u8BA1")]),_:1},8,["route"])]),_:1},8,["form","submitAttrs","comps"]),d(" \u6307\u5B9A dataMethod\uFF0C\u9ED8\u8BA4\u52A0\u8F7D\u6570\u636E "),e(C,{ref_key:"tableRef",ref:c,"default-expand-all":"",dataMethod:g,onDataMethodDataLoading:p[0]||(p[0]=m=>n.value.loading=m),paginationProps:_,columns:l.tableColumns},{defaultAppend:u(()=>[e(s,{label:"\u64CD\u4F5C",width:"180"},{default:u(({row:m,column:P,$index:h})=>[e(B,{options:M({row:m,column:P,$index:h})},null,8,["options"])]),_:1})]),_:1},8,["columns"]),d(" \u5B50\u7EA7\u8DEF\u7531 "),e(A,{level:3})],64)}}}),S=T(V,[["__file","/Users/yw/fh/git-source/particle/web/component/pc/lowcode/views/generator/admin/LowcodeModelItemManagePage.vue"]]);export{S as default};
