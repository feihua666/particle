import{h as w,d as P,r as b,a as _,b as o,o as I,c as T,e as m,f as u,w as F,F as O,_ as A}from"./index.ddde0bc1.js";let B="/admin/web/op_log_error";const x=t=>w.delete(B+"/delete",{data:t}),q=t=>w.get(B+"/page",{params:t}),L=[{field:{name:"traceId"},element:{comp:"el-input",formItemProps:{label:"traceId"},compProps:{}}},{field:{name:"userId"},element:{comp:"el-input",formItemProps:{label:"\u64CD\u4F5C\u7528\u6237id"},compProps:{}}},{field:{name:"userName"},element:{comp:"el-input",formItemProps:{label:"\u64CD\u4F5C\u7528\u6237\u59D3\u540D"},compProps:{clearable:!0,placeholder:"\u5DE6\u524D\u7F00\u5339\u914D"}}},{field:{name:"userNickname"},element:{comp:"el-input",formItemProps:{label:"\u64CD\u4F5C\u7528\u6237\u6635\u79F0"},compProps:{clearable:!0,placeholder:"\u5DE6\u524D\u7F00\u5339\u914D"}}},{field:{name:"requestUrl"},element:{comp:"el-input",formItemProps:{label:"\u8BF7\u6C42\u5730\u5740"},compProps:{clearable:!0,placeholder:"\u5DE6\u524D\u7F00\u5339\u914D"}}},{field:{name:"requestMethod"},element:{comp:"el-input",formItemProps:{label:"\u8BF7\u6C42\u65B9\u6CD5"},compProps:{clearable:!0}}},{field:{name:"requestIp"},element:{comp:"el-input",formItemProps:{label:"\u8BF7\u6C42ip"},compProps:{clearable:!0}}},{field:{name:"responseStatus"},element:{comp:"el-input",formItemProps:{label:"\u54CD\u5E94\u7684\u72B6\u6001\u7801"},compProps:{clearable:!0}}},{field:{name:"localHostIp"},element:{comp:"el-input",formItemProps:{label:"\u672C\u5730\u4E3B\u673Aip"},compProps:{clearable:!0}}},{field:{name:"localHostName"},element:{comp:"el-input",formItemProps:{label:"\u672C\u5730\u4E3B\u673A\u540D\u79F0"},compProps:{clearable:!0}}},{field:{name:"errorAtStart"},element:{comp:"PtDatePicker",formItemProps:{label:"\u5F02\u5E38\u53D1\u751F\u65F6\u95F4\u5F00\u59CB"},compProps:{type:"datetime"}}},{field:{name:"errorAtEnd"},element:{comp:"PtDatePicker",formItemProps:{label:"\u5F02\u5E38\u53D1\u751F\u65F6\u95F4\u7ED3\u675F"},compProps:{type:"datetime"}}}],M=P({name:"OpLogErrorManagePage"}),y=P({...M,setup(t){const i=b(null),r=_({form:{},formComps:L,tableColumns:[{prop:"traceId",label:"traceId",showOverflowTooltip:!0},{prop:"userId",label:"\u7528\u6237id",showOverflowTooltip:!0},{prop:"userName",label:"\u7528\u6237\u59D3\u540D",showOverflowTooltip:!0},{prop:"userNickname",label:"\u7528\u6237\u6635\u79F0",showOverflowTooltip:!0},{prop:"userAvatar",label:"\u7528\u6237\u5934\u50CF",showOverflowTooltip:!0},{prop:"requestUrl",label:"\u8BF7\u6C42\u5730\u5740",showOverflowTooltip:!0},{prop:"requestMethod",label:"\u8BF7\u6C42\u65B9\u6CD5",showOverflowTooltip:!0},{prop:"requestHeaders",label:"\u8BF7\u6C42\u5934\u4FE1\u606F",showOverflowTooltip:!0},{prop:"requestParams",label:"\u8BF7\u6C42\u53C2\u6570",showOverflowTooltip:!0},{prop:"requestBody",label:"\u8BF7\u6C42\u5185\u5BB9",showOverflowTooltip:!0},{prop:"requestIp",label:"\u8BF7\u6C42ip",showOverflowTooltip:!0},{prop:"responseStatus",label:"\u54CD\u5E94\u72B6\u6001\u7801",showOverflowTooltip:!0},{prop:"responseHeaders",label:"\u54CD\u5E94\u5934\u4FE1\u606F",showOverflowTooltip:!0},{prop:"responseBody",label:"\u54CD\u5E94\u5185\u5BB9",showOverflowTooltip:!0},{prop:"localHostIp",label:"\u672C\u5730\u4E3B\u673Aip",showOverflowTooltip:!0},{prop:"localHostName",label:"\u672C\u5730\u4E3B\u673A\u540D\u79F0",showOverflowTooltip:!0},{prop:"errorAt",label:"\u5F02\u5E38\u53D1\u751F\u65F6\u95F4",showOverflowTooltip:!0}]}),l=b({buttonText:"\u67E5\u8BE2",loading:!1,permission:"admin:web:opLogError:pageQuery"}),c=()=>{i.value.refreshData()},C=({pageQuery:e})=>q({...r.form,...e}),E={permission:l.value.permission},D=({row:e,column:a,$index:p})=>p<0?[]:[{txt:"\u67E5\u770B\u5F02\u5E38\u5185\u5BB9",text:!0,permission:"admin:web:opLogError:viewContent",route:{path:"/admin/OpLogErrorContentViewPage",query:{id:e.id}}},{txt:"\u5220\u9664",text:!0,position:"more",permission:"admin:web:opLogError:delete",methodConfirmText:`\u786E\u5B9A\u8981\u5220\u9664 traceId=${e.traceId} \u7684\u5F02\u5E38\u6570\u636E\u5417\uFF1F`,method(){return x({id:e.id}).then(s=>(c(),Promise.resolve(s)))}}];return(e,a)=>{const p=o("PtForm"),d=o("PtButtonGroup"),f=o("el-table-column"),s=o("PtTable"),h=o("PtRouteViewPopover");return I(),T(O,null,[m(" \u67E5\u8BE2\u8868\u5355 "),u(p,{form:r.form,method:c,defaultButtonsShow:"submit,reset",submitAttrs:l.value,inline:"",comps:r.formComps},null,8,["form","submitAttrs","comps"]),m(" \u6307\u5B9A dataMethod\uFF0C\u9ED8\u8BA4\u52A0\u8F7D\u6570\u636E "),u(s,{ref_key:"tableRef",ref:i,"default-expand-all":"",dataMethod:C,onDataMethodDataLoading:a[0]||(a[0]=n=>l.value.loading=n),paginationProps:E,columns:r.tableColumns},{defaultAppend:F(()=>[u(f,{label:"\u64CD\u4F5C",width:"200"},{default:F(({row:n,column:g,$index:v})=>[u(d,{options:D({row:n,column:g,$index:v}),dropdownTriggerButtonOptions:{text:!0,buttonText:"\u66F4\u591A"}},null,8,["options"])]),_:1})]),_:1},8,["columns"]),m(" \u5B50\u7EA7\u8DEF\u7531 "),u(h,{level:3})],64)}}}),k=A(y,[["__file","/Users/yw/fh/git-source/particle/web/component/pc/oplog/views/error/admin/OpLogErrorManagePage.vue"]]);export{k as default};
