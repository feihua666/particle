import{d as F,r as b,a as w,ah as v,b as o,o as D,c as M,e as l,f as t,w as u,g,F as E,ai as T,aj as y,_ as R}from"./index.b53d3025.js";import{p as V}from"./funcManage.616b4acb.js";import"./treeQueryComps.5854cd36.js";const k=F({name:"FuncManagePage"}),q=F({...k,setup(N){const p=b(null),a=w({form:{},formComps:V,tableColumns:v}),i=b({buttonText:"\u67E5\u8BE2",loading:!1,permission:"admin:web:func:pageQuery"}),f=()=>{p.value.refreshData()},P=({pageQuery:e})=>T({...a.form,...e}),B={permission:i.value.permission},A=({row:e,column:m,$index:r})=>{if(r<0)return[];let n={id:e.id},s=[{txt:"\u6DFB\u52A0\u5B50\u7EA7",text:!0,permission:"admin:web:func:create",route:{path:"/admin/funcManageAdd",query:n}},{txt:"\u7F16\u8F91",position:"more",text:!0,permission:"admin:web:func:update",route:{path:"/admin/funcManageUpdate",query:n}},{txt:"\u5220\u9664",position:"more",text:!0,permission:"admin:web:func:delete",methodConfirmText:`\u786E\u5B9A\u8981\u5220\u9664 ${e.name} \u5417\uFF1F`,method(){return y({id:e.id}).then(d=>(f(),Promise.resolve(d)))}}];return e.typeDictValue=="page"&&s.push({txt:"\u6DFB\u52A0Crud",position:"more",text:!0,permission:"admin:web:func:create",route:{path:"/admin/funcManageCrudAdd",query:n}}),s};return(e,m)=>{const r=o("PtButton"),n=o("PtForm"),s=o("PtButtonGroup"),_=o("el-table-column"),d=o("PtTable"),h=o("PtRouteViewPopover");return D(),M(E,null,[l(" \u67E5\u8BE2\u8868\u5355 "),t(n,{form:a.form,method:f,defaultButtonsShow:"submit,reset",submitAttrs:i.value,inline:"",comps:a.formComps},{buttons:u(()=>[t(r,{permission:"admin:web:func:create",route:"/admin/funcManageAdd"},{default:u(()=>[g("\u6DFB\u52A0")]),_:1}),t(r,{permission:"admin:web:func:create",route:"/admin/funcManageCrudAdd"},{default:u(()=>[g("\u6DFB\u52A0Crud")]),_:1})]),_:1},8,["form","submitAttrs","comps"]),l(" \u6307\u5B9A dataMethod\uFF0C\u9ED8\u8BA4\u52A0\u8F7D\u6570\u636E "),t(d,{ref_key:"tableRef",ref:p,"default-expand-all":"",dataMethod:P,onDataMethodDataLoading:m[0]||(m[0]=c=>i.value.loading=c),dataMethodResultHandleConvertToTree:!0,paginationProps:B,columns:a.tableColumns},{defaultAppend:u(()=>[t(_,{label:"\u64CD\u4F5C",width:"220"},{default:u(({row:c,column:x,$index:C})=>[t(s,{options:A({row:c,column:x,$index:C}),dropdownTriggerButtonOptions:{text:!0,buttonText:"\u66F4\u591A"}},null,8,["options"])]),_:1})]),_:1},8,["columns"]),l(" \u5B50\u7EA7\u8DEF\u7531 "),t(h,{level:3})],64)}}}),H=R(q,[["__file","/Users/yw/fh/git-source/particle/web/component/pc/func/views/admin/FuncManagePage.vue"]]);export{H as default};
