import{d as A,r as w,a as h,b as m,o as I,c as M,e as p,f as F,F as T,_ as v}from"./index.53bce7bf.js";import{u as C,p as y}from"./lowcodeModelItemAdminApi.0352a6ad.js";import{l as R}from"./lowcodeModelAdminApi.1d3697cc.js";const O=A({name:"LowcodeModelItemDesignManagePage"}),S=A({...O,props:{lowcodeModelId:{type:String}},setup(f){const D=f,E=w(null),c=(u,o,l)=>({is:"PtSwitch",modelValue:u.row[o],method:r=>(u.row[o]=r,C(u.row).then(t=>(u.row.version++,Promise.resolve(t)))),methodSuccess:"\u4FEE\u6539\u6210\u529F"}),e=(u,o,l,r,t=[])=>{u.row.designJsonObj||(u.row.designJsonObj=JSON.parse(u.row.designJson));let a=u.row.designJsonObj,d=a.jsonItemMap,b=d[o];return{is:"PtSwitch",modelValue:b[l],method:B=>(b[l]=B,t&&t.forEach(i=>{d[i][l]=B}),u.row.designJson=JSON.stringify(a),C(u.row).then(i=>(u.row.version++,Promise.resolve(i)))),methodSuccess:"\u4FEE\u6539\u6210\u529F"}},n=h({form:{},formComps:[{field:{name:"columnName"},element:{comp:"el-input",formItemProps:{label:"\u5B57\u6BB5\u540D\u79F0"},compProps:{clearable:!0,placeholder:"\u5DE6\u524D\u7F00\u5339\u914D"}}},{field:{name:"propertyName"},element:{comp:"el-input",formItemProps:{label:"\u5B9E\u4F53\u5C5E\u6027\u540D\u79F0"},compProps:{clearable:!0,placeholder:"\u5DE6\u524D\u7F00\u5339\u914D"}}},{field:{name:"lowcodeModelId",value:D.lowcodeModelId},element:{comp:"PtSelect",formItemProps:{label:"\u6A21\u578B"},compProps:{dataMethod:R}}}],tableColumns:[{label:"\u5B57\u6BB5\u540D\u79F0",prop:"columnName",fixed:!0},{label:"\u5B9E\u4F53\u5C5E\u6027\u540D\u79F0",prop:"propertyName"},{label:"\u5B57\u6BB5\u7C7B\u578B",prop:"jdbcType"},{label:"\u5B9E\u4F53\u5C5E\u6027\u7C7B\u578B",prop:"propertyType"},{label:"\u5B9E\u4F53\u5C5E\u6027\u7C7B\u578B\u5168\u8DEF\u5F84",prop:"propertyFullType",showOverflowTooltip:!0},{label:"\u5168\u6CE8\u91CA",prop:"commentFull",showOverflowTooltip:!0},{label:"\u7B80\u6D01\u6CE8\u91CA",prop:"commentSimple",showOverflowTooltip:!0},{label:"\u54CD\u5E94\u5B9E\u4F53",nestColumns:[{label:"\u662F\u5426\u4F7F\u7528",columnView:u=>e(u,"VO","isUse","\u662F\u5426\u4F7F\u7528",["UPDATE"])},{label:"\u662F\u5426\u7FFB\u8BD1\u5B57\u5178",columnView:u=>e(u,"VO","isTransDictId")}]},{label:"\u6DFB\u52A0",nestColumns:[{label:"\u662F\u5426\u4F7F\u7528",columnView:u=>e(u,"CREATE","isUse","\u662F\u5426\u4F7F\u7528",["UPDATE"])},{label:"\u662F\u5426\u5FC5\u586B",columnView:u=>e(u,"CREATE","isRequired","\u662F\u5426\u5FC5\u586B",["UPDATE"])}]},{label:"\u4FEE\u6539(\u8054\u52A8\u6DFB\u52A0)",nestColumns:[{label:"\u662F\u5426\u4F7F\u7528",columnView:u=>e(u,"UPDATE","isUse")},{label:"\u662F\u5426\u5FC5\u586B",columnView:u=>e(u,"UPDATE","isRequired")}]},{label:"\u5217\u8868\u67E5\u8BE2",nestColumns:[{label:"\u662F\u5426\u4F7F\u7528",columnView:u=>e(u,"QUERY_LIST","isUse","\u662F\u5426\u4F7F\u7528",["QUERY_PAGE"])},{label:"\u662F\u5426\u5FC5\u586B",columnView:u=>e(u,"QUERY_LIST","isRequired","\u662F\u5426\u5FC5\u586B",["QUERY_PAGE"])},{label:"\u5DE6\u6A21\u7CCA\u67E5\u8BE2",columnView:u=>e(u,"QUERY_LIST","isUseLike","\u5DE6\u6A21\u7CCA\u67E5\u8BE2",["QUERY_PAGE"])}]},{label:"\u5206\u9875\u5217\u8868\u67E5\u8BE2(\u8054\u52A8\u5217\u8868\u67E5\u8BE2)",nestColumns:[{label:"\u662F\u5426\u4F7F\u7528",columnView:u=>e(u,"QUERY_PAGE","isUse")},{label:"\u662F\u5426\u5FC5\u586B",columnView:u=>e(u,"QUERY_PAGE","isRequired")},{label:"\u5DE6\u6A21\u7CCA\u67E5\u8BE2",columnView:u=>e(u,"QUERY_PAGE","isUseLike")}]},{label:"\u6570\u636E\u5B9E\u4F53",nestColumns:[{label:"\u662F\u5426\u4F7F\u7528",columnView:u=>e(u,"DO","isUse","\u662F\u5426\u4F7F\u7528",["DOMAIN"])}]},{label:"\u9886\u57DF\u6A21\u578B(\u8054\u52A8\u6570\u636E\u5B9E\u4F53)",nestColumns:[{label:"\u662F\u5426\u4F7F\u7528",columnView:u=>e(u,"DOMAIN","isUse")}]},{label:"\u9ED8\u8BA4\u503C",prop:"defaultValue"},{label:"\u662F\u5426\u552F\u4E00",prop:"isUnique",columnView:u=>c(u,"isUnique")},{label:"\u662F\u5426\u5FC5\u586B",prop:"isRequired"},{label:"\u662F\u5426\u4E3B\u952E",prop:"isKey"},{label:"\u662F\u5426\u4E3B\u952E\u81EA\u589E",prop:"isKeyIdentity"},{label:"\u662F\u5426\u5173\u952E\u5B57",prop:"isKeyWord"},{label:"\u957F\u5EA6",prop:"columnLength"},{label:"\u5C0F\u6570\u4F4D\u957F\u5EA6",prop:"fractionLength"},{label:"\u662F\u5426\u5916\u952E",prop:"isForeignKey",columnView:u=>c(u,"isForeignKey")},{label:"\u6A21\u578B",prop:"lowcodeModelName"},{label:"\u8BBE\u8BA1\u6570\u636E",prop:"designJson",showOverflowTooltip:!0},{label:"\u63CF\u8FF0",prop:"remark"}]}),s=w({buttonText:"\u67E5\u8BE2",loading:!1,permission:"admin:web:lowcodeModelItem:pageQuery"}),P=()=>{E.value.refreshData()},g=({pageQuery:u})=>y({...n.form,...u}),V={permission:s.value.permission},_=[7,8,11,12,16,17,18,20],U=({row:u,column:o,rowIndex:l,columnIndex:r})=>_.indexOf(r)>=0?{background:"#F2F3F5"}:{};return(u,o)=>{const l=m("PtForm"),r=m("PtTable"),t=m("PtRouteViewPopover");return I(),M(T,null,[p(" \u67E5\u8BE2\u8868\u5355 "),F(l,{form:n.form,method:P,defaultButtonsShow:"submit,reset",submitAttrs:s.value,inline:"",comps:n.formComps},null,8,["form","submitAttrs","comps"]),p(" \u6307\u5B9A dataMethod\uFF0C\u9ED8\u8BA4\u52A0\u8F7D\u6570\u636E "),F(r,{ref_key:"tableRef",ref:E,"default-expand-all":"",cellStyle:U,dataMethod:g,onDataMethodDataLoading:o[0]||(o[0]=a=>s.value.loading=a),paginationProps:V,columns:n.tableColumns},null,8,["columns"]),p(" \u5B50\u7EA7\u8DEF\u7531 "),F(t,{level:3})],64)}}}),x=v(S,[["__file","/Users/yw/fh/git-source/particle/web/component/pc/lowcode/views/generator/admin/LowcodeModelItemDesignManagePage.vue"]]);export{x as default};
