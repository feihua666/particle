import{d as _,r as b,a as D,b as o,o as C,c as h,e as d,f as n,w as l,g as w,F as E,_ as T}from"./index.ddde0bc1.js";import{u as U,p as R,r as M}from"./tenantUserManage.a22af71b.js";const k=_({name:"TenantUserManagePage"}),I=_({...k,setup(N){const c=b(null),s=D({form:{},formComps:U({props:{}}),tableColumns:[{prop:"nickname",label:"\u6635\u79F0",showOverflowTooltip:!0},{prop:"name",label:"\u7528\u6237\u59D3\u540D"},{prop:"avatar",label:"\u5934\u50CF",columnView:"image"},{prop:"joinAt",label:"\u52A0\u5165\u65F6\u95F4"},{prop:"isExpired",label:"\u662F\u5426\u8FC7\u671F",formatter:(e,a,t,r)=>{let u=t?"\u5DF2\u8FC7\u671F":"\u6B63\u5E38";return t&&e.expiredReason&&(u=u+`(${e.expiredReason})`),u}},{prop:"expireAt",label:"\u5230\u671F\u65F6\u95F4"},{prop:"isLeave",label:"\u662F\u5426\u79BB\u804C/\u9000\u51FA",formatter:(e,a,t,r)=>{let u=t?"\u79BB\u804C/\u9000\u51FA":"\u6B63\u5E38";return t&&e.leaveReason&&(u=u+`(${e.leaveReason})`),u}},{prop:"leaveAt",label:"\u79BB\u804C/\u9000\u51FA\u65F6\u95F4"},{prop:"isFormal",label:"\u662F\u5426\u6B63\u5F0F",formatter:(e,a,t,r)=>t?"\u6B63\u5F0F":"\u8BD5\u7528"},{prop:"tenantName",label:"\u79DF\u6237\u540D\u79F0"}]}),m=b({buttonText:"\u67E5\u8BE2",loading:!1,permission:"admin:web:tenantUser:pageQuery"}),F=()=>{c.value.refreshData()},B=({pageQuery:e})=>R({...s.form,...e}),g={permission:m.value.permission},P=({row:e,column:a,$index:t})=>t<0?[]:[{txt:"\u7F16\u8F91",text:!0,permission:"admin:web:tenantUser:update",route:{path:"/admin/TenantUserManageUpdate",query:{...{id:e.id},userId:e.userId,userNickname:e.nickname}}},{txt:"\u5220\u9664",text:!0,permission:"admin:web:tenantUser:delete",methodConfirmText:`\u786E\u5B9A\u8981\u5220\u9664 ${e.name} \u5417\uFF1F`,method(){return M({id:e.id}).then(i=>(F(),Promise.resolve(i)))}}];return(e,a)=>{const t=o("PtButton"),r=o("PtForm"),u=o("PtButtonGroup"),f=o("el-table-column"),i=o("PtTable"),v=o("PtRouteViewPopover");return C(),h(E,null,[d(" \u67E5\u8BE2\u8868\u5355 "),n(r,{form:s.form,method:F,defaultButtonsShow:"submit,reset",submitAttrs:m.value,inline:"",comps:s.formComps},{buttons:l(()=>[n(t,{permission:"admin:web:tenantUser:create",route:"/admin/TenantUserManageAdd"},{default:l(()=>[w("\u6DFB\u52A0")]),_:1})]),_:1},8,["form","submitAttrs","comps"]),d(" \u6307\u5B9A dataMethod\uFF0C\u9ED8\u8BA4\u52A0\u8F7D\u6570\u636E "),n(i,{ref_key:"tableRef",ref:c,"default-expand-all":"",dataMethod:B,onDataMethodDataLoading:a[0]||(a[0]=p=>m.value.loading=p),paginationProps:g,columns:s.tableColumns},{defaultAppend:l(()=>[n(f,{label:"\u64CD\u4F5C",width:"180"},{default:l(({row:p,column:x,$index:A})=>[n(u,{options:P({row:p,column:x,$index:A})},null,8,["options"])]),_:1})]),_:1},8,["columns"]),d(" \u5B50\u7EA7\u8DEF\u7531 "),n(v,{level:3})],64)}}}),$=T(I,[["__file","/Users/yw/fh/git-source/particle/web/component/pc/tenant/views/admin/TenantUserManagePage.vue"]]);export{$ as default};
