import{p as w,r as x}from"./openplatformOpenapiLimitRuleAdminApi-BjAzGMWS.js";import{p as B}from"./openplatformOpenapiLimitRuleManage-DCxDEriS.js";import{d as h,r as c,a as C,b as t,o as L,c as D,e as o,w as p,f as T,F as A}from"./index-B_FSv1tI.js";const N=h({__name:"OpenplatformOpenapiLimitRuleManagePage",setup(F){const s=c(null),n=C({form:{},formComps:B,tableColumns:[{prop:"name",label:"限制名称"},{prop:"limitTypeDictName",label:"限制方式"},{prop:"limitCount",label:"限制条数"},{prop:"limitFee",label:"限制金额费用"},{prop:"limitPeriodDictName",label:"限制周期"},{prop:"limitRate",label:"限制速率"},{prop:"remark",label:"描述"}]}),i=c({buttonText:"查询",loading:!1,permission:"admin:web:openplatformOpenapiLimitRule:pageQuery"}),u=()=>{s.value.refreshData()},b=({pageQuery:e})=>w({...n.form,...e}),_={permission:i.value.permission},P=({row:e,column:a,$index:l})=>l<0?[]:[{txt:"编辑",text:!0,permission:"admin:web:openplatformOpenapiLimitRule:update",route:{path:"/admin/OpenplatformOpenapiLimitRuleManageUpdate",query:{id:e.id}}},{txt:"删除",text:!0,permission:"admin:web:openplatformOpenapiLimitRule:delete",methodConfirmText:`确定要删除 ${e.name} 吗？`,method(){return x({id:e.id}).then(m=>(u(),Promise.resolve(m)))}}];return(e,a)=>{const l=t("PtButton"),d=t("PtForm"),f=t("PtButtonGroup"),m=t("el-table-column"),R=t("PtTable"),g=t("PtRouteViewPopover");return L(),D(A,null,[o(d,{form:n.form,method:u,defaultButtonsShow:"submit,reset",submitAttrs:i.value,inline:"",comps:n.formComps},{buttons:p(()=>[o(l,{permission:"admin:web:openplatformOpenapiLimitRule:create",route:"/admin/OpenplatformOpenapiLimitRuleManageAdd"},{default:p(()=>a[1]||(a[1]=[T("添加")])),_:1})]),_:1},8,["form","submitAttrs","comps"]),o(R,{ref_key:"tableRef",ref:s,"default-expand-all":"",dataMethod:b,onDataMethodDataLoading:a[0]||(a[0]=r=>i.value.loading=r),paginationProps:_,columns:n.tableColumns},{defaultAppend:p(()=>[o(m,{label:"操作",width:"180"},{default:p(({row:r,column:v,$index:O})=>[o(f,{options:P({row:r,column:v,$index:O})},null,8,["options"])]),_:1})]),_:1},8,["columns"]),o(g,{level:3})],64)}}});export{N as default};
