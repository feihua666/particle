import{p as g,r as O}from"./openplatformOpenapiRecordCustomerMonthBillAdminApi-DzWgQLWu.js";import{p as v}from"./openplatformOpenapiRecordCustomerMonthBillManage-Cc1ZNYHu.js";import{d as w,r as f,a as x,b as n,o as D,c as F,e,w as a,f as b,F as T}from"./index-B_FSv1tI.js";import"./crmCompItem-DFGBAMXh.js";import"./crmCustomerTagAdminApi-B3nHM-WV.js";const G=w({__name:"OpenplatformOpenapiRecordCustomerMonthBillManagePage",setup(A){const i=f(null),r=x({form:{},formComps:v,tableColumns:[{prop:"customerName",label:"客户名称"},{prop:"year",label:"年"},{prop:"month",label:"月"},{prop:"totalCall",label:"调用总量"},{prop:"totalFeeCall",label:"调用计费总量"},{prop:"totalFeeAmount",label:"总消费金额（分）"},{prop:"statusDictName",label:"账单状态"},{prop:"remark",label:"描述"}]}),p=f({buttonText:"查询",loading:!1,permission:"admin:web:openplatformOpenapiRecordCustomerMonthBill:pageQuery"}),u=()=>{i.value.refreshData()},h=({pageQuery:o})=>g({...r.form,...o}),_={permission:p.value.permission},B=({row:o,column:t,$index:l})=>l<0?[]:[{txt:"编辑",text:!0,permission:"admin:web:openplatformOpenapiRecordCustomerMonthBill:update",route:{path:"/admin/OpenplatformOpenapiRecordCustomerMonthBillManageUpdate",query:{id:o.id}}},{txt:"删除",text:!0,permission:"admin:web:openplatformOpenapiRecordCustomerMonthBill:delete",methodConfirmText:`确定要删除 ${o.name} 吗？`,method(){return O({id:o.id}).then(s=>(u(),Promise.resolve(s)))}}];return(o,t)=>{const l=n("PtButton"),d=n("PtForm"),c=n("PtButtonGroup"),s=n("el-table-column"),C=n("PtTable"),M=n("PtRouteViewPopover");return D(),F(T,null,[e(d,{form:r.form,method:u,defaultButtonsShow:"submit,reset",submitAttrs:p.value,inline:"",labelWidth:"80",comps:r.formComps},{buttons:a(()=>[e(l,{permission:"admin:web:openplatformOpenapiRecordCustomerMonthBill:lastMonthStatistic",route:"/admin/openplatformOpenapiRecordCustomerMonthBillLastMonthStatistic"},{default:a(()=>t[1]||(t[1]=[b("统计上月数据")])),_:1}),e(l,{permission:"admin:web:openplatformOpenapiRecordCustomerMonthBill:thisMonthStatistic",route:"/admin/openplatformOpenapiRecordCustomerMonthBillThisMonthStatistic"},{default:a(()=>t[2]||(t[2]=[b("统计本月数据")])),_:1})]),_:1},8,["form","submitAttrs","comps"]),e(C,{ref_key:"tableRef",ref:i,"default-expand-all":"",dataMethod:h,onDataMethodDataLoading:t[0]||(t[0]=m=>p.value.loading=m),paginationProps:_,columns:r.tableColumns},{defaultAppend:a(()=>[e(s,{label:"操作",width:"180"},{default:a(({row:m,column:P,$index:R})=>[e(c,{options:B({row:m,column:P,$index:R})},null,8,["options"])]),_:1})]),_:1},8,["columns"]),e(M,{level:3})],64)}}});export{G as default};
