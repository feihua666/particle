import{d as B,M as y,r as E,a as x,N as I,b as n,o as N,c as M,e as f,f as e,w as t,g as l,F as v,_ as w}from"./index.b53d3025.js";import{p as T,a as q}from"./roleFuncRelAdminApi.ed1631bd.js";import{r as Q,a as S}from"./roleCompItem.2fa63966.js";import"./roleAdminApi.a4d0a818.js";const V=B({name:"RoleFuncRelManagePage"}),$=B({...V,props:{...y,...Q},setup(g){const C=g,R=E(null),a=x({form:{},formComps:[I({props:C,required:!1}),S({props:C,required:!1})],tableColumns:[{prop:"funcName",label:"\u529F\u80FD\u83DC\u5355\u540D\u79F0",showOverflowTooltip:!0,width:120},{prop:"roleName",label:"\u89D2\u8272\u540D\u79F0",showOverflowTooltip:!0,width:120}]}),s=E({buttonText:"\u67E5\u8BE2",loading:!1,permission:"admin:web:roleFuncRel:pageQuery"}),A=()=>{R.value.refreshData()},b=({pageQuery:u})=>T({...a.form,...u}),_={permission:s.value.permission},P=({row:u,column:F,$index:o})=>{if(o<0)return[];let m={id:u.id},i={funcId:u.funcId,funcName:u.funcName},c={funcId:u.funcId,funcName:u.funcName},d={roleId:u.roleId,roleName:u.roleName},D={roleId:u.roleId,roleName:u.roleName};return[{txt:"\u4E3A\u8BE5\u529F\u80FD\u83DC\u5355\u5206\u914D\u89D2\u8272",text:!0,permission:"admin:web:roleFuncRel:funcAssignRole",route:{path:"/admin/roleFuncRelManageFuncAssignRole",query:i}},{txt:"\u4E3A\u8BE5\u89D2\u8272\u5206\u914D\u529F\u80FD\u83DC\u5355",text:!0,permission:"admin:web:roleFuncRel:roleAssignFunc",route:{path:"/admin/roleFuncRelManageRoleAssignFunc",query:d}},{txt:"\u4E3A\u8BE5\u529F\u80FD\u83DC\u5355\u6E05\u7A7A\u89D2\u8272",text:!0,methodConfirmText:`\u60A8\u5C06\u6E05\u7A7A\u529F\u80FD\u83DC\u5355 ${u.funcName} \u6240\u6709\u89D2\u8272,\u8BE5\u529F\u80FD\u83DC\u5355\u5C06\u4E0D\u518D\u5206\u914D\u7ED9\u4EFB\u4F55\u89D2\u8272\uFF0C\u540C\u65F6\u62E5\u6709\u6D89\u53CA\u5BF9\u5E94\u89D2\u8272\u7684\u7528\u6237\u529F\u80FD\u5C06\u53D7\u5230\u5F71\u54CD\uFF0C\u8BF7\u8C28\u614E\u64CD\u4F5C\uFF01\uFF01\uFF01\uFF0C\u786E\u5B9A\u8981\u6E05\u7A7A\u5417\uFF1F`,permission:"admin:web:roleFuncRel:deleteByFuncId",route:{path:"/admin/roleFuncRelManageDeleteByFuncId",query:c}},{txt:"\u4E3A\u8BE5\u89D2\u8272\u6E05\u7A7A\u529F\u80FD\u83DC\u5355",text:!0,methodConfirmText:`\u60A8\u5C06\u6E05\u7A7A\u89D2\u8272 ${u.roleName} \u6240\u6709\u529F\u80FD\u83DC\u5355,\u8BE5\u89D2\u8272\u5C06\u4E0D\u518D\u62E5\u6709\u4EFB\u4F55\u529F\u80FD\u83DC\u5355\uFF0C\u540C\u65F6\u62E5\u6709\u8BE5\u89D2\u8272\u7684\u7528\u6237\u529F\u80FD\u5C06\u53D7\u5230\u5F71\u54CD\uFF0C\u8BF7\u8C28\u614E\u64CD\u4F5C\uFF01\uFF01\uFF01\uFF0C\u786E\u5B9A\u8981\u6E05\u7A7A\u5417\uFF1F`,permission:"admin:web:roleFuncRel:deleteByRoleId",route:{path:"/admin/roleFuncRelManageDeleteByRoleId",query:D}},{txt:"\u5220\u9664",text:!0,permission:"admin:web:roleFuncRel:delete",methodConfirmText:`\u5220\u9664\u540E\u89D2\u8272 ${u.roleName} \u5C06\u4E0D\u518D\u62E5\u6709\u529F\u80FD\u83DC\u5355 ${u.funcName}\uFF0C\u786E\u5B9A\u8981\u5220\u9664\u5417\uFF1F`,method(){return q(m).then(p=>(A(),Promise.resolve(p)))}}]};return(u,F)=>{const o=n("PtButton"),m=n("PtForm"),i=n("PtButtonGroup"),c=n("el-table-column"),d=n("PtTable"),D=n("PtRouteViewPopover");return N(),M(v,null,[f(" \u67E5\u8BE2\u8868\u5355 "),e(m,{form:a.form,method:A,defaultButtonsShow:"submit,reset",submitAttrs:s.value,inline:"",comps:a.formComps},{buttons:t(()=>[e(o,{permission:"admin:web:roleFuncRel:create",route:"/admin/roleFuncRelManageAdd"},{default:t(()=>[l("\u6DFB\u52A0")]),_:1}),e(o,{permission:"admin:web:roleFuncRel:funcAssignRole",route:"/admin/roleFuncRelManageFuncAssignRole"},{default:t(()=>[l("\u529F\u80FD\u83DC\u5355\u5206\u914D\u89D2\u8272")]),_:1}),e(o,{permission:"admin:web:roleFuncRel:roleAssignFunc",route:"/admin/roleFuncRelManageRoleAssignFunc"},{default:t(()=>[l("\u89D2\u8272\u5206\u914D\u529F\u80FD\u83DC\u5355")]),_:1}),e(o,{permission:"admin:web:roleFuncRel:deleteByFuncId",route:"/admin/roleFuncRelManageDeleteByFuncId"},{default:t(()=>[l("\u6E05\u7A7A\u529F\u80FD\u83DC\u5355\u89D2\u8272")]),_:1}),e(o,{permission:"admin:web:roleFuncRel:deleteByRoleId",route:"/admin/roleFuncRelManageDeleteByRoleId"},{default:t(()=>[l("\u6E05\u7A7A\u89D2\u8272\u529F\u80FD\u83DC\u5355")]),_:1})]),_:1},8,["form","submitAttrs","comps"]),f(" \u6307\u5B9A dataMethod\uFF0C\u9ED8\u8BA4\u52A0\u8F7D\u6570\u636E "),e(d,{ref_key:"tableRef",ref:R,"default-expand-all":"",dataMethod:b,onDataMethodDataLoading:F[0]||(F[0]=r=>s.value.loading=r),paginationProps:_,columns:a.tableColumns},{defaultAppend:t(()=>[e(c,{label:"\u64CD\u4F5C"},{default:t(({row:r,column:p,$index:h})=>[e(i,{options:P({row:r,column:p,$index:h})},null,8,["options"])]),_:1})]),_:1},8,["columns"]),f(" \u5B50\u7EA7\u8DEF\u7531 "),e(D,{level:3})],64)}}}),U=w($,[["__file","/Users/yw/fh/git-source/particle/web/component/pc/role/views/admin/RoleFuncRelManagePage.vue"]]);export{U as default};
