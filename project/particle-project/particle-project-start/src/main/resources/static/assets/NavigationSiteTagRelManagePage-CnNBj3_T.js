import{p as x,r as I}from"./navigationSiteTagRelAdminApi-D5uRW-mx.js";import{p as _}from"./navigationSiteTagRelManage-CJqerDyH.js";import{d as P,r as f,a as c,b as o,o as A,c as w,e as a,w as i,f as g,F as M}from"./index-CmUqrYxc.js";import"./navigationSiteCompItem-BGGd5YF3.js";import"./navigationSiteAdminApi-osLWhSx0.js";import"./navigationSiteTagCompItem-Bcq1VbWy.js";import"./navigationSiteTagAdminApi-DQAoglnI.js";const k=P({__name:"NavigationSiteTagRelManagePage",setup(C){const T=f(null),s=c({form:{},formComps:_,tableColumns:[{prop:"navigationSiteName",label:"导航网站",width:150,showOverflowTooltip:!0},{prop:"navigationSiteTagName",label:"网站标签",width:150,showOverflowTooltip:!0}]}),l=f({buttonText:"查询",loading:!1,permission:"admin:web:navigationSiteTagRel:pageQuery"}),N=()=>{T.value.refreshData()},b=({pageQuery:t})=>x({...s.form,...t}),R={permission:l.value.permission},y=({row:t,column:e,$index:n})=>{if(n<0)return[];let r={id:t.id},v={navigationSiteTagId:t.navigationSiteTagId,navigationSiteTagName:t.navigationSiteTagName},d={navigationSiteTagId:t.navigationSiteTagId,navigationSiteTagName:t.navigationSiteTagName},u={navigationSiteId:t.navigationSiteId,navigationSiteName:t.navigationSiteName},S={navigationSiteId:t.navigationSiteId,navigationSiteName:t.navigationSiteName};return[{txt:"为该网站标签分配网站",text:!0,permission:"admin:web:navigationSiteTagRel:navigationSiteTagAssignNavigationSite",route:{path:"/admin/navigationSiteTagRelManageNavigationSiteTagAssignNavigationSite",query:v}},{txt:"为该网站分配网站标签",text:!0,permission:"admin:web:navigationSiteTagRel:navigationSiteAssignNavigationSiteTag",route:{path:"/admin/navigationSiteTagRelManageNavigationSiteAssignNavigationSiteTag",query:u}},{txt:"为该网站标签清空网站",text:!0,methodConfirmText:`您将清空网站标签 ${t.navigationSiteTagName} 所有网站,该网站标签将不再分配给任何网站，同时拥有涉及对应网站的用户网站标签将受到影响，请谨慎操作！！！，确定要清空吗？`,permission:"admin:web:navigationSiteTagRel:deleteByNavigationSiteTagId",route:{path:"/admin/navigationSiteTagRelManageDeleteByNavigationSiteTagId",query:d}},{txt:"为该网站清空网站标签",text:!0,methodConfirmText:`您将清空网站 ${t.navigationSiteName} 所有网站标签,该网站将不再拥有任何网站标签，同时拥有该网站的用户网站标签将受到影响，请谨慎操作！！！，确定要清空吗？`,permission:"admin:web:navigationSiteTagRel:deleteByNavigationSiteId",route:{path:"/admin/navigationSiteTagRelManageDeleteByNavigationSiteId",query:S}},{txt:"删除",text:!0,permission:"admin:web:navigationSiteTagRel:delete",methodConfirmText:`删除后网站 ${t.navigationSiteName} 将不再拥有网站标签 ${t.navigationSiteTagName}，确定要删除吗？`,method(){return I(r).then(p=>(N(),Promise.resolve(p)))}}]};return(t,e)=>{const n=o("PtButton"),r=o("PtForm"),v=o("PtButtonGroup"),d=o("el-table-column"),u=o("PtTable"),S=o("PtRouteViewPopover");return A(),w(M,null,[a(r,{form:s.form,method:N,defaultButtonsShow:"submit,reset",submitAttrs:l.value,inline:"",comps:s.formComps},{buttons:i(()=>[a(n,{permission:"admin:web:navigationSiteTagRel:create",route:"/admin/NavigationSiteTagRelManageAdd"},{default:i(()=>e[1]||(e[1]=[g("添加")])),_:1}),a(n,{permission:"admin:web:navigationSiteTagRel:navigationSiteTagAssignNavigationSite",route:"/admin/navigationSiteTagRelManageNavigationSiteTagAssignNavigationSite"},{default:i(()=>e[2]||(e[2]=[g("网站标签分配网站")])),_:1}),a(n,{permission:"admin:web:navigationSiteTagRel:navigationSiteAssignNavigationSiteTag",route:"/admin/navigationSiteTagRelManageNavigationSiteAssignNavigationSiteTag"},{default:i(()=>e[3]||(e[3]=[g("网站分配网站标签")])),_:1}),a(n,{permission:"admin:web:navigationSiteTagRel:deleteByNavigationSiteTagId",route:"/admin/navigationSiteTagRelManageDeleteByNavigationSiteTagId"},{default:i(()=>e[4]||(e[4]=[g("清空网站标签网站")])),_:1}),a(n,{permission:"admin:web:navigationSiteTagRel:deleteByNavigationSiteId",route:"/admin/navigationSiteTagRelManageDeleteByNavigationSiteId"},{default:i(()=>e[5]||(e[5]=[g("清空网站网站标签")])),_:1})]),_:1},8,["form","submitAttrs","comps"]),a(u,{ref_key:"tableRef",ref:T,"default-expand-all":"",dataMethod:b,onDataMethodDataLoading:e[0]||(e[0]=m=>l.value.loading=m),paginationProps:R,columns:s.tableColumns},{defaultAppend:i(()=>[a(d,{label:"操作"},{default:i(({row:m,column:p,$index:B})=>[a(v,{options:y({row:m,column:p,$index:B})},null,8,["options"])]),_:1})]),_:1},8,["columns"]),a(S,{level:3})],64)}}});export{k as default};
