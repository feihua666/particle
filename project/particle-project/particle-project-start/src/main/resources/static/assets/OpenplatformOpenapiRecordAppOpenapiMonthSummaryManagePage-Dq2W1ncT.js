import{p as M,a as R,r as g}from"./openplatformOpenapiRecordAppOpenapiMonthSummaryManage-CNkblh2O.js";import{d as S,r as f,a as y,b as p,o as T,c as B,e as o,w as a,f as c,F as C}from"./index-DoSQKVHz.js";import"./openplatformAppCompItem-DNS8PSr7.js";import"./openplatformAppAdminApi-DWAOHSml.js";import"./oauth2authorizationRegisteredClientCompItem-Dg-UHKEO.js";import"./oauth2RegisteredClientAdminApi-BHTRzjQ_.js";import"./openplatformOpenapiCompItem-MccejH1j.js";import"./crmCompItem-DK6SWanq.js";import"./crmCustomerTagAdminApi-BwLtPg7c.js";const Q=S({__name:"OpenplatformOpenapiRecordAppOpenapiMonthSummaryManagePage",setup(x){const s=f(null),n=y({form:{},formComps:M,tableColumns:[{prop:"openplatformAppName",label:"应用名称",showOverflowTooltip:!0},{prop:"appId",label:"appId",showOverflowTooltip:!0},{prop:"openplatformOpenapiName",label:"开放平台接口名称",showOverflowTooltip:!0},{prop:"year",label:"年"},{prop:"month",label:"月"},{prop:"customerName",label:"客户名称",showOverflowTooltip:!0},{prop:"totalCall",label:"调用总量"},{prop:"totalFeeCall",label:"调用计费总量"},{prop:"averageUnitPriceAmount",label:"平均单价金额（分）"},{prop:"totalFeeAmount",label:"总消费金额（分）"},{prop:"remark",label:"描述"}]}),l=f({buttonText:"查询",loading:!1,permission:"admin:web:openplatformOpenapiRecordAppOpenapiMonthSummary:pageQuery"}),u=()=>{s.value.refreshData()},b=({pageQuery:e})=>R({...n.form,...e}),h={permission:l.value.permission},O=({row:e,column:t,$index:r})=>r<0?[]:(e.id,[{txt:"删除",text:!0,permission:"admin:web:openplatformOpenapiRecordAppOpenapiMonthSummary:delete",methodConfirmText:`确定要删除 ${e.name} 吗？`,method(){return g({id:e.id}).then(m=>(u(),Promise.resolve(m)))}}]);return(e,t)=>{const r=p("PtButton"),d=p("PtForm"),m=p("PtButtonGroup"),_=p("el-table-column"),w=p("PtTable"),P=p("PtRouteViewPopover");return T(),B(C,null,[o(d,{form:n.form,method:u,defaultButtonsShow:"submit,reset",submitAttrs:l.value,inline:"",labelWidth:"80",comps:n.formComps},{buttons:a(()=>[o(r,{permission:"admin:web:openplatformOpenapiRecordAppOpenapiMonthSummary:lastMonthStatistic",route:"/admin/openplatformOpenapiRecordAppOpenapiMonthSummaryLastMonthStatistic"},{default:a(()=>t[1]||(t[1]=[c("统计上月数据")])),_:1}),o(r,{permission:"admin:web:openplatformOpenapiRecordAppOpenapiMonthSummary:thisMonthStatistic",route:"/admin/openplatformOpenapiRecordAppOpenapiMonthSummaryThisMonthStatistic"},{default:a(()=>t[2]||(t[2]=[c("统计本月数据")])),_:1})]),_:1},8,["form","submitAttrs","comps"]),o(w,{ref_key:"tableRef",ref:s,"default-expand-all":"",dataMethod:b,onDataMethodDataLoading:t[0]||(t[0]=i=>l.value.loading=i),paginationProps:h,columns:n.tableColumns},{defaultAppend:a(()=>[o(_,{label:"操作",width:"180"},{default:a(({row:i,column:v,$index:A})=>[o(m,{options:O({row:i,column:v,$index:A})},null,8,["options"])]),_:1})]),_:1},8,["columns"]),o(P,{level:3})],64)}}});export{Q as default};
