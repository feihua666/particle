import{p as x,r as B}from"./navigationSiteTagAdminApi-DS2VdtE6.js";import{p as h}from"./navigationSiteTagManage-C_wpgskc.js";import{d as S,r as g,a as C,b as e,o as D,c as N,e as o,w as i,f as R,F as A}from"./index-BAoWe_iC.js";const y=S({__name:"NavigationSiteTagManagePage",setup(M){const p=g(null),n=C({form:{},formComps:h,tableColumns:[{prop:"code",label:"标签编码"},{prop:"name",label:"标签名称"},{prop:"groupDictName",label:"分组"},{prop:"seq",label:"排序"},{prop:"remark",label:"备注"}]}),r=g({buttonText:"查询",loading:!1,permission:"admin:web:navigationSiteTag:pageQuery"}),u=()=>{p.value.refreshData()},b=({pageQuery:t})=>x({...n.form,...t}),f={permission:r.value.permission},_=({row:t,column:a,$index:s})=>s<0?[]:[{txt:"编辑",text:!0,permission:"admin:web:navigationSiteTag:update",route:{path:"/admin/NavigationSiteTagManageUpdate",query:{id:t.id}}},{txt:"删除",text:!0,permission:"admin:web:navigationSiteTag:delete",methodConfirmText:`确定要删除 ${t.name} 吗？`,method(){return B({id:t.id}).then(m=>(u(),Promise.resolve(m)))}}];return(t,a)=>{const s=e("PtButton"),d=e("PtForm"),c=e("PtButtonGroup"),m=e("el-table-column"),v=e("PtTable"),P=e("PtRouteViewPopover");return D(),N(A,null,[o(d,{form:n.form,method:u,defaultButtonsShow:"submit,reset",submitAttrs:r.value,inline:"",comps:n.formComps},{buttons:i(()=>[o(s,{permission:"admin:web:navigationSiteTag:create",route:"/admin/NavigationSiteTagManageAdd"},{default:i(()=>a[1]||(a[1]=[R("添加")])),_:1})]),_:1},8,["form","submitAttrs","comps"]),o(v,{ref_key:"tableRef",ref:p,"default-expand-all":"",dataMethod:b,onDataMethodDataLoading:a[0]||(a[0]=l=>r.value.loading=l),paginationProps:f,columns:n.tableColumns},{defaultAppend:i(()=>[o(m,{label:"操作",width:"180"},{default:i(({row:l,column:T,$index:w})=>[o(c,{options:_({row:l,column:T,$index:w})},null,8,["options"])]),_:1})]),_:1},8,["columns"]),o(P,{level:3})],64)}}});export{y as default};
