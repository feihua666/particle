import{k as s,d as v,r as P,a as q,b as p,o as T,c as y,e as r,w as a,m as c,f as b,F as N}from"./index-BAoWe_iC.js";let i="/admin/web/ssq_code";const A=l=>s.post(i+"/allCodeInit",l),L=l=>s.put(i+"/allCodeUpdate",l),F=l=>s.put(i+"/allCodeStop",l),M=l=>s.get(i+"/page",{params:l,timeout:10*60*1e3}),k=[{field:{name:"seqNo"},element:{comp:"el-input",formItemProps:{label:"序号"},compProps:{}}},{field:{name:"redSeqNo"},element:{comp:"el-input",formItemProps:{label:"红球序号"},compProps:{}}},{field:{name:"red1"},element:{comp:"el-input",formItemProps:{label:"红球1"},compProps:{}}},{field:{name:"red2"},element:{comp:"el-input",formItemProps:{label:"红球2"},compProps:{}}},{field:{name:"red3"},element:{comp:"el-input",formItemProps:{label:"红球3"},compProps:{}}},{field:{name:"red4"},element:{comp:"el-input",formItemProps:{label:"红球4"},compProps:{}}},{field:{name:"red5"},element:{comp:"el-input",formItemProps:{label:"红球5"},compProps:{}}},{field:{name:"red6"},element:{comp:"el-input",formItemProps:{label:"红球6"},compProps:{}}},{field:{name:"blue"},element:{comp:"el-input",formItemProps:{label:"蓝球"},compProps:{}}},{field:{name:"redSum"},element:{comp:"el-input",formItemProps:{label:"红球和值"},compProps:{}}},{field:{name:"redSumLast"},element:{comp:"el-input",formItemProps:{label:"红球和尾值"},compProps:{}}},{field:{name:"redBlueSum"},element:{comp:"el-input",formItemProps:{label:"总和值"},compProps:{}}},{field:{name:"redBlueSumLast"},element:{comp:"el-input",formItemProps:{label:"总和尾值"},compProps:{}}},{field:{name:"redSpan"},element:{comp:"el-input",formItemProps:{label:"红球跨度"},compProps:{}}},{field:{name:"redAc"},element:{comp:"el-input",formItemProps:{label:"红球ac值"},compProps:{}}},{field:{name:"redRegion1Ratio"},element:{comp:"el-input",formItemProps:{label:"红1区个数"},compProps:{}}},{field:{name:"redRegion2Ratio"},element:{comp:"el-input",formItemProps:{label:"红2区个数"},compProps:{}}},{field:{name:"redRegion3Ratio"},element:{comp:"el-input",formItemProps:{label:"红3区个数"},compProps:{}}},{field:{name:"redOddRatio"},element:{comp:"el-input",formItemProps:{label:"红奇数个数"},compProps:{}}},{field:{name:"redEvenRatio"},element:{comp:"el-input",formItemProps:{label:"红偶数个数"},compProps:{}}},{field:{name:"serialTimes"},element:{comp:"el-input",formItemProps:{label:"红连号个数"},compProps:{}}}],E=v({__name:"SsqCodeManagePage",setup(l){const f=P(null),n=q({form:{},formComps:k,tableColumns:[{prop:"seqNo",label:"序号"},{prop:"redSeqNo",label:"红球序号"},{prop:"red1",label:"红球1"},{prop:"red2",label:"红球2"},{prop:"red3",label:"红球3"},{prop:"red4",label:"红球4"},{prop:"red5",label:"红球5"},{prop:"red6",label:"红球6"},{prop:"blue",label:"蓝球"},{prop:"redSum",label:"红球和值"},{prop:"redSumLast",label:"红球和尾值"},{prop:"redBlueSum",label:"总和值"},{prop:"redBlueSumLast",label:"总和尾值"},{prop:"redSpan",label:"红球跨度"},{prop:"redAc",label:"红球ac值"},{prop:"redRegion1Ratio",label:"红1区个数"},{prop:"redRegion2Ratio",label:"红2区个数"},{prop:"redRegion3Ratio",label:"红3区个数"},{prop:"redOddRatio",label:"红奇数个数"},{prop:"redEvenRatio",label:"红偶数个数"},{prop:"isHasSerialNum",label:"包含连号",formatter:(t,e,o,m)=>o?"连号":""},{prop:"serialTimes",label:"红连号个数"},{prop:"maxSerialLength",label:"连号最大长度"},{prop:"isHasEvenSerialNum",label:"包含偶连号",formatter:(t,e,o,m)=>o?"偶连号":""},{prop:"evenSerialTimes",label:"偶红连号个数"},{prop:"evenMaxSerialLength",label:"偶连号最大长度"},{prop:"isRedIncludeBlue",label:"是否红蓝重号",formatter:(t,e,o,m)=>o?"红蓝重号":""},{prop:"isBlueOdd",label:"是否蓝球为奇数",formatter:(t,e,o,m)=>o?"奇":""}]}),d=P({buttonText:"查询",loading:!1,permission:"admin:web:ssqCode:pageQuery"}),C=()=>{f.value.refreshData()},I=({pageQuery:t})=>M({...n.form,...t}),S={permission:d.value.permission},R=({row:t,column:e,$index:o})=>o<0?[]:(t.id,[]);return(t,e)=>{const o=p("PtButton"),m=p("PtForm"),g=p("PtButtonGroup"),_=p("el-table-column"),w=p("PtTable"),x=p("PtRouteViewPopover");return T(),y(N,null,[r(m,{form:n.form,method:C,defaultButtonsShow:"submit,reset",submitAttrs:d.value,inline:"",labelWidth:"100",comps:n.formComps},{buttons:a(()=>[r(o,{permission:"admin:web:ssqCode:allCodeInit",type:"primary",methodSuccess:"恭喜，初始化添加完成！",method:c(A),methodConfirmText:"确定要初始化所有号码吗？初始化目的是数据为空的情况下执行，否则可能需要执行更新操作，一般时间较长，页面会断开，但不影响数据去重，当总条数为17721008时代表完成"},{default:a(()=>e[1]||(e[1]=[b("初始化添加所有号码")])),_:1},8,["method"]),r(o,{permission:"admin:web:ssqCode:allCodeUpdate",type:"primary",methodSuccess:"恭喜，更新完成！",method:c(L),methodConfirmText:"确定要更新所有号码吗？仅用于逻辑有误或新加字段情况下使用，否则不要随意更新，无意义！"},{default:a(()=>e[2]||(e[2]=[b("更新所有号码")])),_:1},8,["method"]),r(o,{permission:"admin:web:ssqCode:allCodeStop",type:"primary",methodSuccess:"恭喜，停止完成！",method:c(F),methodConfirmText:"确定要停止正在运行的初始化或更新任务吗？停止仍可半继续运行，已经处理过的数据将会跳过"},{default:a(()=>e[3]||(e[3]=[b("停止初始化或更新所有号码")])),_:1},8,["method"])]),_:1},8,["form","submitAttrs","comps"]),r(w,{ref_key:"tableRef",ref:f,"default-expand-all":"",dataMethod:I,onDataMethodDataLoading:e[0]||(e[0]=u=>d.value.loading=u),paginationProps:S,columns:n.tableColumns},{defaultAppend:a(()=>[r(_,{label:"操作",width:"180"},{default:a(({row:u,column:h,$index:B})=>[r(g,{options:R({row:u,column:h,$index:B})},null,8,["options"])]),_:1})]),_:1},8,["columns"]),r(x,{level:3})],64)}}});export{E as default};
