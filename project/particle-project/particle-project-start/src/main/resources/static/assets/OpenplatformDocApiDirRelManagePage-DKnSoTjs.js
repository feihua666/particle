import{p as v,a as w,r as x}from"./openplatformDocApiDirRelManage-LlYdrIwk.js";import{d as B,r as f,a as h,b as e,o as C,c as M,e as o,w as r,f as T,F}from"./index-DoSQKVHz.js";import"./openplatformDocCompItem-CTq4K4EO.js";import"./openplatformDocDirNameAdminApi-BdaW_xDa.js";import"./openplatformDocApiAdminApi-CYr1yg_R.js";import"./openplatformDocApiDocTemplateAdminApi-DiMT_3ZR.js";const E=B({__name:"OpenplatformDocApiDirRelManagePage",setup(N){const s=f(null),a=h({form:{},formComps:v,tableColumns:[{prop:"openplatformDocApiName",label:"接口"},{prop:"openplatformDocDirName",label:"目录"}]}),p=f({buttonText:"查询",loading:!1,permission:"admin:web:openplatformDocApiDirRel:pageQuery"}),u=()=>{s.value.refreshData()},b=({pageQuery:t})=>w({...a.form,...t}),D={permission:p.value.permission},_=({row:t,column:n,$index:m})=>m<0?[]:[{txt:"编辑",text:!0,permission:"admin:web:openplatformDocApiDirRel:update",route:{path:"/admin/OpenplatformDocApiDirRelManageUpdate",query:{id:t.id}}},{txt:"删除",text:!0,permission:"admin:web:openplatformDocApiDirRel:delete",methodConfirmText:`确定要删除 ${t.name} 吗？`,method(){return x({id:t.id}).then(l=>(u(),Promise.resolve(l)))}}];return(t,n)=>{const m=e("PtButton"),c=e("PtForm"),d=e("PtButtonGroup"),l=e("el-table-column"),P=e("PtTable"),g=e("PtRouteViewPopover");return C(),M(F,null,[o(c,{form:a.form,method:u,defaultButtonsShow:"submit,reset",submitAttrs:p.value,inline:"",comps:a.formComps},{buttons:r(()=>[o(m,{permission:"admin:web:openplatformDocApiDirRel:create",route:"/admin/OpenplatformDocApiDirRelManageAdd"},{default:r(()=>n[1]||(n[1]=[T("添加")])),_:1})]),_:1},8,["form","submitAttrs","comps"]),o(P,{ref_key:"tableRef",ref:s,"default-expand-all":"",dataMethod:b,onDataMethodDataLoading:n[0]||(n[0]=i=>p.value.loading=i),paginationProps:D,columns:a.tableColumns},{defaultAppend:r(()=>[o(l,{label:"操作",width:"180"},{default:r(({row:i,column:A,$index:R})=>[o(d,{options:_({row:i,column:A,$index:R})},null,8,["options"])]),_:1})]),_:1},8,["columns"]),o(g,{level:3})],64)}}});export{E as default};
