import{p as x,a as B,r as D}from"./deptUserRelManage-orVVvunM.js";import{d as h,r as b,a as U,b as t,o as C,c as A,e as o,w as s,f as M,F as T}from"./index-BAoWe_iC.js";const y=h({__name:"DeptUserRelManagePage",setup(F){const i=b(null),a=U({form:{},formComps:x,tableColumns:[{prop:"userId",label:"用户id"},{prop:"deptId",label:"部门id"}]}),r=b({buttonText:"查询",loading:!1,permission:"admin:web:deptUserRel:pageQuery"}),u=()=>{i.value.refreshData()},f=({pageQuery:e})=>B({...a.form,...e}),_={permission:r.value.permission},P=({row:e,column:n,$index:l})=>l<0?[]:[{txt:"编辑",text:!0,permission:"admin:web:deptUserRel:update",route:{path:"/admin/DeptUserRelManageUpdate",query:{id:e.id}}},{txt:"删除",text:!0,permission:"admin:web:deptUserRel:delete",methodConfirmText:`确定要删除 ${e.name} 吗？`,method(){return D({id:e.id}).then(m=>(u(),Promise.resolve(m)))}}];return(e,n)=>{const l=t("PtButton"),d=t("PtForm"),c=t("PtButtonGroup"),m=t("el-table-column"),g=t("PtTable"),R=t("PtRouteViewPopover");return C(),A(T,null,[o(d,{form:a.form,method:u,defaultButtonsShow:"submit,reset",submitAttrs:r.value,inline:"",comps:a.formComps},{buttons:s(()=>[o(l,{permission:"admin:web:deptUserRel:create",route:"/admin/DeptUserRelManageAdd"},{default:s(()=>n[1]||(n[1]=[M("添加")])),_:1})]),_:1},8,["form","submitAttrs","comps"]),o(g,{ref_key:"tableRef",ref:i,"default-expand-all":"",dataMethod:f,onDataMethodDataLoading:n[0]||(n[0]=p=>r.value.loading=p),paginationProps:_,columns:a.tableColumns},{defaultAppend:s(()=>[o(m,{label:"操作",width:"180"},{default:s(({row:p,column:v,$index:w})=>[o(c,{options:P({row:p,column:v,$index:w})},null,8,["options"])]),_:1})]),_:1},8,["columns"]),o(R,{level:3})],64)}}});export{y as default};
