import{k as b,d as x,r as d,a as y,b as p,o as O,c as v,e as s,w as f,F as R}from"./index-BAoWe_iC.js";let _="/admin/web/openplatform_openapi_batch_query_record_detail";const D=o=>b.delete(_+"/delete",{data:o}),T=o=>b.get(_+"/page",{params:o}),C=[{field:{name:"executeStatusDictId"},element:{comp:"PtDictFrontSelect",formItemProps:{label:"执行状态"},compProps:{dictParam:{groupCode:"open_platform_batch_query_execute_status"}}}},{field:{name:"traceId"},element:{comp:"el-input",formItemProps:{label:"traceId"},compProps:{clearable:!0}}},{field:{name:"spanId"},element:{comp:"el-input",formItemProps:{label:"spanId"},compProps:{clearable:!0}}}],q=x({__name:"OpenplatformOpenapiBatchQueryRecordDetailManagePage",props:{openplatformOpenapiBatchQueryRecordId:{type:String}},setup(o){const c=d(null),n=y({form:{openplatformOpenapiBatchQueryRecordId:o.openplatformOpenapiBatchQueryRecordId},formComps:C,tableColumns:[{prop:"executeStatusDictName",label:"执行状态"},{prop:"isSuccess",label:"是否成功",formatter:(e,r,t,l)=>t==null?null:t?"查询成功":"查询失败"},{prop:"queryAt",label:"查询时间"},{prop:"traceId | spanId",label:"traceId | spanId",formatter:(e,r,t,l)=>!e.traceId&&!e.spanId?null:`${e.traceId} | ${e.spanId}`,showOverflowTooltip:!0},{prop:"requestParam",label:"请求参数",showOverflowTooltip:!0},{prop:"queryString",label:"请求查询字符串",showOverflowTooltip:!0},{prop:"responseResult",label:"响应数据",showOverflowTooltip:!0},{prop:"requestNonce",label:"请求流水号",showOverflowTooltip:!0}]}),m=d({buttonText:"查询",loading:!1,permission:"admin:web:openplatformOpenapiBatchQueryRecordDetail:pageQuery"}),i=()=>{c.value.refreshData()},h=({pageQuery:e})=>T({...n.form,...e}),P={permission:m.value.permission},I=({row:e,column:r,$index:t})=>t<0?[]:(e.id,[{txt:"删除",text:!0,permission:"admin:web:openplatformOpenapiBatchQueryRecordDetail:delete",methodConfirmText:`确定要删除 ${e.name} 吗？`,method(){return D({id:e.id}).then(a=>(i(),Promise.resolve(a)))}}]);return(e,r)=>{const t=p("PtForm"),l=p("PtButtonGroup"),a=p("el-table-column"),g=p("PtTable");return O(),v(R,null,[s(t,{form:n.form,method:i,defaultButtonsShow:"submit,reset",submitAttrs:m.value,inline:"",comps:n.formComps},null,8,["form","submitAttrs","comps"]),s(g,{ref_key:"tableRef",ref:c,"default-expand-all":"",dataMethod:h,onDataMethodDataLoading:r[0]||(r[0]=u=>m.value.loading=u),paginationProps:P,columns:n.tableColumns},{defaultAppend:f(()=>[s(a,{label:"操作",width:"80"},{default:f(({row:u,column:w,$index:B})=>[s(l,{options:I({row:u,column:w,$index:B})},null,8,["options"])]),_:1})]),_:1},8,["columns"])],64)}}});export{q as default};
