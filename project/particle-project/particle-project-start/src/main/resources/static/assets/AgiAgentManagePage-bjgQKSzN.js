import{p as x,a as P,r as T}from"./agiAgentManage-DZZv17qZ.js";import{d as O,r as f,a as B,b as a,o as C,c as M,e as l,w as s,f as D,F as R,ad as U}from"./index-BAoWe_iC.js";const V=O({__name:"AgiAgentManagePage",setup(k){const m=f(null),n=B({form:{},formComps:x,tableColumns:[{prop:"name",label:"智能体名称",showOverflowTooltip:!0},{prop:"avatar",label:"智能体头像",columnView:"image",width:80},{prop:"profile",label:"智能体简介",showOverflowTooltip:!0},{prop:"role",label:"角色设定",showOverflowTooltip:!0},{prop:"isUsePrologue",label:"是否使用开场白",formatter:(o,t,e,r)=>e?"使用":"不使用"},{prop:"prologue",label:"开场白开场文案",showOverflowTooltip:!0},{prop:"prologueQuestionsJson",label:"开场白问题",showOverflowTooltip:!0},{prop:"isAutoPrologue",label:"是否自动生成开场白开场文案",formatter:(o,t,e,r)=>e?"使用":"不使用"},{prop:"isUseAutoAsk",label:"是否使用自动追问",formatter:(o,t,e,r)=>e?"使用":"不使用"},{prop:"presetDialogueJson",label:"预设对话",showOverflowTooltip:!0},{prop:"autoAskRule",label:"自动追问规则",showOverflowTooltip:!0},{prop:"quickInstructionsJson",label:"快捷指令",showOverflowTooltip:!0},{prop:"isUseOnlineSearch",label:"是否使用联网搜索",formatter:(o,t,e,r)=>e?"使用":"不使用"},{prop:"isUseKnowledgeBase",label:"是否使用知识库",formatter:(o,t,e,r)=>e?"使用":"不使用"},{prop:"agiKnowledgeBaseId",label:"知识库id",showOverflowTooltip:!0},{prop:"isUseMcp",label:"是否使用mcp",formatter:(o,t,e,r)=>e?"使用":"不使用"},{prop:"mcpPluginsJson",label:"mcp插件配置",showOverflowTooltip:!0},{prop:"isUseLongTermMemory",label:"是否使用长期记忆",formatter:(o,t,e,r)=>e?"使用":"不使用"},{prop:"isUseVoice",label:"是否使用声音",formatter:(o,t,e,r)=>e?"使用":"不使用"},{prop:"voiceJson",label:"声音配置",showOverflowTooltip:!0},{prop:"modelJson",label:"模型配置",showOverflowTooltip:!0},{prop:"historyMessageMaxLength",label:"附带历史消息数"},{prop:"historyMessageCompressionThreshold",label:"历史消息长度压缩阈值"},{prop:"remark",label:"描述",showOverflowTooltip:!0}]}),p=f({buttonText:"查询",loading:!1,permission:"admin:web:agiAgent:pageQuery"}),d=()=>{m.value.refreshData()},g=({pageQuery:o})=>P({...n.form,...o}),w={permission:p.value.permission},h=({row:o,column:t,$index:e})=>{if(e<0)return[];let r={id:o.id};return[{txt:"发起对话",text:!0,permission:"front:web:agiAgent:chatStream",route:{path:"/admin/agiAgentChatPage",query:{id:o.id,chatId:U()}}},{txt:"编辑",text:!0,permission:"admin:web:agiAgent:update",route:{path:"/admin/AgiAgentManageUpdate",query:r}},{txt:"删除",text:!0,permission:"admin:web:agiAgent:delete",methodConfirmText:`确定要删除 ${o.name} 吗？`,method(){return T({id:o.id}).then(i=>(d(),Promise.resolve(i)))}}]};return(o,t)=>{const e=a("PtButton"),r=a("PtForm"),c=a("PtButtonGroup"),b=a("el-table-column"),i=a("PtTable"),v=a("PtRouteViewPopover");return C(),M(R,null,[l(r,{form:n.form,method:d,defaultButtonsShow:"submit,reset",submitAttrs:p.value,inline:"",comps:n.formComps},{buttons:s(()=>[l(e,{permission:"admin:web:agiAgent:create",route:"/admin/AgiAgentManageAdd"},{default:s(()=>t[1]||(t[1]=[D("添加")])),_:1})]),_:1},8,["form","submitAttrs","comps"]),l(i,{ref_key:"tableRef",ref:m,"default-expand-all":"",dataMethod:g,onDataMethodDataLoading:t[0]||(t[0]=u=>p.value.loading=u),paginationProps:w,columns:n.tableColumns},{defaultAppend:s(()=>[l(b,{label:"操作",width:"180"},{default:s(({row:u,column:A,$index:_})=>[l(c,{options:h({row:u,column:A,$index:_})},null,8,["options"])]),_:1})]),_:1},8,["columns"]),l(v,{level:3})],64)}}});export{V as default};
