import{p as O,r as R}from"./openplatformOpenapiRecordAppMonthBillAdminApi-DoRF9Wf7.js";import{p as v}from"./openplatformOpenapiRecordAppMonthBillManage-BUIm2pJC.js";import{d as g,r as c,a as x,b as p,o as T,c as C,e as o,w as a,f as b,F as D}from"./index-q46_oeYE.js";import"./openplatformAppCompItem-Dj0G8_zr.js";import"./openplatformAppAdminApi-CAEJV6vA.js";import"./oauth2authorizationRegisteredClientCompItem-UP4txer3.js";import"./oauth2RegisteredClientAdminApi-LYgvq4AI.js";import"./crmCompItem-BJXRjKP2.js";import"./crmCustomerTagAdminApi-DDE090MZ.js";const E=g({__name:"OpenplatformOpenapiRecordAppMonthBillManagePage",setup(F){const m=c(null),n=x({form:{},formComps:v,tableColumns:[{prop:"openplatformAppName",label:"应用名称",showOverflowTooltip:!0},{prop:"appId",label:"appId",showOverflowTooltip:!0},{prop:"customerName",label:"客户名称",showOverflowTooltip:!0},{prop:"year",label:"年"},{prop:"month",label:"月"},{prop:"totalCall",label:"调用总量"},{prop:"totalFeeCall",label:"调用计费总量"},{prop:"totalFeeAmount",label:"总消费金额（分）"},{prop:"statusDictName",label:"账单状态"},{prop:"remark",label:"描述",showOverflowTooltip:!0}]}),r=c({buttonText:"查询",loading:!1,permission:"admin:web:openplatformOpenapiRecordAppMonthBill:pageQuery"}),u=()=>{m.value.refreshData()},h=({pageQuery:e})=>O({...n.form,...e}),_={permission:r.value.permission},w=({row:e,column:t,$index:l})=>l<0?[]:[{txt:"编辑",text:!0,permission:"admin:web:openplatformOpenapiRecordAppMonthBill:update",route:{path:"/admin/OpenplatformOpenapiRecordAppMonthBillManageUpdate",query:{id:e.id}}},{txt:"删除",text:!0,permission:"admin:web:openplatformOpenapiRecordAppMonthBill:delete",methodConfirmText:`确定要删除 ${e.name} 吗？`,method(){return R({id:e.id}).then(i=>(u(),Promise.resolve(i)))}}];return(e,t)=>{const l=p("PtButton"),d=p("PtForm"),f=p("PtButtonGroup"),i=p("el-table-column"),B=p("PtTable"),M=p("PtRouteViewPopover");return T(),C(D,null,[o(d,{form:n.form,method:u,defaultButtonsShow:"submit,reset",submitAttrs:r.value,inline:"",labelWidth:"80",comps:n.formComps},{buttons:a(()=>[o(l,{permission:"admin:web:openplatformOpenapiRecordAppMonthBill:lastMonthStatistic",route:"/admin/openplatformOpenapiRecordAppMonthBillLastMonthStatistic"},{default:a(()=>t[1]||(t[1]=[b("统计上月数据")])),_:1}),o(l,{permission:"admin:web:openplatformOpenapiRecordAppMonthBill:thisMonthStatistic",route:"/admin/openplatformOpenapiRecordAppMonthBillThisMonthStatistic"},{default:a(()=>t[2]||(t[2]=[b("统计本月数据")])),_:1})]),_:1},8,["form","submitAttrs","comps"]),o(B,{ref_key:"tableRef",ref:m,"default-expand-all":"",dataMethod:h,onDataMethodDataLoading:t[0]||(t[0]=s=>r.value.loading=s),paginationProps:_,columns:n.tableColumns},{defaultAppend:a(()=>[o(i,{label:"操作",width:"180"},{default:a(({row:s,column:P,$index:A})=>[o(f,{options:w({row:s,column:P,$index:A})},null,8,["options"])]),_:1})]),_:1},8,["columns"]),o(M,{level:3})],64)}}});export{E as default};
