import{p as y,r as D}from"./dataQueryProviderAdminApi-BdKPZMyj.js";import{p as h}from"./dataQueryProviderManage-Cn6PIMsA.js";import{d as B,r as c,a as Q,b as r,o as R,c as C,e as n,w as l,f as T,F as A}from"./index-DoSQKVHz.js";const V=B({__name:"DataQueryProviderManagePage",setup(M){const d=c(null),s=Q({form:{},formComps:h,tableColumns:[{prop:"name",label:"供应商名称"},{prop:"isDisabled",label:"是否禁用",formatter:(e,t,o,m)=>{let a=o?"禁用":"启用";return o&&e.disabledReason&&(a=a+`(${e.disabledReason})`),a}},{prop:"userName",label:"姓名"},{prop:"email",label:"邮箱"},{prop:"mobile",label:"手机号"},{prop:"remark",label:"描述",showOverflowTooltip:!0}]}),i=c({buttonText:"查询",loading:!1,permission:"admin:web:dataQueryProvider:pageQuery"}),b=()=>{d.value.refreshData()},f=({pageQuery:e})=>y({...s.form,...e}),P={permission:i.value.permission},_=({row:e,column:t,$index:o})=>o<0?[]:[{txt:"编辑",text:!0,permission:"admin:web:dataQueryProvider:update",route:{path:"/admin/DataQueryProviderManageUpdate",query:{id:e.id}}},{txt:"删除",text:!0,permission:"admin:web:dataQueryProvider:delete",methodConfirmText:`确定要删除 ${e.name} 吗？`,method(){return D({id:e.id}).then(u=>(b(),Promise.resolve(u)))}}];return(e,t)=>{const o=r("PtButton"),m=r("PtForm"),a=r("PtButtonGroup"),u=r("el-table-column"),v=r("PtTable"),g=r("PtRouteViewPopover");return R(),C(A,null,[n(m,{form:s.form,method:b,defaultButtonsShow:"submit,reset",submitAttrs:i.value,inline:"",comps:s.formComps},{buttons:l(()=>[n(o,{permission:"admin:web:dataQueryProvider:create",route:"/admin/DataQueryProviderManageAdd"},{default:l(()=>t[1]||(t[1]=[T("添加")])),_:1})]),_:1},8,["form","submitAttrs","comps"]),n(v,{ref_key:"tableRef",ref:d,"default-expand-all":"",dataMethod:f,onDataMethodDataLoading:t[0]||(t[0]=p=>i.value.loading=p),paginationProps:P,columns:s.tableColumns},{defaultAppend:l(()=>[n(u,{label:"操作",width:"180"},{default:l(({row:p,column:w,$index:x})=>[n(a,{options:_({row:p,column:w,$index:x})},null,8,["options"])]),_:1})]),_:1},8,["columns"]),n(g,{level:3})],64)}}});export{V as default};
