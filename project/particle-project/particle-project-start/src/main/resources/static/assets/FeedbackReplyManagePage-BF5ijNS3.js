import{p as v,b as w,r as P}from"./feedbackReplyManage-BdzISXa-.js";import{d as y,r as d,a as x,b as r,o as A,c as C,e as n,w as c,F as B}from"./index-CmUqrYxc.js";const D=y({__name:"FeedbackReplyManagePage",props:{feedbackId:{type:String}},setup(b){const i=d(null),o=x({form:{feedbackId:b.feedbackId},formComps:v,tableColumns:[{prop:"replyContent",label:"回复内容",showOverflowTooltip:!0},{prop:"replyAt",label:"回复时间"},{prop:"replyUserNickname",label:"回复用户"},{prop:"replyUserAvatar",label:"回复用户头像"},{prop:"isFeedbackUserRead",label:"用户已读",formatter:(e,a,t,s)=>t?"已读":"未读"},{prop:"feedbackUserReadAt",label:"用户读取时间"},{prop:"feedbackUserRateDictName",label:"用户评价",showOverflowTooltip:!0},{prop:"feedbackUserRateAt",label:"用户评价时间"},{prop:"feedbackUserRateMemo",label:"用户评价内容"},{prop:"remark",label:"描述"}]}),l=d({buttonText:"查询",loading:!1,permission:"admin:web:feedbackReply:pageQuery"}),u=()=>{i.value.refreshData()},f=({pageQuery:e})=>w({...o.form,...e}),k={permission:l.value.permission},_=({row:e,column:a,$index:t})=>t<0?[]:(e.id,[{txt:"删除",text:!0,permission:"admin:web:feedbackReply:delete",methodConfirmText:`确定要删除 ${e.name} 吗？`,method(){return P({id:e.id}).then(p=>(u(),Promise.resolve(p)))}}]);return(e,a)=>{const t=r("PtForm"),s=r("PtButtonGroup"),p=r("el-table-column"),g=r("PtTable");return A(),C(B,null,[n(t,{form:o.form,method:u,defaultButtonsShow:"submit,reset",submitAttrs:l.value,inline:"",comps:o.formComps},null,8,["form","submitAttrs","comps"]),n(g,{ref_key:"tableRef",ref:i,"default-expand-all":"",dataMethod:f,onDataMethodDataLoading:a[0]||(a[0]=m=>l.value.loading=m),paginationProps:k,columns:o.tableColumns},{defaultAppend:c(()=>[n(p,{label:"操作",width:"80"},{default:c(({row:m,column:R,$index:h})=>[n(s,{options:_({row:m,column:R,$index:h})},null,8,["options"])]),_:1})]),_:1},8,["columns"])],64)}}});export{D as default};
