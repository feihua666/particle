import{p as w,a as x,r as B}from"./deptTreeUserRelManage-IaVKxDc1.js";import{d as D,r as b,a as h,b as t,o as U,c as C,e as o,w as r,f as A,F as M}from"./index-DoSQKVHz.js";const y=D({__name:"DeptTreeUserRelManagePage",setup(F){const i=b(null),a=h({form:{},formComps:w,tableColumns:[{prop:"userId",label:"用户id"},{prop:"deptTreeId",label:"部门树id"}]}),s=b({buttonText:"查询",loading:!1,permission:"admin:web:deptTreeUserRel:pageQuery"}),u=()=>{i.value.refreshData()},f=({pageQuery:e})=>x({...a.form,...e}),_={permission:s.value.permission},P=({row:e,column:n,$index:l})=>l<0?[]:[{txt:"编辑",text:!0,permission:"admin:web:deptTreeUserRel:update",route:{path:"/admin/DeptTreeUserRelManageUpdate",query:{id:e.id}}},{txt:"删除",text:!0,permission:"admin:web:deptTreeUserRel:delete",methodConfirmText:`确定要删除 ${e.name} 吗？`,method(){return B({id:e.id}).then(m=>(u(),Promise.resolve(m)))}}];return(e,n)=>{const l=t("PtButton"),d=t("PtForm"),c=t("PtButtonGroup"),m=t("el-table-column"),g=t("PtTable"),R=t("PtRouteViewPopover");return U(),C(M,null,[o(d,{form:a.form,method:u,defaultButtonsShow:"submit,reset",submitAttrs:s.value,inline:"",comps:a.formComps},{buttons:r(()=>[o(l,{permission:"admin:web:deptTreeUserRel:create",route:"/admin/DeptTreeUserRelManageAdd"},{default:r(()=>n[1]||(n[1]=[A("添加")])),_:1})]),_:1},8,["form","submitAttrs","comps"]),o(g,{ref_key:"tableRef",ref:i,"default-expand-all":"",dataMethod:f,onDataMethodDataLoading:n[0]||(n[0]=p=>s.value.loading=p),paginationProps:_,columns:a.tableColumns},{defaultAppend:r(()=>[o(m,{label:"操作",width:"180"},{default:r(({row:p,column:T,$index:v})=>[o(c,{options:P({row:p,column:T,$index:v})},null,8,["options"])]),_:1})]),_:1},8,["columns"]),o(R,{level:3})],64)}}});export{y as default};
