import{u as _,d as g}from"./dataQueryDatasourceAdminApi-B7taEA-y.js";import{a as v}from"./dataQueryDatasourceManage-Hb-v0XDo.js";import{_ as h}from"./DataQueryDatasourceManageConfigJsonPage.vue_vue_type_script_setup_true_name_DataQueryDatasourceManageConfigJsonPage_lang-e42W3bTO.js";import{d as V,a as P,r as s,ab as F,b as m,o as w,c as I,e as r,w as Q,F as B}from"./index-BAoWe_iC.js";import"./dataqueryProviderCompItem-CUyDkoBc.js";import"./dataQueryProviderAdminApi-CE7--5ux.js";const x=V({__name:"DataQueryDatasourceManageUpdatePage",props:{dataQueryDatasourceId:{type:String}},setup(i){const n=i,t=P({form:{id:n.dataQueryDatasourceId,version:1},formData:{}}),e=s(!1),l=F(()=>{var o;return(o=t.formData.typeDictId)==null?void 0:o.value}),c=s(v({reactiveData:t,configJsonDialogVisible:e})),d=s({buttonText:"确认修改",permission:"admin:web:dataQueryDatasource:update"}),p=()=>_,f=()=>g({id:n.dataQueryDatasourceId}),D=()=>"修改成功，请刷新数据查看";return(o,u)=>{const b=m("PtForm"),y=m("el-dialog");return w(),I(B,null,[r(b,{form:t.form,formData:t.formData,labelWidth:"80",dataMethod:f,method:p(),methodSuccess:D,defaultButtonsShow:"submit,reset",submitAttrs:d.value,buttonsTeleportProps:o.$route.meta.formButtonsTeleportProps,inline:"",comps:c.value},null,8,["form","formData","method","submitAttrs","buttonsTeleportProps","comps"]),r(y,{modelValue:e.value,"onUpdate:modelValue":u[0]||(u[0]=a=>e.value=a),width:"70%",title:"配置Json","append-to-body":"","destroy-on-close":""},{default:Q(()=>[r(h,{initData:t.form.configJson,success:a=>{t.form.configJson=a,e.value=!1},typeDictValue:l.value},null,8,["initData","success","typeDictValue"])]),_:1},8,["modelValue"])],64)}}});export{x as default};
