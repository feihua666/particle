import{p as x,a as B,r as h}from"./openplatformAppQuotaManage-BUZFST5l.js";import{d as C,r as c,a as Q,b as e,o as D,c as R,e as o,w as p,f as T,F}from"./index-DoSQKVHz.js";import"./openplatformAppCompItem-DNS8PSr7.js";import"./openplatformAppAdminApi-DWAOHSml.js";const V=C({__name:"OpenplatformAppQuotaManagePage",setup(M){const i=c(null),n=Q({form:{},formComps:x,tableColumns:[{prop:"openplatformAppName",label:"应用名称"},{prop:"limitTypeDictName",label:"限制方式"},{prop:"limitCount",label:"限制条数"},{prop:"limitFee",label:"限制金额费用"},{prop:"remark",label:"描述"}]}),r=c({buttonText:"查询",loading:!1,permission:"admin:web:openplatformAppQuota:pageQuery"}),u=()=>{i.value.refreshData()},b=({pageQuery:t})=>B({...n.form,...t}),_={permission:r.value.permission},P=({row:t,column:a,$index:m})=>m<0?[]:[{txt:"编辑",text:!0,permission:"admin:web:openplatformAppQuota:update",route:{path:"/admin/OpenplatformAppQuotaManageUpdate",query:{id:t.id}}},{txt:"删除",text:!0,permission:"admin:web:openplatformAppQuota:delete",methodConfirmText:`确定要删除 ${t.name} 吗？`,method(){return h({id:t.id}).then(l=>(u(),Promise.resolve(l)))}}];return(t,a)=>{const m=e("PtButton"),d=e("PtForm"),f=e("PtButtonGroup"),l=e("el-table-column"),g=e("PtTable"),A=e("PtRouteViewPopover");return D(),R(F,null,[o(d,{form:n.form,method:u,defaultButtonsShow:"submit,reset",submitAttrs:r.value,inline:"",comps:n.formComps},{buttons:p(()=>[o(m,{permission:"admin:web:openplatformAppQuota:create",route:"/admin/OpenplatformAppQuotaManageAdd"},{default:p(()=>a[1]||(a[1]=[T("添加")])),_:1})]),_:1},8,["form","submitAttrs","comps"]),o(g,{ref_key:"tableRef",ref:i,"default-expand-all":"",dataMethod:b,onDataMethodDataLoading:a[0]||(a[0]=s=>r.value.loading=s),paginationProps:_,columns:n.tableColumns},{defaultAppend:p(()=>[o(l,{label:"操作",width:"180"},{default:p(({row:s,column:v,$index:w})=>[o(f,{options:P({row:s,column:v,$index:w})},null,8,["options"])]),_:1})]),_:1},8,["columns"]),o(A,{level:3})],64)}}});export{V as default};
