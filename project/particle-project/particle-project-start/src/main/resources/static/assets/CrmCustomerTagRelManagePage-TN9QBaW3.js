import{p as v,a as w,r as x}from"./crmCustomerTagRelManage-C8JaJbQq.js";import{d as B,r as b,a as h,b as t,o as A,c as D,e as o,w as r,f as M,F}from"./index-DoSQKVHz.js";import"./crmCompItem-DK6SWanq.js";import"./crmCustomerTagAdminApi-BwLtPg7c.js";const q=B({__name:"CrmCustomerTagRelManagePage",setup(N){const i=b(null),n=h({form:{},formComps:v,tableColumns:[{prop:"crmCustomerName",label:"客户"},{prop:"crmCustomerTagName",label:"标签"}]}),m=b({buttonText:"查询",loading:!1,permission:"admin:web:crmCustomerTagRel:pageQuery"}),p=()=>{i.value.refreshData()},f=({pageQuery:e})=>w({...n.form,...e}),g={permission:m.value.permission},_=({row:e,column:a,$index:s})=>s<0?[]:[{txt:"编辑",text:!0,permission:"admin:web:crmCustomerTagRel:update",route:{path:"/admin/CrmCustomerTagRelManageUpdate",query:{id:e.id}}},{txt:"删除",text:!0,permission:"admin:web:crmCustomerTagRel:delete",methodConfirmText:`确定要删除 ${e.name} 吗？`,method(){return x({id:e.id}).then(l=>(p(),Promise.resolve(l)))}}];return(e,a)=>{const s=t("PtButton"),d=t("PtForm"),c=t("PtButtonGroup"),l=t("el-table-column"),C=t("PtTable"),P=t("PtRouteViewPopover");return A(),D(F,null,[o(d,{form:n.form,method:p,defaultButtonsShow:"submit,reset",submitAttrs:m.value,inline:"",comps:n.formComps},{buttons:r(()=>[o(s,{permission:"admin:web:crmCustomerTagRel:create",route:"/admin/CrmCustomerTagRelManageAdd"},{default:r(()=>a[1]||(a[1]=[M("添加")])),_:1})]),_:1},8,["form","submitAttrs","comps"]),o(C,{ref_key:"tableRef",ref:i,"default-expand-all":"",dataMethod:f,onDataMethodDataLoading:a[0]||(a[0]=u=>m.value.loading=u),paginationProps:g,columns:n.tableColumns},{defaultAppend:r(()=>[o(l,{label:"操作",width:"180"},{default:r(({row:u,column:R,$index:T})=>[o(c,{options:_({row:u,column:R,$index:T})},null,8,["options"])]),_:1})]),_:1},8,["columns"]),o(P,{level:3})],64)}}});export{q as default};
