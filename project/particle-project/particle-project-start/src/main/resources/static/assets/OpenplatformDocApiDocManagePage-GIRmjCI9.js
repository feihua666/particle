import{f as _,g as x}from"./openplatformDocCompItem-Dn8MB9X3.js";import{p as A}from"./openplatformDocApiDocManage-DrOTnV_v.js";import{d as O,r as d,a as g,b as o,o as B,c as y,e as t,w as p,f as N,F as q}from"./index-BAoWe_iC.js";import"./openplatformDocDirNameAdminApi-WjcG-bH2.js";import"./openplatformDocApiAdminApi-BnqN2B4y.js";import"./openplatformDocApiDocTemplateAdminApi-xlW2NPRt.js";const E=O({__name:"OpenplatformDocApiDocManagePage",setup(C){const m=d(null),a=g({form:{},formComps:A,tableColumns:[{prop:"openplatformDocApiName",label:"文档接口",showOverflowTooltip:!0},{prop:"openplatformDocApiCode",label:"文档接口编码",showOverflowTooltip:!0},{prop:"requestUrlPrefix",label:"请求地址前缀",showOverflowTooltip:!0},{prop:"requestUrlIntranetPrefix",label:"内网请求地址前缀",showOverflowTooltip:!0},{prop:"requestUrl",label:"请求地址",showOverflowTooltip:!0},{prop:"requestTypeDictName",label:"请求类型"},{prop:"requestBodyTypeDictName",label:"请求体类型",showOverflowTooltip:!0},{prop:"requestParamTypeDictName",label:"请求参数类型"},{prop:"requestParamNestTypeDictName",label:"请求参数嵌套类型"},{prop:"responseBodyTypeDictName",label:"响应体类型",showOverflowTooltip:!0},{prop:"responseMaxDuration",label:"最大响应时长(ms)"},{prop:"responseMaxDurationDesc",label:"响应时长文本",showOverflowTooltip:!0},{prop:"authenticationType",label:"认证方式",showOverflowTooltip:!0},{prop:"descriptionDetail",label:"详细描述",showOverflowTooltip:!0},{prop:"requestParamExample",label:"请求参数示例",showOverflowTooltip:!0},{prop:"responseParamExample",label:"响应参数示例",showOverflowTooltip:!0},{prop:"openplatformDocApiDocTemplateName",label:"文档内容模板",showOverflowTooltip:!0}]}),l=d({buttonText:"查询",loading:!1,permission:"admin:web:openplatformDocApiDoc:pageQuery"}),u=()=>{m.value.refreshData()},b=({pageQuery:e})=>_({...a.form,...e}),w={permission:l.value.permission},D=({row:e,column:r,$index:n})=>n<0?[]:[{txt:"编辑",text:!0,permission:"admin:web:openplatformDocApiDoc:update",route:{path:"/admin/OpenplatformDocApiDocManageUpdate",query:{id:e.id}}},{txt:"删除",text:!0,permission:"admin:web:openplatformDocApiDoc:delete",methodConfirmText:`确定要删除 ${e.name} 吗？删除后将级联删除关联的参数字段、代码示例、响应码数据`,method(){return x({id:e.id}).then(s=>(u(),Promise.resolve(s)))}}];return(e,r)=>{const n=o("PtButton"),c=o("PtForm"),f=o("PtButtonGroup"),s=o("el-table-column"),T=o("PtTable"),v=o("PtRouteViewPopover");return B(),y(q,null,[t(c,{form:a.form,method:u,defaultButtonsShow:"submit,reset",submitAttrs:l.value,inline:"",comps:a.formComps},{buttons:p(()=>[t(n,{permission:"admin:web:openplatformDocApiDoc:create",route:"/admin/OpenplatformDocApiDocManageAdd"},{default:p(()=>r[1]||(r[1]=[N("添加")])),_:1})]),_:1},8,["form","submitAttrs","comps"]),t(T,{ref_key:"tableRef",ref:m,"default-expand-all":"",dataMethod:b,onDataMethodDataLoading:r[0]||(r[0]=i=>l.value.loading=i),paginationProps:w,columns:a.tableColumns},{defaultAppend:p(()=>[t(s,{label:"操作",width:"180"},{default:p(({row:i,column:P,$index:h})=>[t(f,{options:D({row:i,column:P,$index:h})},null,8,["options"])]),_:1})]),_:1},8,["columns"]),t(v,{level:3})],64)}}});export{E as default};
