import{u as a}from"./reportSegmentTemplateCompItem-7xH6PG6A.js";import{t as n}from"./treeQueryComps-CWIG2rsy.js";import{k as t}from"./index-CmUqrYxc.js";let r="/admin/web/report_report_api";const P=e=>t.post(r+"/create",e),I=e=>t.delete(r+"/delete",{data:e}),g=e=>t.put(r+"/update",e),C=e=>t.get(r+"/detail-for-update",{params:e}),i=e=>t.get(r+"/list",{params:e}),R=e=>t.get(r+"/page",{params:e}),h=e=>t.put(r+"/refreshCache",e),o=({fieldName:e="parentId",required:p=!1,label:l="父级",disableGroup:u=!1,tips:m="",valueChange:s=()=>{}})=>({field:{name:e,valueChange:s},element:{comp:"PtCascader",formItemProps:{label:l,required:p,tips:m},compProps:{clearable:!0,dataMethod:i,dataMethodResultHandleConvertToTree:!0}}}),T=[{field:{name:"code"},element:{comp:"el-input",formItemProps:{label:"编码"},compProps:{clearable:!0,placeholder:"左前缀匹配"}}},{field:{name:"name"},element:{comp:"el-input",formItemProps:{label:"名称"},compProps:{clearable:!0,placeholder:"左前缀匹配"}}},{field:{name:"url"},element:{comp:"el-input",formItemProps:{label:"接口地址"},compProps:{clearable:!0,placeholder:"左前缀匹配"}}},a({fieldName:"reportSegmentTemplateId",label:"报告片段模板"}),o({}),...n],c=[{field:{name:"code"},element:{comp:"el-input",formItemProps:{label:"编码",tips:"编码唯一"},compProps:{clearable:!0}}},{field:{name:"name"},element:{comp:"el-input",formItemProps:{label:"名称",required:!0,tips:"表示一个可读的名称，仅展示使用"},compProps:{clearable:!0}}},{field:{name:"isGroup"},element:{comp:"el-switch",formItemProps:{label:"分组/接口",required:!0},compProps:{activeText:"分组",inactiveText:"接口"}}},{field:{name:"permissions"},element:{comp:"el-input",formItemProps:{label:"接口权限码",tips:"表示该接口使用什么权限如：user:report"},compProps:{clearable:!0}}},{field:{name:"url"},element:{comp:"el-input",formItemProps:{label:"接口地址",required:({form:e})=>!e.isGroup,tips:"类型为接口时必填,接口地址唯一，请以/开头，前端调用地址需要前面拼接 /api/re。开放接口前面拼接 /openapi/re"},compProps:{clearable:!0}}},a({fieldName:"reportSegmentTemplateId",label:"报告片段模板",tips:"指定该报告接口使用什么模板，一般模板输出为文本类文件，如果其它输出格式，可以配置后置处理脚本进行处理",required:({form:e})=>!e.isGroup}),{field:{name:"inParamExampleConfigJson"},element:{comp:"el-input",formItemProps:{label:"入参示例",tips:"仅展示使用，提示应该怎么入参调用接口,一般为一个json字符串，post请求，application/json请求内容类型，模板中 global.body 为请求参数",displayBlock:!0},compProps:{type:"textarea",rows:10,clearable:!0}}},{field:{name:"postScript"},element:{comp:"el-input",formItemProps:{label:"后置处理脚本",displayBlock:!0,labelTips:"后置处理脚本",tips:"仅支持groovy脚本，可对模板渲染的结果进一步处理,可用句柄 reportSegmentTemplateRenderParam 为请求参数对象、reportSegmentTemplateRenderResult 渲染结果对象，包括templateNameContentResult=名称渲染结果文本、templateContentResult=内容渲染结果文本、templateNameContentResultFile=名称渲染结果文件句柄、renderContext=渲染上下文，默认处理为 templateNameContentResultFile转换为绝对路径作为url，即：如果获取设置不输出文件则返回空"},compProps:{type:"textarea",rows:10,clearable:!0}}},o({tips:"仅类型为接口可以添加父级"}),{field:{name:"remark"},element:{comp:"el-input",formItemProps:{label:"描述",tips:"一些备注说明"},compProps:{clearable:!0}}}],x=c;export{R as a,h as b,c,P as d,g as e,C as f,T as p,I as r,x as u};
