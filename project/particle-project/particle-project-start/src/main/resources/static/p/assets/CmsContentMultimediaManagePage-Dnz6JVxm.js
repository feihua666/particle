import{p as x,a as B,r as T}from"./cmsContentMultimediaManage-IMnWmwlp.js";import{d as h,r as b,a as D,b as t,o as w,c as R,e as o,w as l,f as A,F}from"./index-BIT85eDf.js";import"./cmsSiteCompItem-BFXMXDhA.js";import"./cmsSiteAdminApi-VzVSUXF6.js";const V=h({__name:"CmsContentMultimediaManagePage",setup(I){const p=b(null),a=D({form:{},formComps:x,tableColumns:[{prop:"cmsSiteName",label:"站点"},{prop:"cmsContentTitle",label:"内容标题"},{prop:"content",label:"文本内容"},{prop:"imageUrl",label:"图片地址"},{prop:"imageDescription",label:"图片描述"},{prop:"imageUrl1",label:"图片地址1"},{prop:"imageDescription1",label:"图片描述1"},{prop:"imageUrl2",label:"图片地址2"},{prop:"imageDescription2",label:"图片描述2"},{prop:"fileName",label:"文件名称"},{prop:"fileUrl",label:"文件地址"},{prop:"fileSize",label:"文件大小"},{prop:"fileSizeStr",label:"文件大小字符串"},{prop:"mediaType",label:"媒体类型"},{prop:"seq",label:"排序"}]}),i=b({buttonText:"查询",loading:!1,permission:"admin:web:cmsContentMultimedia:pageQuery"}),u=()=>{p.value.refreshData()},f=({pageQuery:e})=>B({...a.form,...e}),C={permission:i.value.permission},_=({row:e,column:n,$index:m})=>m<0?[]:(e.id,[{txt:"编辑",text:!0,permission:"admin:web:cmsContentMultimedia:update",route:{path:"/admin/CmsContentMultimediaManageUpdate",query:{id:e.id,cmsContentId:e.cmsContentId,cmsContentTitle:e.cmsContentTitle}}},{txt:"删除",text:!0,permission:"admin:web:cmsContentMultimedia:delete",methodConfirmText:`确定要删除 ${e.name} 吗？`,method(){return T({id:e.id}).then(s=>(u(),Promise.resolve(s)))}}]);return(e,n)=>{const m=t("PtButton"),d=t("PtForm"),c=t("PtButtonGroup"),s=t("el-table-column"),g=t("PtTable"),P=t("PtRouteViewPopover");return w(),R(F,null,[o(d,{form:a.form,method:u,defaultButtonsShow:"submit,reset",submitAttrs:i.value,inline:"",comps:a.formComps},{buttons:l(()=>[o(m,{permission:"admin:web:cmsContentMultimedia:create",route:"/admin/CmsContentMultimediaManageAdd"},{default:l(()=>n[1]||(n[1]=[A("添加")])),_:1})]),_:1},8,["form","submitAttrs","comps"]),o(g,{ref_key:"tableRef",ref:p,"default-expand-all":"",dataMethod:f,onDataMethodDataLoading:n[0]||(n[0]=r=>i.value.loading=r),paginationProps:C,columns:a.tableColumns},{defaultAppend:l(()=>[o(s,{label:"操作",width:"180"},{default:l(({row:r,column:M,$index:v})=>[o(c,{options:_({row:r,column:M,$index:v})},null,8,["options"])]),_:1})]),_:1},8,["columns"]),o(P,{level:3})],64)}}});export{V as default};
