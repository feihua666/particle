import{p as v,r as x}from"./dynamicDataCategoryAdminApi-DP_GaZhF.js";import{p as w}from"./dynamicDataCategoryManage-DFen3ds8.js";import{d as B,r as b,a as h,b as n,o as R,c as A,e as r,w as m,f as M,F as T}from"./index-BIT85eDf.js";const G=B({__name:"DynamicDataCategoryManagePage",setup(F){const d=b(null),s=h({form:{},formComps:w,tableColumns:[{prop:"name",label:"数据类型名称"},{prop:"isDisabled",label:"是否禁用",formatter:(t,e,a,l)=>{let o=a?"禁用":"启用";return a&&t.disabledReason&&(o=o+`(${t.disabledReason})`),o}},{prop:"typeDictName",label:"动态数据分类类型"},{prop:"remark",label:"备注信息"}]}),i=b({buttonText:"查询",loading:!1,permission:"admin:web:dynamicDataCategory:pageQuery"}),c=()=>{d.value.refreshData()},f=({pageQuery:t})=>v({...s.form,...t}),g={permission:i.value.permission},_=({row:t,column:e,$index:a})=>a<0?[]:[{txt:"编辑",text:!0,permission:"admin:web:dynamicDataCategory:update",route:{path:"/admin/DynamicDataCategoryManageUpdate",query:{id:t.id}}},{txt:"删除",text:!0,permission:"admin:web:dynamicDataCategory:delete",methodConfirmText:`确定要删除 ${t.name} 吗？`,method(){return x({id:t.id}).then(p=>(c(),Promise.resolve(p)))}}];return(t,e)=>{const a=n("PtButton"),l=n("PtForm"),o=n("PtButtonGroup"),p=n("el-table-column"),y=n("PtTable"),D=n("PtRouteViewPopover");return R(),A(T,null,[r(l,{form:s.form,method:c,defaultButtonsShow:"submit,reset",submitAttrs:i.value,inline:"",comps:s.formComps},{buttons:m(()=>[r(a,{permission:"admin:web:dynamicDataCategory:create",route:"/admin/DynamicDataCategoryManageAdd"},{default:m(()=>e[1]||(e[1]=[M("添加")])),_:1})]),_:1},8,["form","submitAttrs","comps"]),r(y,{ref_key:"tableRef",ref:d,"default-expand-all":"",dataMethod:f,onDataMethodDataLoading:e[0]||(e[0]=u=>i.value.loading=u),paginationProps:g,columns:s.tableColumns},{defaultAppend:m(()=>[r(p,{label:"操作",width:"180"},{default:m(({row:u,column:P,$index:C})=>[r(o,{options:_({row:u,column:P,$index:C})},null,8,["options"])]),_:1})]),_:1},8,["columns"]),r(D,{level:3})],64)}}});export{G as default};
