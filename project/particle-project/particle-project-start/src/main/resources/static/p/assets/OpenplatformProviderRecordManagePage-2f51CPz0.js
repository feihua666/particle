import{p as R,a as T}from"./openplatformProviderRecordManage-DRMu6_Z4.js";import{d as g,r as u,a as x,b as r,o as B,c as D,e as a,w as d,F as M}from"./index-BIT85eDf.js";import"./dataqueryProviderCompItem-BRyBmbaH.js";import"./dataQueryProviderAdminApi-RVcJLHZp.js";import"./openplatformProviderCompItem-D_ixA4I6.js";import"./openplatformProviderAdminApi-C7nXCUfN.js";import"./crmCompItem-CDH2YjkP.js";import"./crmCustomerTagAdminApi-C5lwXNzL.js";const S=g({__name:"OpenplatformProviderRecordManagePage",props:{openplatformOpenapiRecordId:{type:String}},setup(f){const m=u(null),l=x({form:{openplatformOpenapiRecordId:f.openplatformOpenapiRecordId},formComps:R,tableColumns:[{prop:"userNickname",label:"用户昵称",showOverflowTooltip:!0},{prop:"customerName",label:"客户",showOverflowTooltip:!0},{prop:"requestName",label:"接口名称",showOverflowTooltip:!0},{prop:"requestUrl",label:"接口地址",showOverflowTooltip:!0},{prop:"requestParameterMd5",label:"请求参数md5",showOverflowTooltip:!0},{prop:"requestAt",label:"请求时间",showOverflowTooltip:!0},{prop:"createAt",label:"创建时间",showOverflowTooltip:!0},{prop:"responseResultMd5",label:"响应结果md5",showOverflowTooltip:!0},{prop:"traceId",label:"traceId",showOverflowTooltip:!0},{prop:"handleDuration",label:"处理时长(ms)"},{prop:"isResponseHasEffectiveValue",label:"响应数据",formatter:(o,t,e,p)=>e?"正常响应数据":"无数据",showOverflowTooltip:!0},{prop:"responseHttpStatus",label:"http状态码"},{prop:"responseBusinessStatus",label:"业务编码",showOverflowTooltip:!0},{prop:"openplatformProviderName",label:"供应商",showOverflowTooltip:!0},{prop:"dataQueryProviderName",label:"数据查询供应商",showOverflowTooltip:!0},{prop:"isCacheHit",label:"缓存命中",formatter:(o,t,e,p)=>e?"是":"否"},{prop:"feeAmount",label:"消费金额"},{prop:"feeReasonDictName",label:"消费金额缘由",showOverflowTooltip:!0}]}),s=u({buttonText:"查询",loading:!1,permission:"admin:web:openplatformProviderRecord:pageQuery"}),c=()=>{m.value.refreshData()},w=({pageQuery:o})=>T({...l.form,...o}),b={permission:s.value.permission},v=({row:o,column:t,$index:e})=>e<0?[]:[{txt:"查看参数",text:!0,permission:"admin:web:openplatformProviderRecordParam:detail",route:{path:"/admin/openplatformProviderRecordManageParamView",query:{id:o.id}}}];return(o,t)=>{const e=r("PtForm"),p=r("PtButtonGroup"),n=r("el-table-column"),h=r("PtTable"),P=r("PtRouteViewPopover");return B(),D(M,null,[a(e,{form:l.form,labelWidth:"100",method:c,defaultButtonsShow:"submit,reset",submitAttrs:s.value,inline:"",comps:l.formComps},null,8,["form","submitAttrs","comps"]),a(h,{ref_key:"tableRef",ref:m,"default-expand-all":"",dataMethod:w,onDataMethodDataLoading:t[0]||(t[0]=i=>s.value.loading=i),doDataMethodOnMounted:!1,paginationProps:b,columns:l.tableColumns},{defaultAppend:d(()=>[a(n,{label:"操作",width:"180"},{default:d(({row:i,column:O,$index:_})=>[a(p,{options:v({row:i,column:O,$index:_})},null,8,["options"])]),_:1})]),_:1},8,["columns"]),a(P,{level:3})],64)}}});export{S as default};
