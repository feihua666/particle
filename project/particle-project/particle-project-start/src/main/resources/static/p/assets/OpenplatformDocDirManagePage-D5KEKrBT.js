import{p as h,r as x}from"./openplatformDocCompItem-DcbYD-K_.js";import{p as B}from"./openplatformDocDirManage-Cm1nxd4o.js";import{d as C,r as f,a as T,b as t,o as R,c as M,e as o,w as r,f as A,F}from"./index-DY8PGGNe.js";import"./openplatformDocDirNameAdminApi-DDO2-ctf.js";import"./openplatformDocApiAdminApi-L_ivd8Nn.js";import"./openplatformDocApiDocTemplateAdminApi-Bv9ewCdM.js";import"./treeQueryComps-CWIG2rsy.js";const E=C({__name:"OpenplatformDocDirManagePage",setup(N){const i=f(null),n=T({form:{},formComps:B,tableColumns:[{prop:"name",label:"名称"},{prop:"nameSimple",label:"简称"},{prop:"openplatformDocDirNameName",label:"目录名称"},{prop:"seq",label:"排序"},{prop:"parentName",label:"父级"},{prop:"remark",label:"备注",showOverflowTooltip:!0}]}),m=f({buttonText:"查询",loading:!1,permission:"admin:web:openplatformDocDir:pageQuery"}),u=()=>{i.value.refreshData()},b=({pageQuery:e})=>h({...n.form,...e}),D={permission:m.value.permission},_=({row:e,column:a,$index:p})=>p<0?[]:[{txt:"编辑",text:!0,permission:"admin:web:openplatformDocDir:update",route:{path:"/admin/OpenplatformDocDirManageUpdate",query:{id:e.id}}},{txt:"删除",text:!0,permission:"admin:web:openplatformDocDir:delete",methodConfirmText:`确定要删除 ${e.name} 吗？`,method(){return x({id:e.id}).then(l=>(u(),Promise.resolve(l)))}}];return(e,a)=>{const p=t("PtButton"),d=t("PtForm"),c=t("PtButtonGroup"),l=t("el-table-column"),P=t("PtTable"),g=t("PtRouteViewPopover");return R(),M(F,null,[o(d,{form:n.form,method:u,defaultButtonsShow:"submit,reset",submitAttrs:m.value,inline:"",comps:n.formComps},{buttons:r(()=>[o(p,{permission:"admin:web:openplatformDocDir:create",route:"/admin/OpenplatformDocDirManageAdd"},{default:r(()=>a[1]||(a[1]=[A("添加")])),_:1})]),_:1},8,["form","submitAttrs","comps"]),o(P,{ref_key:"tableRef",ref:i,"default-expand-all":"",dataMethod:b,onDataMethodDataLoading:a[0]||(a[0]=s=>m.value.loading=s),dataMethodResultHandleConvertToTree:!0,paginationProps:D,columns:n.tableColumns},{defaultAppend:r(()=>[o(l,{label:"操作",width:"180"},{default:r(({row:s,column:v,$index:w})=>[o(c,{options:_({row:s,column:v,$index:w})},null,8,["options"])]),_:1})]),_:1},8,["columns"]),o(g,{level:3})],64)}}});export{E as default};
