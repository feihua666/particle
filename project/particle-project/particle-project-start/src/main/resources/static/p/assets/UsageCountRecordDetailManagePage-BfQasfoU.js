import{k as f,am as h,d as v,r as c,a as w,b as a,o as x,c as T,e as n,w as g,F as B}from"./index-DY8PGGNe.js";import{u as U,i as N}from"./usageCountCompItem-DRf-GVBj.js";import{u as k}from"./userCompItem-RZQhlsxY.js";import"./userAdminApi-Dm2zMmsT.js";let b="/admin/web/usage_count_record_detail";const A=t=>f.delete(b+"/delete",{data:t}),y=t=>f.get(b+"/page",{params:t}),F=[{field:{name:"usageCountRecordId"},element:{comp:"el-input",formItemProps:{label:"使用次数记录主键"},compProps:{}}},U({fieldName:"usageCountDefineId",label:"使用次数定义",disableGroup:!0}),N({}),k({props:{},fieldName:"usageUserId",label:"使用用户"}),h({props:{},fieldName:"usageTenantId",label:"使用租户"})],L=v({__name:"UsageCountRecordDetailManagePage",props:{usageCountRecordId:{type:String}},setup(t){const p=c(null),o=w({form:{usageCountRecordId:t.usageCountRecordId},formComps:F,tableColumns:[{prop:"usageCountRecordId",label:"使用次数记录主键"},{prop:"usageCountRecordUsageCountKey",label:"使用次数key",showOverflowTooltip:!0},{prop:"usageCountDefineName",label:"使用次数定义名称"},{prop:"usageUserNickname",label:"用户昵称"},{prop:"usageTenantName",label:"租户名称"},{prop:"createAt",label:"创建时间"}]}),s=c({buttonText:"查询",loading:!1,permission:"admin:web:usageCountRecordDetail:pageQuery"}),i=()=>{p.value.refreshData()},C=({pageQuery:e})=>y({...o.form,...e}),_={permission:s.value.permission},R=({row:e,column:r,$index:l})=>l<0?[]:(e.id,[{txt:"删除",text:!0,permission:"admin:web:usageCountRecordDetail:delete",methodConfirmText:`确定要删除 ${e.name} 吗？`,method(){return A({id:e.id}).then(u=>(i(),Promise.resolve(u)))}}]);return(e,r)=>{const l=a("PtForm"),d=a("PtButtonGroup"),u=a("el-table-column"),P=a("PtTable");return x(),T(B,null,[n(l,{form:o.form,method:i,defaultButtonsShow:"submit,reset",submitAttrs:s.value,inline:"",comps:o.formComps},null,8,["form","submitAttrs","comps"]),n(P,{ref_key:"tableRef",ref:p,"default-expand-all":"",dataMethod:C,onDataMethodDataLoading:r[0]||(r[0]=m=>s.value.loading=m),paginationProps:_,columns:o.tableColumns},{defaultAppend:g(()=>[n(u,{label:"操作",width:"180"},{default:g(({row:m,column:I,$index:D})=>[n(d,{options:R({row:m,column:I,$index:D})},null,8,["options"])]),_:1})]),_:1},8,["columns"])],64)}}});export{L as default};
