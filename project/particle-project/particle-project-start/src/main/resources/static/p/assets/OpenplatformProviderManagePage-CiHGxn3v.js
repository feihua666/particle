import{p as B,r as h}from"./openplatformProviderAdminApi-C7nXCUfN.js";import{p as C}from"./openplatformProviderManage-nwMjDYJM.js";import{d as R,r as c,a as A,b as t,o as D,c as M,e as o,w as n,f as T,F}from"./index-BIT85eDf.js";import"./dataqueryProviderCompItem-BRyBmbaH.js";import"./dataQueryProviderAdminApi-RVcJLHZp.js";const Q=R({__name:"OpenplatformProviderManagePage",setup(k){const i=c(null),r=A({form:{},formComps:C,tableColumns:[{prop:"code",label:"编码"},{prop:"name",label:"供应商名称"},{prop:"dataQueryProviderName",label:"数据查询供应商"},{prop:"remark",label:"描述"}]}),m=c({buttonText:"查询",loading:!1,permission:"admin:web:openplatformProvider:pageQuery"}),u=()=>{i.value.refreshData()},b=({pageQuery:e})=>B({...r.form,...e}),P={permission:m.value.permission},_=({row:e,column:a,$index:s})=>s<0?[]:[{txt:"编辑",text:!0,permission:"admin:web:openplatformProvider:update",route:{path:"/admin/OpenplatformProviderManageUpdate",query:{id:e.id}}},{txt:"删除",text:!0,permission:"admin:web:openplatformProvider:delete",methodConfirmText:`确定要删除 ${e.name} 吗？`,method(){return h({id:e.id}).then(p=>(u(),Promise.resolve(p)))}}];return(e,a)=>{const s=t("PtButton"),d=t("PtForm"),f=t("PtButtonGroup"),p=t("el-table-column"),v=t("PtTable"),g=t("PtRouteViewPopover");return D(),M(F,null,[o(d,{form:r.form,method:u,defaultButtonsShow:"submit,reset",submitAttrs:m.value,inline:"",comps:r.formComps},{buttons:n(()=>[o(s,{permission:"admin:web:openplatformProvider:create",route:"/admin/OpenplatformProviderManageAdd"},{default:n(()=>a[1]||(a[1]=[T("添加")])),_:1})]),_:1},8,["form","submitAttrs","comps"]),o(v,{ref_key:"tableRef",ref:i,"default-expand-all":"",dataMethod:b,onDataMethodDataLoading:a[0]||(a[0]=l=>m.value.loading=l),paginationProps:P,columns:r.tableColumns},{defaultAppend:n(()=>[o(p,{label:"操作",width:"180"},{default:n(({row:l,column:w,$index:x})=>[o(f,{options:_({row:l,column:w,$index:x})},null,8,["options"])]),_:1})]),_:1},8,["columns"]),o(g,{level:3})],64)}}});export{Q as default};
