import{p as w,r as x}from"./crmCustomerTagAdminApi-CwKcsNtQ.js";import{p as B}from"./crmCustomerTagManage-zmXDW1rS.js";import{d as h,r as b,a as R,b as e,o as A,c as D,e as o,w as r,f as M,F}from"./index-DMP92Tz2.js";const N=h({__name:"CrmCustomerTagManagePage",setup(k){const i=b(null),n=R({form:{},formComps:B,tableColumns:[{prop:"name",label:"标签名称"},{prop:"code",label:"标签编码"},{prop:"remark",label:"备注"}]}),s=b({buttonText:"查询",loading:!1,permission:"admin:web:crmCustomerTag:pageQuery"}),p=()=>{i.value.refreshData()},f=({pageQuery:t})=>w({...n.form,...t}),g={permission:s.value.permission},_=({row:t,column:a,$index:m})=>m<0?[]:[{txt:"编辑",text:!0,permission:"admin:web:crmCustomerTag:update",route:{path:"/admin/CrmCustomerTagManageUpdate",query:{id:t.id}}},{txt:"删除",text:!0,permission:"admin:web:crmCustomerTag:delete",methodConfirmText:`确定要删除 ${t.name} 吗？`,method(){return x({id:t.id}).then(u=>(p(),Promise.resolve(u)))}}];return(t,a)=>{const m=e("PtButton"),d=e("PtForm"),c=e("PtButtonGroup"),u=e("el-table-column"),C=e("PtTable"),P=e("PtRouteViewPopover");return A(),D(F,null,[o(d,{form:n.form,method:p,defaultButtonsShow:"submit,reset",submitAttrs:s.value,inline:"",comps:n.formComps},{buttons:r(()=>[o(m,{permission:"admin:web:crmCustomerTag:create",route:"/admin/CrmCustomerTagManageAdd"},{default:r(()=>a[1]||(a[1]=[M("添加")])),_:1})]),_:1},8,["form","submitAttrs","comps"]),o(C,{ref_key:"tableRef",ref:i,"default-expand-all":"",dataMethod:f,onDataMethodDataLoading:a[0]||(a[0]=l=>s.value.loading=l),paginationProps:g,columns:n.tableColumns},{defaultAppend:r(()=>[o(u,{label:"操作",width:"180"},{default:r(({row:l,column:T,$index:v})=>[o(c,{options:_({row:l,column:T,$index:v})},null,8,["options"])]),_:1})]),_:1},8,["columns"]),o(P,{level:3})],64)}}});export{N as default};
