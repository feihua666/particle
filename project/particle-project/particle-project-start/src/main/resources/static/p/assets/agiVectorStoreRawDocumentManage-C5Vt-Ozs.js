import{S as s,N as n,E as i}from"./index-DY8PGGNe.js";const r={word:[".doc",".docx"],excel:[".xls",".xlsx"],pdf:[".pdf"],html:[".html",".htm"],xml:[".xml"],markdown:[".md",".markdown"],txt:[".txt"],json:[".json"],ppt:[".ppt",".pptx"]},c=e=>Object.keys(r).find(l=>r[l].includes(e));let d=(e,l="success")=>{i({showClose:!0,message:e,type:l,showIcon:!0,grouping:!0})};const f=[{field:{name:"name"},element:{comp:"el-input",formItemProps:{label:"名称"},compProps:{clearable:!0,placeholder:"左前缀匹配"}}},{field:{name:"fileName"},element:{comp:"el-input",formItemProps:{label:"文件名称"},compProps:{clearable:!0,placeholder:"左前缀匹配"}}},{field:{name:"typeDictId"},element:{comp:"PtDictFrontSelect",formItemProps:{label:"类型"},compProps:{dictParam:{groupCode:"agi_raw_document_type"}}}}],P=[{field:{name:"emptyUrls",value:[],valueChange:({form:e,formData:l,newValue:t})=>{s(()=>{if(t&&t.length>0&&t[0].response&&t[0].response.absoluteHttpUrl){e.url=t[0].response.absoluteHttpUrl,e.fileName=t[0].response.originFileName,e.name=t[0].response.originFileName;let p=t[0].response.extension,o=c(p);o&&n({groupCode:"agi_raw_document_type"}).then(m=>{e.typeDictId=m.data.data.find(a=>a.value===o).id})}else e.url=null,e.fileName=null,e.name=null,e.typeDictId=null})}},element:{comp:"PtUpload",formItemProps:{label:"上传文件",required:({form:e})=>!e.url,displayBlock:!0},compProps:{drag:!0,autoUpload:!0,limit:1,dragTip:"将文件拖到此处或<em>点击上传</em>",tipTxt:"只能上传一个文件，上传后，下方的表单将会自动填充",onExceed:(e,l)=>{d("最多只能选择一个文件,如要重新选择，请先删除之前的文件","error")}}}},{field:{name:"name"},element:{comp:"el-input",formItemProps:{label:"名称",required:!0,tips:"一个标识文档的名称，方便维护"},compProps:{clearable:!0}}},{field:{name:"fileName"},element:{comp:"el-input",formItemProps:{label:"文件名称",tips:"上传文件时必填，存储上传文件的原始文件名称，带扩展名"},compProps:{clearable:!0}}},{field:{name:"typeDictId"},element:{comp:"PtDictFrontSelect",formItemProps:{label:"类型",required:!0,tips:"请严格按上传的文件对应的类型填写，否则可能导致解析错误"},compProps:{dictParam:{groupCode:"agi_raw_document_type"}}}},{field:{name:"url"},element:{comp:"el-input",formItemProps:{label:"地址",tips:"上传文件后自动生成的地址，也可以手动填写一个供下载文件的地址"},compProps:{clearable:!0}}},{field:{name:"remark"},element:{comp:"el-input",formItemProps:{label:"描述",tips:"备注说明性文字，方便维护"},compProps:{clearable:!0}}}];export{P as a,f as p};
