import{u as c,d as f}from"./navigationSubmitAdminApi-D-B7drWI.js";import{u as b}from"./navigationSiteManage-BZaUUS9P.js";import{d as D,a as v,r,b as g,o as S,g as h}from"./index-COCB7OXO.js";const y=D({__name:"NavigationSubmitManageUpdateContentPage",props:{navigationSubmitId:{type:String}},setup(n){const m=n,e=v({form:{},formData:{},submitData:{}}),i=r(b),u=r({buttonText:"确认修改",permission:"admin:web:navigationSubmit:update"}),p=()=>(e.submitData.siteDataJson=JSON.stringify(e.form),c(e.submitData)),l=()=>f({id:m.navigationSubmitId}).then(o=>{let t=o.data.data;for(let s in t)e.submitData[s]=t[s];let a=t.siteDataJson;return a?Promise.resolve(JSON.parse(a)):Promise.resolve({name:t.name,url:t.url,title:t.title})}),d=()=>"修改成功，请刷新数据查看";return(o,t)=>{const a=g("PtForm");return S(),h(a,{form:e.form,formData:e.formData,labelWidth:"80",dataMethod:l,method:p,methodSuccess:d,defaultButtonsShow:"submit,reset",submitAttrs:u.value,buttonsTeleportProps:o.$route.meta.formButtonsTeleportProps,inline:"",layout:[3,3,1,1,1,1],comps:i.value},null,8,["form","formData","submitAttrs","buttonsTeleportProps","comps"])}}});export{y as default};
