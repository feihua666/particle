import{u as g,c as y}from"./messageTemplateManage-BHWSfTvk.js";import{d as P,r as o,a as C,b as r,o as T,c as B,e as s,w as m,j as S,f as V,F as h,ar as u}from"./index-COCB7OXO.js";import{_ as N}from"./MessageTemplateContentDetailJson.vue_vue_type_style_index_0_lang-XAZyrc6l.js";import"./treeQueryComps-CWIG2rsy.js";const M=P({__name:"MessageTemplateManageAddPage",setup(w){const e=o(!1),i=o(null),a=C({form:{},formData:{}}),c=o(g({contentDetailJsonDialogVisible:e})),f=o({buttonText:"确认添加",permission:"admin:web:messageTemplate:create"}),p=()=>y,d=()=>"添加成功，请刷新数据查看",l=o({}),D=()=>{let t=i.value.getContentDetailJsonData();if(u(t)||u(t.contentDetails)){a.form.contentDetailJson="",l.value={},e.value=!1;return}a.form.contentDetailJson=JSON.stringify(t),l.value=JSON.parse(JSON.stringify(t)),e.value=!1};return(t,n)=>{const b=r("PtForm"),_=r("PtButton"),J=r("el-dialog");return T(),B(h,null,[s(b,{form:a.form,formData:a.formData,labelWidth:"120",method:p(),methodSuccess:d,defaultButtonsShow:"submit,reset",submitAttrs:f.value,buttonsTeleportProps:t.$route.meta.formButtonsTeleportProps,inline:"",layout:[3,1,1,1,1,2,2,2,2,1],comps:c.value},null,8,["form","formData","method","submitAttrs","buttonsTeleportProps","comps"]),s(J,{modelValue:e.value,"onUpdate:modelValue":n[0]||(n[0]=v=>e.value=v),width:"70%",title:"个性化内容详情配置","append-to-body":"","destroy-on-close":""},{footer:m(()=>[S("span",null,[s(_,{type:"primary",onClick:D},{default:m(()=>n[1]||(n[1]=[V("确认")])),_:1})])]),default:m(()=>[s(N,{ref_key:"contentDetailJsonRef",ref:i,initContentDetailJsonData:l.value},null,8,["initContentDetailJsonData"])]),_:1},8,["modelValue"])],64)}}});export{M as default};
