import{d as B,r as f,a as G,b as t,o as h,c as C,e,w as s,f as F,F as R,a6 as A,a7 as M}from"./index-COCB7OXO.js";import{p as T}from"./funcGroupManage-DuL69x_8.js";const y=B({__name:"FuncGroupManagePage",setup(D){const i=f(null),a=G({form:{},formComps:T,tableColumns:[{prop:"name",label:"名称"},{prop:"code",label:"编码"},{prop:"remark",label:"描述"}]}),u=f({buttonText:"查询",loading:!1,permission:"admin:web:funcGroup:pageQuery"}),c=()=>{i.value.refreshData()},b=({pageQuery:o})=>A({...a.form,...o}),_={permission:u.value.permission},P=({row:o,column:n,$index:m})=>{if(m<0)return[];let r={id:o.id};return[{txt:"编辑",text:!0,permission:"admin:web:funcGroup:update",route:{path:"/admin/funcGroupManageUpdate",query:r}},{txt:"删除",text:!0,permission:"admin:web:funcGroup:delete",methodConfirmText:`确定要删除 ${o.name} 吗？`,method(){return M(r).then(l=>(c(),Promise.resolve(l)))}}]};return(o,n)=>{const m=t("PtButton"),r=t("PtForm"),d=t("PtButtonGroup"),l=t("el-table-column"),g=t("PtTable"),v=t("PtRouteViewPopover");return h(),C(R,null,[e(r,{form:a.form,method:c,defaultButtonsShow:"submit,reset",submitAttrs:u.value,inline:"",comps:a.formComps},{buttons:s(()=>[e(m,{permission:"admin:web:funcGroup:create",route:"/admin/funcGroupManageAdd"},{default:s(()=>n[1]||(n[1]=[F("添加")])),_:1})]),_:1},8,["form","submitAttrs","comps"]),e(g,{ref_key:"tableRef",ref:i,"default-expand-all":"",dataMethod:b,onDataMethodDataLoading:n[0]||(n[0]=p=>u.value.loading=p),paginationProps:_,columns:a.tableColumns},{defaultAppend:s(()=>[e(l,{label:"操作",width:"180"},{default:s(({row:p,column:w,$index:x})=>[e(d,{options:P({row:p,column:w,$index:x})},null,8,["options"])]),_:1})]),_:1},8,["columns"]),e(v,{level:3})],64)}}});export{y as default};
