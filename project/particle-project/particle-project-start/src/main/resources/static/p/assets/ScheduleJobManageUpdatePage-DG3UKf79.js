import{u as h,h as f,i as b}from"./scheduleJobAdminApi-Be922fi8.js";import{d as g,a as P,r as m,b as S,o as y,g as M}from"./index-DMP92Tz2.js";const v=g({__name:"ScheduleJobManageUpdatePage",props:{schedulerName:{type:String},schedulerInstanceId:{type:String},name:{type:String},group:{type:String}},setup(u){const s=u,n=P({form:{oldName:s.name,oldGroup:s.group},formData:{}}),l=m(h),p=m({buttonText:"确认修改",permission:"schedule:job:update"}),d=o=>{let e={};for(let t in o)e[t]=o[t];let r=["httpHeaders","httpParams","dataMap","beanMethodParams"];for(let t=0;t<r.length;t++){let a=r[t];e[a]?e[a]=JSON.parse(e[a]):e[a]=null}return f(e)},c=()=>b({schedulerName:s.schedulerName,schedulerInstanceId:s.schedulerInstanceId,name:s.name,group:s.group}).then(o=>{let e=o.data.data,r=["httpHeaders","httpParams","dataMap","beanMethodParams"];for(let t=0;t<r.length;t++){let a=r[t];e[a]?e[a]=JSON.stringify(e[a]):e[a]=null}return Promise.resolve(o)}),i=()=>"修改成功，请刷新数据查看";return(o,e)=>{const r=S("PtForm");return y(),M(r,{form:n.form,formData:n.formData,labelWidth:"80",dataMethod:c,method:d,methodSuccess:i,defaultButtonsShow:"submit,reset",submitAttrs:p.value,buttonsTeleportProps:o.$route.meta.formButtonsTeleportProps,inline:"",comps:l.value},null,8,["form","formData","submitAttrs","buttonsTeleportProps","comps"])}}});export{v as default};
