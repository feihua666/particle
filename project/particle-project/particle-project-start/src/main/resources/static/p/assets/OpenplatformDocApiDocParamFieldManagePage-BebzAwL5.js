import{l as F,m as x}from"./openplatformDocCompItem-DcbYD-K_.js";import{p as T}from"./openplatformDocApiDocParamFieldManage-BnCN475X.js";import{d as h,r as b,a as C,b as r,o as B,c as R,e as o,w as p,f as d,F as M}from"./index-DY8PGGNe.js";import"./openplatformDocDirNameAdminApi-DDO2-ctf.js";import"./openplatformDocApiAdminApi-L_ivd8Nn.js";import"./openplatformDocApiDocTemplateAdminApi-Bv9ewCdM.js";import"./treeQueryComps-CWIG2rsy.js";const U=h({__name:"OpenplatformDocApiDocParamFieldManagePage",setup(O){const u=b(null),l=C({form:{},formComps:T,tableColumns:[{prop:"name",label:"字段名称"},{prop:"typeDictName",label:"字段类型"},{prop:"nestTypeDictName",label:"嵌套字段类型"},{prop:"parentName",label:"父级"},{prop:"isRequired",label:"是否一定有值",formatter:(t,e,a,m)=>a?"是":"否"},{prop:"explanation",label:"字段说明",showOverflowTooltip:!0},{prop:"defaultValue",label:"默认值"},{prop:"exampleValue",label:"示例值"},{prop:"maxLength",label:"最大长度"},{prop:"dictGroupDictName",label:"字典组"},{prop:"dictTemTags",label:"字典标签"},{prop:"openplatformDocApiName",label:"文档接口",showOverflowTooltip:!0},{prop:"openplatformDocApiCode",label:"文档接口编码",showOverflowTooltip:!0},{prop:"openplatformDocApiDocRequestUrl",label:"文档内容",showOverflowTooltip:!0},{prop:"categoryDictName",label:"分类"},{prop:"seq",label:"排序"}]}),n=b({buttonText:"查询",loading:!1,permission:"admin:web:openplatformDocApiDocParamField:pageQuery"}),c=()=>{u.value.refreshData()},D=({pageQuery:t})=>F({...l.form,...t}),P={permission:n.value.permission},A=({row:t,column:e,$index:a})=>a<0?[]:[{txt:"编辑",text:!0,permission:"admin:web:openplatformDocApiDocParamField:update",route:{path:"/admin/OpenplatformDocApiDocParamFieldManageUpdate",query:{id:t.id}}},{txt:"删除",text:!0,permission:"admin:web:openplatformDocApiDocParamField:delete",methodConfirmText:`确定要删除 ${t.name} 吗？`,method(){return x({id:t.id}).then(i=>(c(),Promise.resolve(i)))}}];return(t,e)=>{const a=r("PtButton"),m=r("PtForm"),f=r("PtButtonGroup"),i=r("el-table-column"),w=r("PtTable"),_=r("PtRouteViewPopover");return B(),R(M,null,[o(m,{form:l.form,method:c,defaultButtonsShow:"submit,reset",submitAttrs:n.value,inline:"",comps:l.formComps},{buttons:p(()=>[o(a,{permission:"admin:web:openplatformDocApiDocParamField:create",route:"/admin/OpenplatformDocApiDocParamFieldManageAdd"},{default:p(()=>e[1]||(e[1]=[d("添加")])),_:1}),o(a,{permission:"admin:web:openplatformDocApiDocParamField:create",route:"/admin/OpenplatformDocApiDocParamFieldManageParseAndAdd"},{default:p(()=>e[2]||(e[2]=[d("解析并添加")])),_:1}),o(a,{permission:"admin:web:openplatformDocApiDocParamField:delete",route:"/admin/openplatformDocApiDocParamFieldManageConditionDelete"},{default:p(()=>e[3]||(e[3]=[d("条件删除")])),_:1})]),_:1},8,["form","submitAttrs","comps"]),o(w,{ref_key:"tableRef",ref:u,"default-expand-all":"",dataMethod:D,onDataMethodDataLoading:e[0]||(e[0]=s=>n.value.loading=s),dataMethodResultHandleConvertToTree:!0,paginationProps:P,columns:l.tableColumns},{defaultAppend:p(()=>[o(i,{label:"操作",width:"180"},{default:p(({row:s,column:g,$index:v})=>[o(f,{options:A({row:s,column:g,$index:v})},null,8,["options"])]),_:1})]),_:1},8,["columns"]),o(_,{level:3})],64)}}});export{U as default};
