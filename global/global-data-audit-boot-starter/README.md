# 操作日志与数据审计功能支持
该模块依据spring aop功能，结合 @OpLog 注解，实现了在 service 或 controller 层（建议将注解注释到 controller 层方法上）全局拦截并打印日志的功能

默认日志记录为开启，可以以下通过配置来禁用，禁用后将不再自动装配日志记录模块
particle.dataaudit.enable=false

需要实现 OpLogRepository 接口以自定义持久化逻辑  

## 实现思路
本模块认为，系统业务日志分为两种
第一种是操作日志如：
1. 添加用户
2. 修改密码
3. 审批通过
第二种日志为操作数据审计日志如：
1. 针对以上添加用户具体涉及了什么数据
2. 修改用户 -> 数据修改前和修改后差异
第二种数据审计日志是对第一种的补充，第一种可以独立存在，第二种必须依附于第一种之上形成子级关系
   
另一个考虑是第一种操作日志如果在微服务中，涉及到远程调用，这就比较麻烦，本模块兼容了这种逻辑处理，并使其形成父子级关系即：总有一个根操作是从用户发起或系统定时触发
然后再拆分子操作，第一个操作都还有可能涉及数据审计
   
数据审计部分参考了 https://blog.csdn.net/ory001/article/details/124416899