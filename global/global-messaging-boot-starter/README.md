# 全局消息模块
消息主要常用于mq异步消息支持
基于cloud stream,消息生产与消息消费统一的使用方式，屏蔽了底层中间件的差异，
支持kafka与rabbitmq中间件。  
支持在不存在kafka与rabbitmq依赖时，本地异步消息处理（比如单机模式），
这使得整体框架与消息的集成使用一致，切换中间件不用修改代码成为可能。


#主要思路
使用一般发消息时，先将消息存储到消息到持久化表中（MessageEventRepository），默认提供了数据库实现，然后再通过消息发布器将消息发布到消息中间件。
消息消费时，通过中间件消息消费包装器统一处理消息消费，并记录消费消费情况（JdbcTemplateMessageEventConsumeRecorder），然后通知到消息消费实际处理器。  
所以依赖两个表，一个消息事件表，一个消息消费记录表（参见db目录两个表建表语句）