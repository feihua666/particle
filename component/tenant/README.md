# 租户组件

租户旨在解决用户具有相同的业务场景，但需要数据隔离的情况。
本项目中租户处理逻辑依赖mybatis plus的多租户插件支持。
租户与租户之间数据是隔离的，所以在每个表中都需要添加tenant_id租户字段以做数据隔离手段。
本项目中支持租户可以添加子租户，支持到10级子租户，但一般不建议超过3级。
总有一个特殊的地方不需要租户隔离，比如一些系统级别的配置数据，再比如整个系统的用户，一般来讲一个用户可以属于多个租户，
这样的好处是就算用户脱离其中一个租户照样能运行，因为一般意义上来讲，一个用户对一个租户的归属不是永恒的。
所以在涉及到多租户场景下，一定要考虑这些问题。
1. 系统级别的数据如果能够预见通用性极强，那么不需要隔离数据
2. 通用的数据，如字典数据或区域数据等，一般来讲具有一定的通用性，但不确定的是租户的个性需求，比如对字典的名称要求不同，那么可能需要独立隔离数据。
3. 其它的还没有想好暂时搁置

## 使用方法

在项目的 pom.xml 中引入依赖：

```xml
<dependency>
    <groupId>com.particle</groupId>
    <artifactId>tenant-boot-starter</artifactId>
    <version>${particle.version}</version>
</dependency>
```

## 核心组件

- 租户管理：管理系统中的租户定义和配置
- 租户用户管理：管理租户与用户之间的关联关系
- 租户功能应用管理：管理租户与功能应用之间的关联关系
- 租户功能菜单管理：管理租户与功能菜单之间的关联关系
- 租户创建申请管理：管理租户创建申请流程

## 菜单功能

### 租户管理
- 租户管理
  - 查询、创建、删除、修改租户
  - 租户分配功能应用
  - 一键添加租户

- 租户用户管理
  - 查询、创建、删除、修改租户用户关系

- 租户功能应用管理
  - 查询、创建、删除、修改租户功能应用关系
  - 租户应用分配功能菜单

- 租户功能菜单管理
  - 查询、创建、删除、修改租户功能菜单关系

- 租户创建申请管理
  - 查询、创建、删除、修改租户创建申请


## 自动配置

组件通过 [TenantAutoConfiguration](tenant-boot-starter/src/main/java/com/particle/tenant/TenantAutoConfiguration.java) 实现自动配置，
并扫描 `com.particle.tenant` 包下的组件，包括：
- Mapper接口：租户、租户创建申请、租户功能、租户功能应用、用户邀请相关的数据访问层接口
- 应用服务：tenant-app模块的应用服务类

该组件还集成了Swagger文档功能，提供了后端管理接口文档分组。
